import{s as jn,l as wr,n as Ve,r as Wn,o as $n,y as tn,d as Tt,f as qn,z as vr}from"../chunks/scheduler.mn11Loag.js";import{S as Zn,i as Jn,e as pe,s as He,y as le,m as nn,b as Xe,c as ye,d as te,h as Ye,g as j,z as ce,f as Ge,o as w,j as _e,k as Z,A as ht,B as rn,C as Oe,l as mt,D as ft,E as Mr,F as br,G as it,t as lt,n as Tr,a as Yt,H as Cr,u as kr,v as Dr,w as Ur,x as Nr,q as Sr}from"../chunks/index.DYGBFZIp.js";import{r as ke,d as zr,b as Ct}from"../chunks/paths.BDBuertq.js";function Ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ct(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Er(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qt(e){let t,n,r;e.length!==2?(t=ct,n=(a,l)=>ct(e(a),l),r=(a,l)=>e(a)-l):(t=e===ct||e===Er?e:Fr,n=e,r=e);function i(a,l,s=0,d=a.length){if(s<d){if(t(l,l)!==0)return d;do{const f=s+d>>>1;n(a[f],l)<0?s=f+1:d=f}while(s<d)}return s}function o(a,l,s=0,d=a.length){if(s<d){if(t(l,l)!==0)return d;do{const f=s+d>>>1;n(a[f],l)<=0?s=f+1:d=f}while(s<d)}return s}function u(a,l,s=0,d=a.length){const f=i(a,l,s,d-1);return f>s&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:u,right:o}}function Fr(){return 0}function Ar(e){return e===null?NaN:+e}const Hr=qt(ct),Yr=Hr.right;qt(Ar).center;function Lr(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}const Pr=Math.sqrt(50),Or=Math.sqrt(10),Ir=Math.sqrt(2);function gt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=Pr?10:o>=Or?5:o>=Ir?2:1;let a,l,s;return i<0?(s=Math.pow(10,-i)/u,a=Math.round(e*s),l=Math.round(t*s),a/s<e&&++a,l/s>t&&--l,s=-s):(s=Math.pow(10,i)*u,a=Math.round(e/s),l=Math.round(t/s),a*s<e&&++a,l*s>t&&--l),l<a&&.5<=n&&n<2?gt(e,t,n*2):[a,l,s]}function Rr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?gt(t,e,n):gt(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(u<0)for(let s=0;s<a;++s)l[s]=(o-s)/-u;else for(let s=0;s<a;++s)l[s]=(o-s)*u;else if(u<0)for(let s=0;s<a;++s)l[s]=(i+s)/-u;else for(let s=0;s<a;++s)l[s]=(i+s)*u;return l}function Lt(e,t,n){return t=+t,e=+e,n=+n,gt(e,t,n)[2]}function Pt(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Lt(t,e,n):Lt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Zt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tt(){}var Qe=.7,dt=1/Qe,Ie="\\s*([+-]?\\d+)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wr=/^#([0-9a-f]{3,8})$/,$r=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),qr=new RegExp(`^rgb\\(${we},${we},${we}\\)$`),Zr=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${Ke}\\)$`),Jr=new RegExp(`^rgba\\(${we},${we},${we},${Ke}\\)$`),Br=new RegExp(`^hsl\\(${Ke},${we},${we}\\)$`),Vr=new RegExp(`^hsla\\(${Ke},${we},${we},${Ke}\\)$`),on={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zt(tt,et,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:un,formatHex:un,formatHex8:Xr,formatHsl:Gr,formatRgb:an,toString:an});function un(){return this.rgb().formatHex()}function Xr(){return this.rgb().formatHex8()}function Gr(){return Vn(this).formatHsl()}function an(){return this.rgb().formatRgb()}function et(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sn(t):n===3?new me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ot(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ot(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$r.exec(e))?new me(t[1],t[2],t[3],1):(t=qr.exec(e))?new me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zr.exec(e))?ot(t[1],t[2],t[3],t[4]):(t=Jr.exec(e))?ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Br.exec(e))?cn(t[1],t[2]/100,t[3]/100,1):(t=Vr.exec(e))?cn(t[1],t[2]/100,t[3]/100,t[4]):on.hasOwnProperty(e)?sn(on[e]):e==="transparent"?new me(NaN,NaN,NaN,0):null}function sn(e){return new me(e>>16&255,e>>8&255,e&255,1)}function ot(e,t,n,r){return r<=0&&(e=t=n=NaN),new me(e,t,n,r)}function Qr(e){return e instanceof tt||(e=et(e)),e?(e=e.rgb(),new me(e.r,e.g,e.b,e.opacity)):new me}function Ot(e,t,n,r){return arguments.length===1?Qr(e):new me(e,t,n,r??1)}function me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Zt(me,Ot,Bn(tt,{brighter(e){return e=e==null?dt:Math.pow(dt,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new me(Ne(this.r),Ne(this.g),Ne(this.b),pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fn,formatHex:fn,formatHex8:Kr,formatRgb:ln,toString:ln}));function fn(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Kr(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function ln(){const e=pt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ne(this.r)}, ${Ne(this.g)}, ${Ne(this.b)}${e===1?")":`, ${e})`}`}function pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ne(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ue(e){return e=Ne(e),(e<16?"0":"")+e.toString(16)}function cn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function Vn(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof tt||(e=et(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,a=o-i,l=(o+i)/2;return a?(t===o?u=(n-r)/a+(n<r)*6:n===o?u=(r-t)/a+2:u=(t-n)/a+4,a/=l<.5?o+i:2-o-i,u*=60):a=l>0&&l<1?0:u,new xe(u,a,l,e.opacity)}function ei(e,t,n,r){return arguments.length===1?Vn(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Zt(xe,ei,Bn(tt,{brighter(e){return e=e==null?dt:Math.pow(dt,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new me(kt(e>=240?e-240:e+120,i,r),kt(e,i,r),kt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xe(hn(this.h),ut(this.s),ut(this.l),pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pt(this.opacity);return`${e===1?"hsl(":"hsla("}${hn(this.h)}, ${ut(this.s)*100}%, ${ut(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hn(e){return e=(e||0)%360,e<0?e+360:e}function ut(e){return Math.max(0,Math.min(1,e||0))}function kt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jt=e=>()=>e;function ti(e,t){return function(n){return e+n*t}}function ni(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ri(e){return(e=+e)==1?Xn:function(t,n){return n-t?ni(t,n,e):Jt(isNaN(t)?n:t)}}function Xn(e,t){var n=t-e;return n?ti(e,n):Jt(isNaN(e)?t:e)}const mn=function e(t){var n=ri(t);function r(i,o){var u=n((i=Ot(i)).r,(o=Ot(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),s=Xn(i.opacity,o.opacity);return function(d){return i.r=u(d),i.g=a(d),i.b=l(d),i.opacity=s(d),i+""}}return r.gamma=e,r}(1);function ii(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function oi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ui(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=Bt(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(a){for(u=0;u<r;++u)o[u]=i[u](a);return o}}function ai(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function si(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bt(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var It=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dt=new RegExp(It.source,"g");function fi(e){return function(){return e}}function li(e){return function(t){return e(t)+""}}function ci(e,t){var n=It.lastIndex=Dt.lastIndex=0,r,i,o,u=-1,a=[],l=[];for(e=e+"",t=t+"";(r=It.exec(e))&&(i=Dt.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[u]?a[u]+=o:a[++u]=o),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,l.push({i:u,x:yt(r,i)})),n=Dt.lastIndex;return n<t.length&&(o=t.slice(n),a[u]?a[u]+=o:a[++u]=o),a.length<2?l[0]?li(l[0].x):fi(t):(t=l.length,function(s){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(s);return a.join("")})}function Bt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Jt(t):(n==="number"?yt:n==="string"?(r=et(t))?(t=r,mn):ci:t instanceof et?mn:t instanceof Date?ai:oi(t)?ii:Array.isArray(t)?ui:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?si:yt)(e,t)}function hi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Rt=Math.PI,jt=2*Rt,De=1e-6,mi=jt-De;function Gn(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gi(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Gn;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class di{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Gn:gi(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,a=this._y1,l=r-t,s=i-n,d=u-t,f=a-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>De)if(!(Math.abs(f*l-s*d)>De)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let C=r-u,M=i-a,D=l*l+s*s,Y=C*C+M*M,F=Math.sqrt(D),P=Math.sqrt(m),b=o*Math.tan((Rt-Math.acos((D+m-Y)/(2*F*P)))/2),x=b/P,L=b/F;Math.abs(x-1)>De&&this._append`L${t+x*d},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*C>d*M)},${this._x1=t+L*l},${this._y1=n+L*s}`}}arc(t,n,r,i,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),s=t+a,d=n+l,f=1^u,m=u?i-o:o-i;this._x1===null?this._append`M${s},${d}`:(Math.abs(this._x1-s)>De||Math.abs(this._y1-d)>De)&&this._append`L${s},${d}`,r&&(m<0&&(m=m%jt+jt),m>mi?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=s},${this._y1=d}`:m>De&&this._append`A${r},${r},0,${+(m>=Rt)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var gn={},Ut={},Nt=34,$e=10,St=13;function Qn(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function pi(e,t){var n=Qn(e);return function(r,i){return t(n(r),i,e)}}function dn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function he(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function yi(e){return e<0?"-"+he(-e,6):e>9999?"+"+he(e,6):he(e,4)}function xi(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":yi(e.getUTCFullYear())+"-"+he(e.getUTCMonth()+1,2)+"-"+he(e.getUTCDate(),2)+(i?"T"+he(t,2)+":"+he(n,2)+":"+he(r,2)+"."+he(i,3)+"Z":r?"T"+he(t,2)+":"+he(n,2)+":"+he(r,2)+"Z":n||t?"T"+he(t,2)+":"+he(n,2)+"Z":"")}function _i(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,m){var C,M,D=i(f,function(Y,F){if(C)return C(Y,F-1);M=Y,C=m?pi(Y,m):Qn(Y)});return D.columns=M||[],D}function i(f,m){var C=[],M=f.length,D=0,Y=0,F,P=M<=0,b=!1;f.charCodeAt(M-1)===$e&&--M,f.charCodeAt(M-1)===St&&--M;function x(){if(P)return Ut;if(b)return b=!1,gn;var h,U=D,z;if(f.charCodeAt(U)===Nt){for(;D++<M&&f.charCodeAt(D)!==Nt||f.charCodeAt(++D)===Nt;);return(h=D)>=M?P=!0:(z=f.charCodeAt(D++))===$e?b=!0:z===St&&(b=!0,f.charCodeAt(D)===$e&&++D),f.slice(U+1,h-1).replace(/""/g,'"')}for(;D<M;){if((z=f.charCodeAt(h=D++))===$e)b=!0;else if(z===St)b=!0,f.charCodeAt(D)===$e&&++D;else if(z!==n)continue;return f.slice(U,h)}return P=!0,f.slice(U,M)}for(;(F=x())!==Ut;){for(var L=[];F!==gn&&F!==Ut;)L.push(F),F=x();m&&(L=m(L,Y++))==null||C.push(L)}return C}function o(f,m){return f.map(function(C){return m.map(function(M){return d(C[M])}).join(e)})}function u(f,m){return m==null&&(m=dn(f)),[m.map(d).join(e)].concat(o(f,m)).join(`
`)}function a(f,m){return m==null&&(m=dn(f)),o(f,m).join(`
`)}function l(f){return f.map(s).join(`
`)}function s(f){return f.map(d).join(e)}function d(f){return f==null?"":f instanceof Date?xi(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:u,formatBody:a,formatRows:l,formatRow:s,formatValue:d}}var Kn=_i(","),wi=Kn.parse,pn=Kn.parseRows;function vi(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Re(e){return e=xt(Math.abs(e)),e?e[1]:NaN}function Mi(e,t){return function(n,r){for(var i=n.length,o=[],u=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[u=(u+1)%e.length];return o.reverse().join(t)}}function bi(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ti=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _t(e){if(!(t=Ti.exec(e)))throw new Error("invalid format: "+e);var t;return new Vt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_t.prototype=Vt.prototype;function Vt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ci(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var er;function ki(e,t){var n=xt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(er=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xt(e,Math.max(0,t+o-1))[0]}function yn(e,t){var n=xt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vi,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yn(e*100,t),r:yn,s:ki,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _n(e){return e}var wn=Array.prototype.map,vn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Di(e){var t=e.grouping===void 0||e.thousands===void 0?_n:Mi(wn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?_n:bi(wn.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function s(f){f=_t(f);var m=f.fill,C=f.align,M=f.sign,D=f.symbol,Y=f.zero,F=f.width,P=f.comma,b=f.precision,x=f.trim,L=f.type;L==="n"?(P=!0,L="g"):xn[L]||(b===void 0&&(b=12),x=!0,L="g"),(Y||m==="0"&&C==="=")&&(Y=!0,m="0",C="=");var h=D==="$"?n:D==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",U=D==="$"?r:/[%p]/.test(L)?u:"",z=xn[L],I=/[defgprs%]/.test(L);b=b===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(H){var J=h,G=U,$,se,ue;if(L==="c")G=z(H)+G,H="";else{H=+H;var re=H<0||1/H<0;if(H=isNaN(H)?l:z(Math.abs(H),b),x&&(H=Ci(H)),re&&+H==0&&M!=="+"&&(re=!1),J=(re?M==="("?M:a:M==="-"||M==="("?"":M)+J,G=(L==="s"?vn[8+er/3]:"")+G+(re&&M==="("?")":""),I){for($=-1,se=H.length;++$<se;)if(ue=H.charCodeAt($),48>ue||ue>57){G=(ue===46?i+H.slice($+1):H.slice($))+G,H=H.slice(0,$);break}}}P&&!Y&&(H=t(H,1/0));var X=J.length+H.length+G.length,B=X<F?new Array(F-X+1).join(m):"";switch(P&&Y&&(H=t(B+H,B.length?F-G.length:1/0),B=""),C){case"<":H=J+H+G+B;break;case"=":H=J+B+H+G;break;case"^":H=B.slice(0,X=B.length>>1)+J+H+G+B.slice(X);break;default:H=B+J+H+G;break}return o(H)}return R.toString=function(){return f+""},R}function d(f,m){var C=s((f=_t(f),f.type="f",f)),M=Math.max(-8,Math.min(8,Math.floor(Re(m)/3)))*3,D=Math.pow(10,-M),Y=vn[8+M/3];return function(F){return C(D*F)+Y}}return{format:s,formatPrefix:d}}var at,tr,nr;Ui({thousands:",",grouping:[3],currency:["$",""]});function Ui(e){return at=Di(e),tr=at.format,nr=at.formatPrefix,at}function Ni(e){return Math.max(0,-Re(Math.abs(e)))}function Si(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Re(t)/3)))*3-Re(Math.abs(e)))}function zi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Re(t)-Re(e))+1}function rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ei(e){return function(){return e}}function Fi(e){return+e}var Mn=[0,1];function Le(e){return e}function Wt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ei(isNaN(t)?NaN:.5)}function Ai(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Hi(e,t,n){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=Wt(i,r),o=n(u,o)):(r=Wt(r,i),o=n(o,u)),function(a){return o(r(a))}}function Yi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Wt(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(a){var l=Yr(e,a,1,r)-1;return o[l](i[l](a))}}function ir(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Li(){var e=Mn,t=Mn,n=Bt,r,i,o,u=Le,a,l,s;function d(){var m=Math.min(e.length,t.length);return u!==Le&&(u=Ai(e[0],e[m-1])),a=m>2?Yi:Hi,l=s=null,f}function f(m){return m==null||isNaN(m=+m)?o:(l||(l=a(e.map(r),t,n)))(r(u(m)))}return f.invert=function(m){return u(i((s||(s=a(t,e.map(r),yt)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Fi),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=hi,d()},f.clamp=function(m){return arguments.length?(u=m?!0:Le,d()):u!==Le},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(o=m,f):o},function(m,C){return r=m,i=C,d()}}function or(){return Li()(Le,Le)}function Pi(e,t,n,r){var i=Pt(e,t,n),o;switch(r=_t(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Si(i,u))&&(r.precision=o),nr(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zi(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ni(i))&&(r.precision=o-(r.type==="%")*2);break}}return tr(r)}function Oi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Rr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Pi(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,u=r[i],a=r[o],l,s,d=10;for(a<u&&(s=u,u=a,a=s,s=i,i=o,o=s);d-- >0;){if(s=Lt(u,a,n),s===l)return r[i]=u,r[o]=a,t(r);if(s>0)u=Math.floor(u/s)*s,a=Math.ceil(a/s)*s;else if(s<0)u=Math.ceil(u*s)/s,a=Math.floor(a*s)/s;else break;l=s}return e},e}function $t(){var e=or();return e.copy=function(){return ir(e,$t())},rr.apply(e,arguments),Oi(e)}function Ii(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),e[n]=t.floor(i),e[r]=t.ceil(o),e}const zt=new Date,Et=new Date;function ne(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const u=i(o),a=i.ceil(o);return o-u<a-o?u:a},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<u)||!(a>0))return l;let s;do l.push(s=new Date(+o)),t(o,a),e(o);while(s<o&&o<u);return l},i.filter=o=>ne(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,a)=>{if(u>=u)if(a<0)for(;++a<=0;)for(;t(u,-1),!o(u););else for(;--a>=0;)for(;t(u,1),!o(u););}),n&&(i.count=(o,u)=>(zt.setTime(+o),Et.setTime(+u),e(zt),e(Et),Math.floor(n(zt,Et))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const wt=ne(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ne(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wt);wt.range;const ve=1e3,de=ve*60,Me=de*60,be=Me*24,Xt=be*7,bn=be*30,Ft=be*365,Pe=ne(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCSeconds());Pe.range;const Gt=ne(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ve)},(e,t)=>{e.setTime(+e+t*de)},(e,t)=>(t-e)/de,e=>e.getMinutes());Gt.range;const Ri=ne(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*de)},(e,t)=>(t-e)/de,e=>e.getUTCMinutes());Ri.range;const Qt=ne(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ve-e.getMinutes()*de)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getHours());Qt.range;const ji=ne(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getUTCHours());ji.range;const nt=ne(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*de)/be,e=>e.getDate()-1);nt.range;const Kt=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/be,e=>e.getUTCDate()-1);Kt.range;const Wi=ne(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/be,e=>Math.floor(e/be));Wi.range;function ze(e){return ne(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*de)/Xt)}const bt=ze(0),vt=ze(1),$i=ze(2),qi=ze(3),je=ze(4),Zi=ze(5),Ji=ze(6);bt.range;vt.range;$i.range;qi.range;je.range;Zi.range;Ji.range;function Ee(e){return ne(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Xt)}const ur=Ee(0),Mt=Ee(1),Bi=Ee(2),Vi=Ee(3),We=Ee(4),Xi=Ee(5),Gi=Ee(6);ur.range;Mt.range;Bi.range;Vi.range;We.range;Xi.range;Gi.range;const en=ne(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());en.range;const Qi=ne(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qi.range;const Te=ne(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Te.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Te.range;const Se=ne(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Se.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ne(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Se.range;function Ki(e,t,n,r,i,o){const u=[[Pe,1,ve],[Pe,5,5*ve],[Pe,15,15*ve],[Pe,30,30*ve],[o,1,de],[o,5,5*de],[o,15,15*de],[o,30,30*de],[i,1,Me],[i,3,3*Me],[i,6,6*Me],[i,12,12*Me],[r,1,be],[r,2,2*be],[n,1,Xt],[t,1,bn],[t,3,3*bn],[e,1,Ft]];function a(s,d,f){const m=d<s;m&&([s,d]=[d,s]);const C=f&&typeof f.range=="function"?f:l(s,d,f),M=C?C.range(s,+d+1):[];return m?M.reverse():M}function l(s,d,f){const m=Math.abs(d-s)/f,C=qt(([,,Y])=>Y).right(u,m);if(C===u.length)return e.every(Pt(s/Ft,d/Ft,f));if(C===0)return wt.every(Math.max(Pt(s,d,f),1));const[M,D]=u[m/u[C-1][2]<u[C][2]/m?C-1:C];return M.every(D)}return[a,l]}const[eo,to]=Ki(Te,en,bt,nt,Qt,Gt);function At(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ht(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function no(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,u=e.shortDays,a=e.months,l=e.shortMonths,s=Ze(i),d=Je(i),f=Ze(o),m=Je(o),C=Ze(u),M=Je(u),D=Ze(a),Y=Je(a),F=Ze(l),P=Je(l),b={a:re,A:X,b:B,B:fe,c:null,d:Nn,e:Nn,f:ko,g:Yo,G:Po,H:bo,I:To,j:Co,L:ar,m:Do,M:Uo,p:_,q:v,Q:En,s:Fn,S:No,u:So,U:zo,V:Eo,w:Fo,W:Ao,x:null,X:null,y:Ho,Y:Lo,Z:Oo,"%":zn},x={a:A,A:y,b:N,B:S,c:null,d:Sn,e:Sn,f:Wo,g:Ko,G:tu,H:Io,I:Ro,j:jo,L:fr,m:$o,M:qo,p,q:k,Q:En,s:Fn,S:Zo,u:Jo,U:Bo,V:Vo,w:Xo,W:Go,x:null,X:null,y:Qo,Y:eu,Z:nu,"%":zn},L={a:R,A:H,b:J,B:G,c:$,d:Dn,e:Dn,f:_o,g:kn,G:Cn,H:Un,I:Un,j:go,L:xo,m:mo,M:po,p:I,q:ho,Q:vo,s:Mo,S:yo,u:ao,U:so,V:fo,w:uo,W:lo,x:se,X:ue,y:kn,Y:Cn,Z:co,"%":wo};b.x=h(n,b),b.X=h(r,b),b.c=h(t,b),x.x=h(n,x),x.X=h(r,x),x.c=h(t,x);function h(c,T){return function(E){var g=[],q=-1,O=0,V=c.length,Q,K,ae;for(E instanceof Date||(E=new Date(+E));++q<V;)c.charCodeAt(q)===37&&(g.push(c.slice(O,q)),(K=Tn[Q=c.charAt(++q)])!=null?Q=c.charAt(++q):K=Q==="e"?" ":"0",(ae=T[Q])&&(Q=ae(E,K)),g.push(Q),O=q+1);return g.push(c.slice(O,q)),g.join("")}}function U(c,T){return function(E){var g=qe(1900,void 0,1),q=z(g,c,E+="",0),O,V;if(q!=E.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(g.s*1e3+("L"in g?g.L:0));if(T&&!("Z"in g)&&(g.Z=0),"p"in g&&(g.H=g.H%12+g.p*12),g.m===void 0&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(O=Ht(qe(g.y,0,1)),V=O.getUTCDay(),O=V>4||V===0?Mt.ceil(O):Mt(O),O=Kt.offset(O,(g.V-1)*7),g.y=O.getUTCFullYear(),g.m=O.getUTCMonth(),g.d=O.getUTCDate()+(g.w+6)%7):(O=At(qe(g.y,0,1)),V=O.getDay(),O=V>4||V===0?vt.ceil(O):vt(O),O=nt.offset(O,(g.V-1)*7),g.y=O.getFullYear(),g.m=O.getMonth(),g.d=O.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),V="Z"in g?Ht(qe(g.y,0,1)).getUTCDay():At(qe(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+g.W*7-(V+5)%7:g.w+g.U*7-(V+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Ht(g)):At(g)}}function z(c,T,E,g){for(var q=0,O=T.length,V=E.length,Q,K;q<O;){if(g>=V)return-1;if(Q=T.charCodeAt(q++),Q===37){if(Q=T.charAt(q++),K=L[Q in Tn?T.charAt(q++):Q],!K||(g=K(c,E,g))<0)return-1}else if(Q!=E.charCodeAt(g++))return-1}return g}function I(c,T,E){var g=s.exec(T.slice(E));return g?(c.p=d.get(g[0].toLowerCase()),E+g[0].length):-1}function R(c,T,E){var g=C.exec(T.slice(E));return g?(c.w=M.get(g[0].toLowerCase()),E+g[0].length):-1}function H(c,T,E){var g=f.exec(T.slice(E));return g?(c.w=m.get(g[0].toLowerCase()),E+g[0].length):-1}function J(c,T,E){var g=F.exec(T.slice(E));return g?(c.m=P.get(g[0].toLowerCase()),E+g[0].length):-1}function G(c,T,E){var g=D.exec(T.slice(E));return g?(c.m=Y.get(g[0].toLowerCase()),E+g[0].length):-1}function $(c,T,E){return z(c,t,T,E)}function se(c,T,E){return z(c,n,T,E)}function ue(c,T,E){return z(c,r,T,E)}function re(c){return u[c.getDay()]}function X(c){return o[c.getDay()]}function B(c){return l[c.getMonth()]}function fe(c){return a[c.getMonth()]}function _(c){return i[+(c.getHours()>=12)]}function v(c){return 1+~~(c.getMonth()/3)}function A(c){return u[c.getUTCDay()]}function y(c){return o[c.getUTCDay()]}function N(c){return l[c.getUTCMonth()]}function S(c){return a[c.getUTCMonth()]}function p(c){return i[+(c.getUTCHours()>=12)]}function k(c){return 1+~~(c.getUTCMonth()/3)}return{format:function(c){var T=h(c+="",b);return T.toString=function(){return c},T},parse:function(c){var T=U(c+="",!1);return T.toString=function(){return c},T},utcFormat:function(c){var T=h(c+="",x);return T.toString=function(){return c},T},utcParse:function(c){var T=U(c+="",!0);return T.toString=function(){return c},T}}}var Tn={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,ro=/^%/,io=/[\\^$*+?|[\]().{}]/g;function W(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function oo(e){return e.replace(io,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map(oo).join("|")+")","i")}function Je(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function uo(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ao(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function so(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fo(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lo(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Cn(e,t,n){var r=oe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function kn(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function co(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ho(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mo(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Dn(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function go(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Un(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function po(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yo(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xo(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _o(e,t,n){var r=oe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wo(e,t,n){var r=ro.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vo(e,t,n){var r=oe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mo(e,t,n){var r=oe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Nn(e,t){return W(e.getDate(),t,2)}function bo(e,t){return W(e.getHours(),t,2)}function To(e,t){return W(e.getHours()%12||12,t,2)}function Co(e,t){return W(1+nt.count(Te(e),e),t,3)}function ar(e,t){return W(e.getMilliseconds(),t,3)}function ko(e,t){return ar(e,t)+"000"}function Do(e,t){return W(e.getMonth()+1,t,2)}function Uo(e,t){return W(e.getMinutes(),t,2)}function No(e,t){return W(e.getSeconds(),t,2)}function So(e){var t=e.getDay();return t===0?7:t}function zo(e,t){return W(bt.count(Te(e)-1,e),t,2)}function sr(e){var t=e.getDay();return t>=4||t===0?je(e):je.ceil(e)}function Eo(e,t){return e=sr(e),W(je.count(Te(e),e)+(Te(e).getDay()===4),t,2)}function Fo(e){return e.getDay()}function Ao(e,t){return W(vt.count(Te(e)-1,e),t,2)}function Ho(e,t){return W(e.getFullYear()%100,t,2)}function Yo(e,t){return e=sr(e),W(e.getFullYear()%100,t,2)}function Lo(e,t){return W(e.getFullYear()%1e4,t,4)}function Po(e,t){var n=e.getDay();return e=n>=4||n===0?je(e):je.ceil(e),W(e.getFullYear()%1e4,t,4)}function Oo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+W(t/60|0,"0",2)+W(t%60,"0",2)}function Sn(e,t){return W(e.getUTCDate(),t,2)}function Io(e,t){return W(e.getUTCHours(),t,2)}function Ro(e,t){return W(e.getUTCHours()%12||12,t,2)}function jo(e,t){return W(1+Kt.count(Se(e),e),t,3)}function fr(e,t){return W(e.getUTCMilliseconds(),t,3)}function Wo(e,t){return fr(e,t)+"000"}function $o(e,t){return W(e.getUTCMonth()+1,t,2)}function qo(e,t){return W(e.getUTCMinutes(),t,2)}function Zo(e,t){return W(e.getUTCSeconds(),t,2)}function Jo(e){var t=e.getUTCDay();return t===0?7:t}function Bo(e,t){return W(ur.count(Se(e)-1,e),t,2)}function lr(e){var t=e.getUTCDay();return t>=4||t===0?We(e):We.ceil(e)}function Vo(e,t){return e=lr(e),W(We.count(Se(e),e)+(Se(e).getUTCDay()===4),t,2)}function Xo(e){return e.getUTCDay()}function Go(e,t){return W(Mt.count(Se(e)-1,e),t,2)}function Qo(e,t){return W(e.getUTCFullYear()%100,t,2)}function Ko(e,t){return e=lr(e),W(e.getUTCFullYear()%100,t,2)}function eu(e,t){return W(e.getUTCFullYear()%1e4,t,4)}function tu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?We(e):We.ceil(e),W(e.getUTCFullYear()%1e4,t,4)}function nu(){return"+0000"}function zn(){return"%"}function En(e){return+e}function Fn(e){return Math.floor(+e/1e3)}var Ae,cr;ru({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ru(e){return Ae=no(e),cr=Ae.format,Ae.parse,Ae.utcFormat,Ae.utcParse,Ae}function iu(e){return new Date(e)}function ou(e){return e instanceof Date?+e:+new Date(+e)}function hr(e,t,n,r,i,o,u,a,l,s){var d=or(),f=d.invert,m=d.domain,C=s(".%L"),M=s(":%S"),D=s("%I:%M"),Y=s("%I %p"),F=s("%a %d"),P=s("%b %d"),b=s("%B"),x=s("%Y");function L(h){return(l(h)<h?C:a(h)<h?M:u(h)<h?D:o(h)<h?Y:r(h)<h?i(h)<h?F:P:n(h)<h?b:x)(h)}return d.invert=function(h){return new Date(f(h))},d.domain=function(h){return arguments.length?m(Array.from(h,ou)):m().map(iu)},d.ticks=function(h){var U=m();return e(U[0],U[U.length-1],h??10)},d.tickFormat=function(h,U){return U==null?L:s(U)},d.nice=function(h){var U=m();return(!h||typeof h.range!="function")&&(h=t(U[0],U[U.length-1],h??10)),h?m(Ii(U,h)):d},d.copy=function(){return ir(d,hr(e,t,n,r,i,o,u,a,l,s))},d}function uu(){return rr.apply(hr(eo,to,Te,en,bt,nt,Qt,Gt,Pe,cr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ie(e){return function(){return e}}function mr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new di(t)}function gr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dr(e){this._context=e}dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pr(e){return new dr(e)}function yr(e){return e[0]}function xr(e){return e[1]}function au(e,t){var n=ie(!0),r=null,i=pr,o=null,u=mr(a);e=typeof e=="function"?e:e===void 0?yr:ie(e),t=typeof t=="function"?t:t===void 0?xr:ie(t);function a(l){var s,d=(l=gr(l)).length,f,m=!1,C;for(r==null&&(o=i(C=u())),s=0;s<=d;++s)!(s<d&&n(f=l[s],s,l))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(f,s,l),+t(f,s,l));if(C)return o=null,C+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ie(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ie(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ie(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function su(e,t,n){var r=null,i=ie(!0),o=null,u=pr,a=null,l=mr(s);e=typeof e=="function"?e:e===void 0?yr:ie(+e),t=typeof t=="function"?t:ie(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xr:ie(+n);function s(f){var m,C,M,D=(f=gr(f)).length,Y,F=!1,P,b=new Array(D),x=new Array(D);for(o==null&&(a=u(P=l())),m=0;m<=D;++m){if(!(m<D&&i(Y=f[m],m,f))===F)if(F=!F)C=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),M=m-1;M>=C;--M)a.point(b[M],x[M]);a.lineEnd(),a.areaEnd()}F&&(b[m]=+e(Y,m,f),x[m]=+t(Y,m,f),a.point(r?+r(Y,m,f):b[m],n?+n(Y,m,f):x[m]))}if(P)return a=null,P+""||null}function d(){return au().defined(i).curve(u).context(o)}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:ie(+f),r=null,s):e},s.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ie(+f),s):e},s.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ie(+f),s):r},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:ie(+f),n=null,s):t},s.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ie(+f),s):t},s.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ie(+f),s):n},s.lineX0=s.lineY0=function(){return d().x(e).y(t)},s.lineY1=function(){return d().x(e).y(n)},s.lineX1=function(){return d().x(r).y(t)},s.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ie(!!f),s):i},s.curve=function(f){return arguments.length?(u=f,o!=null&&(a=u(o)),s):u},s.context=function(f){return arguments.length?(f==null?o=a=null:a=u(o=f),s):o},s}function Be(e,t,n){this.k=e,this.x=t,this.y=n}Be.prototype={constructor:Be,scale:function(e){return e===1?this:new Be(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Be(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Be.prototype;function fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _r={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,i=Math.cos,o=Math.tan,u=Math.asin,a=Math.atan2,l=Math.acos,s=n/180,d=1e3*60*60*24,f=2440588,m=2451545;function C(_){return _.valueOf()/d-.5+f}function M(_){return new Date((_+.5-f)*d)}function D(_){return C(_)-m}var Y=s*23.4397;function F(_,v){return a(r(_)*i(Y)-o(v)*r(Y),i(_))}function P(_,v){return u(r(v)*i(Y)+i(v)*r(Y)*r(_))}function b(_,v,A){return a(r(_),i(_)*r(v)-o(A)*i(v))}function x(_,v,A){return u(r(v)*r(A)+i(v)*i(A)*i(_))}function L(_,v){return s*(280.16+360.9856235*_)-v}function h(_){return _<0&&(_=0),2967e-7/Math.tan(_+.00312536/(_+.08901179))}function U(_){return s*(357.5291+.98560028*_)}function z(_){var v=s*(1.9148*r(_)+.02*r(2*_)+3e-4*r(3*_)),A=s*102.9372;return _+v+A+n}function I(_){var v=U(_),A=z(v);return{dec:P(A,0),ra:F(A,0)}}var R={};R.getPosition=function(_,v,A){var y=s*-A,N=s*v,S=D(_),p=I(S),k=L(S,y)-p.ra;return{azimuth:b(k,N,p.dec),altitude:x(k,N,p.dec)}};var H=R.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];R.addTime=function(_,v,A){H.push([_,v,A])};var J=9e-4;function G(_,v){return Math.round(_-J-v/(2*n))}function $(_,v,A){return J+(_+v)/(2*n)+A}function se(_,v,A){return m+_+.0053*r(v)-.0069*r(2*A)}function ue(_,v,A){return l((r(_)-r(v)*r(A))/(i(v)*i(A)))}function re(_){return-2.076*Math.sqrt(_)/60}function X(_,v,A,y,N,S,p){var k=ue(_,A,y),c=$(k,v,N);return se(c,S,p)}R.getTimes=function(_,v,A,y){y=y||0;var N=s*-A,S=s*v,p=re(y),k=D(_),c=G(k,N),T=$(0,N,c),E=U(T),g=z(E),q=P(g,0),O=se(T,E,g),V,Q,K,ae,ee,Fe,ge={solarNoon:M(O),nadir:M(O-.5)};for(V=0,Q=H.length;V<Q;V+=1)K=H[V],ae=(K[0]+p)*s,ee=X(ae,N,S,q,c,E,g),Fe=O-(ee-O),ge[K[1]]=M(Fe),ge[K[2]]=M(ee);return ge};function B(_){var v=s*(218.316+13.176396*_),A=s*(134.963+13.064993*_),y=s*(93.272+13.22935*_),N=v+s*6.289*r(A),S=s*5.128*r(y),p=385001-20905*i(A);return{ra:F(N,S),dec:P(N,S),dist:p}}R.getMoonPosition=function(_,v,A){var y=s*-A,N=s*v,S=D(_),p=B(S),k=L(S,y)-p.ra,c=x(k,N,p.dec),T=a(r(k),o(N)*i(p.dec)-r(p.dec)*i(k));return c=c+h(c),{azimuth:b(k,N,p.dec),altitude:c,distance:p.dist,parallacticAngle:T}},R.getMoonIllumination=function(_){var v=D(_||new Date),A=I(v),y=B(v),N=149598e3,S=l(r(A.dec)*r(y.dec)+i(A.dec)*i(y.dec)*i(A.ra-y.ra)),p=a(N*r(S),y.dist-N*i(S)),k=a(i(A.dec)*r(A.ra-y.ra),r(A.dec)*i(y.dec)-i(A.dec)*r(y.dec)*i(A.ra-y.ra));return{fraction:(1+i(p))/2,phase:.5+.5*p*(k<0?-1:1)/Math.PI,angle:k}};function fe(_,v){return new Date(_.valueOf()+v*d/24)}R.getMoonTimes=function(_,v,A,y){var N=new Date(_);y?N.setUTCHours(0,0,0,0):N.setHours(0,0,0,0);for(var S=.133*s,p=R.getMoonPosition(N,v,A).altitude-S,k,c,T,E,g,q,O,V,Q,K,ae,ee,Fe,ge=1;ge<=24&&(k=R.getMoonPosition(fe(N,ge),v,A).altitude-S,c=R.getMoonPosition(fe(N,ge+1),v,A).altitude-S,g=(p+c)/2-k,q=(c-p)/2,O=-q/(2*g),V=(g*O+q)*O+k,Q=q*q-4*g*k,K=0,Q>=0&&(Fe=Math.sqrt(Q)/(Math.abs(g)*2),ae=O-Fe,ee=O+Fe,Math.abs(ae)<=1&&K++,Math.abs(ee)<=1&&K++,ae<-1&&(ae=ee)),K===1?p<0?T=ge+ae:E=ge+ae:K===2&&(T=ge+(V<0?ee:ae),E=ge+(V<0?ae:ee)),!(T&&E));ge+=2)p=c;var rt={};return T&&(rt.rise=fe(N,T)),E&&(rt.set=fe(N,E)),!T&&!E&&(rt[V>0?"alwaysUp":"alwaysDown"]=!0),rt},e.exports=R})()})(_r);var lu=_r.exports;const st=fu(lu);function An(e,t,n){const r=e.slice();return r[31]=t[n],r}function Hn(e,t,n){const r=e.slice();return r[31]=t[n],r}function Yn(e,t,n){const r=e.slice();return r[36]=t[n],r}function Ln(e){let t,n=e[36]+"",r,i;return{c(){t=pe("option"),r=Xe(n),this.h()},l(o){t=ye(o,"OPTION",{});var u=te(t);r=Ge(u,n),u.forEach(j),this.h()},h(){t.__value=i=e[36],ht(t,t.__value)},m(o,u){_e(o,t,u),Z(t,r)},p(o,u){u[0]&65536&&n!==(n=o[36]+"")&&mt(r,n),u[0]&65536&&i!==(i=o[36])&&(t.__value=i,ht(t,t.__value))},d(o){o&&j(t)}}}function Pn(e){let t,n,r,i,o,u;return{c(){t=le("line"),this.h()},l(a){t=ce(a,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),te(t).forEach(j),this.h()},h(){w(t,"class",n=tn(`${e[12](e[31])?"midnight":""}`)+" svelte-s3iwpi"),w(t,"x1",r=e[7](e[31])),w(t,"x2",i=e[7](e[31])),w(t,"y1",o=e[8](0)),w(t,"y2",u=e[8](1))},m(a,l){_e(a,t,l)},p(a,l){l[0]&4104&&n!==(n=tn(`${a[12](a[31])?"midnight":""}`)+" svelte-s3iwpi")&&w(t,"class",n),l[0]&136&&r!==(r=a[7](a[31]))&&w(t,"x1",r),l[0]&136&&i!==(i=a[7](a[31]))&&w(t,"x2",i),l[0]&256&&o!==(o=a[8](0))&&w(t,"y1",o),l[0]&256&&u!==(u=a[8](1))&&w(t,"y2",u)},d(a){a&&j(t)}}}function On(e){let t,n=e[14](e[31])+"",r,i,o;return{c(){t=le("text"),r=Xe(n),this.h()},l(u){t=ce(u,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var a=te(t);r=Ge(a,n),a.forEach(j),this.h()},h(){w(t,"x",i=e[7](e[31])),w(t,"y",o=e[8](1)),w(t,"dy","1em"),w(t,"text-anchor","start"),w(t,"class","svelte-s3iwpi")},m(u,a){_e(u,t,a),Z(t,r)},p(u,a){a[0]&17408&&n!==(n=u[14](u[31])+"")&&mt(r,n),a[0]&1152&&i!==(i=u[7](u[31]))&&w(t,"x",i),a[0]&256&&o!==(o=u[8](1))&&w(t,"y",o)},d(u){u&&j(t)}}}function cu(e){let t,n,r,i,o,u,a,l,s,d,f,m,C,M,D,Y,F,P,b,x,L,h,U,z,I,R=e[15](e[4])+"",H,J,G,$,se=e[14](e[4])+"",ue,re,X,B,fe,_=Ce(e[16]),v=[];for(let p=0;p<_.length;p+=1)v[p]=Ln(Yn(e,_,p));let A=Ce(e[3]),y=[];for(let p=0;p<A.length;p+=1)y[p]=Pn(Hn(e,A,p));let N=Ce(e[10]),S=[];for(let p=0;p<N.length;p+=1)S[p]=On(An(e,N,p));return{c(){t=pe("div"),n=pe("div"),r=pe("input"),i=He(),o=pe("select");for(let p=0;p<v.length;p+=1)v[p].c();u=He(),a=le("svg"),l=le("defs"),s=le("linearGradient"),d=le("stop"),f=le("stop"),m=le("g"),C=le("path"),D=le("path"),F=le("g");for(let p=0;p<y.length;p+=1)y[p].c();P=nn();for(let p=0;p<S.length;p+=1)S[p].c();b=le("g"),x=le("line"),I=le("text"),H=Xe(R),$=le("text"),ue=Xe(se),this.h()},l(p){t=ye(p,"DIV",{class:!0});var k=te(t);n=ye(k,"DIV",{class:!0});var c=te(n);r=ye(c,"INPUT",{type:!0,class:!0,placeholder:!0}),i=Ye(c),o=ye(c,"SELECT",{class:!0});var T=te(o);for(let ee=0;ee<v.length;ee+=1)v[ee].l(T);T.forEach(j),c.forEach(j),u=Ye(k),a=ce(k,"svg",{height:!0,class:!0});var E=te(a);l=ce(E,"defs",{});var g=te(l);s=ce(g,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var q=te(s);d=ce(q,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),te(d).forEach(j),f=ce(q,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),te(f).forEach(j),q.forEach(j),g.forEach(j),m=ce(E,"g",{class:!0});var O=te(m);C=ce(O,"path",{class:!0,d:!0}),te(C).forEach(j),D=ce(O,"path",{class:!0,d:!0}),te(D).forEach(j),O.forEach(j),F=ce(E,"g",{class:!0});var V=te(F);for(let ee=0;ee<y.length;ee+=1)y[ee].l(V);P=nn();for(let ee=0;ee<S.length;ee+=1)S[ee].l(V);V.forEach(j),b=ce(E,"g",{class:!0});var Q=te(b);x=ce(Q,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),te(x).forEach(j),I=ce(Q,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var K=te(I);H=Ge(K,R),K.forEach(j),$=ce(Q,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var ae=te($);ue=Ge(ae,se),ae.forEach(j),Q.forEach(j),E.forEach(j),k.forEach(j),this.h()},h(){w(r,"type","search"),w(r,"class","search svelte-s3iwpi"),w(r,"placeholder","Search"),w(o,"class","timezone svelte-s3iwpi"),e[0]===void 0&&wr(()=>e[25].call(o)),w(n,"class","svelte-s3iwpi"),w(d,"offset","0%"),w(d,"stop-color","rgb(255, 204, 0)"),w(d,"stop-opacity","0.3"),w(f,"offset","100%"),w(f,"stop-color","rgb(255, 204, 0)"),w(f,"stop-opacity","0.05"),w(s,"id","sun-gradient"),w(s,"x1","0%"),w(s,"y1","0%"),w(s,"x2","0%"),w(s,"y2","100%"),w(C,"class","area svelte-s3iwpi"),w(C,"d",M=e[13](e[11])),w(D,"class","outline svelte-s3iwpi"),w(D,"d",Y=e[13].lineY1()(e[11])),w(m,"class","sun svelte-s3iwpi"),w(F,"class","ticks svelte-s3iwpi"),w(x,"x1",L=e[7](e[4])),w(x,"x2",h=e[7](e[4])),w(x,"y1",U=e[8](0)),w(x,"y2",z=e[8](1)),w(x,"class","svelte-s3iwpi"),w(I,"x",J=e[7](e[4])),w(I,"y",G=e[8](0)),w(I,"dy",-2),w(I,"text-anchor","start"),w(I,"class","svelte-s3iwpi"),w($,"x",re=e[7](e[4])),w($,"y",X=e[8](0)),w($,"dx","-0.3em"),w($,"dy",-2),w($,"text-anchor","end"),w($,"class","svelte-s3iwpi"),w(b,"class","now svelte-s3iwpi"),w(a,"height","3em"),w(a,"class","svelte-s3iwpi"),w(t,"class","timezone svelte-s3iwpi")},m(p,k){_e(p,t,k),Z(t,n),Z(n,r),ht(r,e[6]),Z(n,i),Z(n,o);for(let c=0;c<v.length;c+=1)v[c]&&v[c].m(o,null);rn(o,e[0],!0),Z(t,u),Z(t,a),Z(a,l),Z(l,s),Z(s,d),Z(s,f),Z(a,m),Z(m,C),Z(m,D),Z(a,F);for(let c=0;c<y.length;c+=1)y[c]&&y[c].m(F,null);Z(F,P);for(let c=0;c<S.length;c+=1)S[c]&&S[c].m(F,null);Z(a,b),Z(b,x),Z(b,I),Z(I,H),Z(b,$),Z($,ue),e[26](a),B||(fe=[Oe(r,"input",e[24]),Oe(r,"keydown",e[17]),Oe(o,"change",e[25])],B=!0)},p(p,k){if(k[0]&64&&r.value!==p[6]&&ht(r,p[6]),k[0]&65536){_=Ce(p[16]);let c;for(c=0;c<_.length;c+=1){const T=Yn(p,_,c);v[c]?v[c].p(T,k):(v[c]=Ln(T),v[c].c(),v[c].m(o,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=_.length}if(k[0]&65537&&rn(o,p[0]),k[0]&10240&&M!==(M=p[13](p[11]))&&w(C,"d",M),k[0]&10240&&Y!==(Y=p[13].lineY1()(p[11]))&&w(D,"d",Y),k[0]&4488){A=Ce(p[3]);let c;for(c=0;c<A.length;c+=1){const T=Hn(p,A,c);y[c]?y[c].p(T,k):(y[c]=Pn(T),y[c].c(),y[c].m(F,P))}for(;c<y.length;c+=1)y[c].d(1);y.length=A.length}if(k[0]&17792){N=Ce(p[10]);let c;for(c=0;c<N.length;c+=1){const T=An(p,N,c);S[c]?S[c].p(T,k):(S[c]=On(T),S[c].c(),S[c].m(F,null))}for(;c<S.length;c+=1)S[c].d(1);S.length=N.length}k[0]&144&&L!==(L=p[7](p[4]))&&w(x,"x1",L),k[0]&144&&h!==(h=p[7](p[4]))&&w(x,"x2",h),k[0]&256&&U!==(U=p[8](0))&&w(x,"y1",U),k[0]&256&&z!==(z=p[8](1))&&w(x,"y2",z),k[0]&32784&&R!==(R=p[15](p[4])+"")&&mt(H,R),k[0]&144&&J!==(J=p[7](p[4]))&&w(I,"x",J),k[0]&256&&G!==(G=p[8](0))&&w(I,"y",G),k[0]&16400&&se!==(se=p[14](p[4])+"")&&mt(ue,se),k[0]&144&&re!==(re=p[7](p[4]))&&w($,"x",re),k[0]&256&&X!==(X=p[8](0))&&w($,"y",X)},i:Ve,o:Ve,d(p){p&&j(t),ft(v,p),ft(y,p),ft(S,p),e[26](null),B=!1,Wn(fe)}}}function hu(e,t,n){let r,i,o,u,a,l,s,d=Ve,f=()=>(d(),d=Tt(re,y=>n(22,s=y)),re),m,C=Ve,M=()=>(C(),C=Tt(b,y=>n(27,m=y)),b),D,Y=Ve,F=()=>(Y(),Y=Tt(P,y=>n(23,D=y)),P);e.$$.on_destroy.push(()=>d()),e.$$.on_destroy.push(()=>C()),e.$$.on_destroy.push(()=>Y());let{timezoneNames:P}=t;F();let{timezones:b}=t;M();let{value:x=""}=t,L="",{dropdownValue:h=x}=t;function U(y){r.includes(h)||n(0,h=r[0])}let z=new Date().getTimezoneOffset()*60*1e3,{hourTicks:I=Array.from({length:72},(y,N)=>{let S=Date.now()-z;S=S-S%(1e3*60*60);let p=1e3*60*60,k=(N-36)*p;return S+k})}=t,R=uu(),H=$t().domain([0,1]),J;function G(){J&&(R.range([0,J.clientWidth]),H.range([10,J.clientHeight-10])),n(7,R),n(8,H),n(20,fe)}$n(()=>(window.addEventListener("resize",G),G(),()=>{window.removeEventListener("resize",G)}));let{anchorTime:$=Date.now()}=t;function se(y,N){var k,c,T;let S=y instanceof Date?y.getTime():y,p=(c=(k=m[N])==null?void 0:k.find(E=>E.time_start<=S))==null?void 0:c.gmt_offset;return(T=m[N])==null||T.find(E=>E.time_start<=S),p??0}setInterval(()=>{},1e3);let ue=[],{cities:re=ke([])}=t;f();let X,B=[],fe=$t();function _(){L=this.value,n(6,L)}function v(){h=Mr(this),n(0,h),n(16,r),n(23,D),n(6,L)}function A(y){qn[y?"unshift":"push"](()=>{J=y,n(9,J)})}return e.$$set=y=>{"timezoneNames"in y&&F(n(1,P=y.timezoneNames)),"timezones"in y&&M(n(2,b=y.timezones)),"value"in y&&n(18,x=y.value),"dropdownValue"in y&&n(0,h=y.dropdownValue),"hourTicks"in y&&n(3,I=y.hourTicks),"anchorTime"in y&&n(4,$=y.anchorTime),"cities"in y&&f(n(5,re=y.cities))},e.$$.update=()=>{if(e.$$.dirty[0]&8388609&&n(18,x=D[h]),e.$$.dirty[0]&8388672&&n(16,r=Object.keys(D).filter(y=>L.trim()==""?!0:y.toLowerCase().includes(L.trim().toLowerCase()))),e.$$.dirty[0]&136&&R.domain(Lr(I)),e.$$.dirty[0]&17&&n(21,i=se($,h)),e.$$.dirty[0]&262144&&n(15,o=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:x}).format),e.$$.dirty[0]&262144&&n(14,u=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:x}).format),e.$$.dirty[0]&2097280){let y=R.domain()[0].getTime()+i,N=R.domain()[1].getTime()+i,S=1e3*60*60*24;n(10,ue=Array.from({length:Math.ceil((N-y)/S)+1},(p,k)=>y-y%S+k*S-i))}if(e.$$.dirty[0]&4194305){let y=s.find(N=>N.capital=="primary"&&N.country.toLowerCase()==(h==null?void 0:h.toLowerCase()));if(!y){let N=h==null?void 0:h.split("/")[1];N=N==null?void 0:N.replace(/_/g," "),y=s.find(S=>S.city_ascii.toLowerCase()==(N==null?void 0:N.toLowerCase()))}y?n(19,X=[y.lat,y.lng]):n(19,X=void 0)}if(e.$$.dirty[0]&527360&&(n(11,B=[]),X))for(let y of ue){let N=st.getTimes(new Date(y),X[0],X[1]),S=N.sunrise.getTime(),p=N.sunset.getTime(),k=N.solarNoon.getTime();B.push([S-1,null]);const c=15;for(let g=S;g<p;g+=1e3*60*c){let q=st.getPosition(new Date(g),X[0],X[1]);if(B.push([g,q.altitude]),g<=k&&k<=g+1e3*60*c){let O=st.getPosition(new Date(k),X[0],X[1]);B.push([k,O.altitude])}}let T=p,E=st.getPosition(new Date(T),X[0],X[1]);B.push([T,E.altitude]),B.push([p+1,null])}e.$$.dirty[0]&1050624&&fe.domain([jr(B,y=>y[1]),Math.PI/2]),e.$$.dirty[0]&1048832&&fe.range([H(1),H(0)]),e.$$.dirty[0]&1049216&&n(13,a=su().x((y,N)=>R(y[0])).y0((J==null?void 0:J.clientHeight)||10).y1(y=>fe(y[1])).defined(y=>y[1]!==null)),e.$$.dirty[0]&2097152&&n(12,l=y=>new Date(y+i+z).getHours()==0)},[h,P,b,I,$,re,L,R,H,J,ue,B,l,a,u,o,r,U,x,X,fe,i,s,D,_,v,A]}class mu extends Zn{constructor(t){super(),Jn(this,t,hu,cu,jn,{timezoneNames:1,timezones:2,value:18,dropdownValue:0,hourTicks:3,anchorTime:4,cities:5},null,[-1,-1])}}function In(e,t,n){const r=e.slice();return r[14]=t[n],r[15]=t,r[16]=n,r}function Rn(e){let t,n,r;function i(u){e[9](u,e[14],e[15],e[16])}let o={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[4]};return e[14]!==void 0&&(o.value=e[14]),t=new mu({props:o}),qn.push(()=>Cr(t,"value",i)),{c(){kr(t.$$.fragment)},l(u){Dr(t.$$.fragment,u)},m(u,a){Ur(t,u,a),r=!0},p(u,a){e=u;const l={};a&2&&(l.timezoneNames=e[1]),a&1&&(l.timezones=e[0]),a&4&&(l.cities=e[2]),a&16&&(l.anchorTime=e[4]),!n&&a&8&&(n=!0,l.value=e[14],vr(()=>n=!1)),t.$set(l)},i(u){r||(lt(t.$$.fragment,u),r=!0)},o(u){Yt(t.$$.fragment,u),r=!1},d(u){Nr(t,u)}}}function gu(e){let t,n,r,i="<",o,u,a=">",l,s,d,f,m="Add Timezone",C,M,D=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,Y,F,P,b=Ce(e[3]),x=[];for(let h=0;h<b.length;h+=1)x[h]=Rn(In(e,b,h));const L=h=>Yt(x[h],1,1,()=>{x[h]=null});return{c(){t=Xe(`

A simple way to coordinate cross-timezone events.

`),n=pe("p"),r=pe("button"),r.textContent=i,o=He(),u=pe("button"),u.textContent=a,l=He(),s=pe("p");for(let h=0;h<x.length;h+=1)x[h].c();d=He(),f=pe("button"),f.textContent=m,C=He(),M=pe("p"),M.innerHTML=D,this.h()},l(h){br("svelte-rguy8y",document.head).forEach(j),t=Ge(h,`

A simple way to coordinate cross-timezone events.

`),n=ye(h,"P",{});var z=te(n);r=ye(z,"BUTTON",{"data-svelte-h":!0}),it(r)!=="svelte-1cs74jg"&&(r.textContent=i),o=Ye(z),u=ye(z,"BUTTON",{"data-svelte-h":!0}),it(u)!=="svelte-1wghykh"&&(u.textContent=a),z.forEach(j),l=Ye(h),s=ye(h,"P",{});var I=te(s);for(let R=0;R<x.length;R+=1)x[R].l(I);d=Ye(I),f=ye(I,"BUTTON",{"data-svelte-h":!0}),it(f)!=="svelte-1jawmqt"&&(f.textContent=m),I.forEach(j),C=Ye(h),M=ye(h,"P",{"data-svelte-h":!0}),it(M)!=="svelte-hqholg"&&(M.innerHTML=D),this.h()},h(){document.title="Cross-Timezone Events"},m(h,U){_e(h,t,U),_e(h,n,U),Z(n,r),Z(n,o),Z(n,u),_e(h,l,U),_e(h,s,U);for(let z=0;z<x.length;z+=1)x[z]&&x[z].m(s,null);Z(s,d),Z(s,f),_e(h,C,U),_e(h,M,U),Y=!0,F||(P=[Oe(r,"click",e[7]),Oe(u,"click",e[8]),Oe(f,"click",e[10])],F=!0)},p(h,[U]){if(U&31){b=Ce(h[3]);let z;for(z=0;z<b.length;z+=1){const I=In(h,b,z);x[z]?(x[z].p(I,U),lt(x[z],1)):(x[z]=Rn(I),x[z].c(),lt(x[z],1),x[z].m(s,d))}for(Sr(),z=b.length;z<x.length;z+=1)L(z);Tr()}},i(h){if(!Y){for(let U=0;U<b.length;U+=1)lt(x[U]);Y=!0}},o(h){x=x.filter(Boolean);for(let U=0;U<x.length;U+=1)Yt(x[U]);Y=!1},d(h){h&&(j(t),j(n),j(l),j(s),j(C),j(M)),ft(x,h),F=!1,Wn(P)}}}function du(e,t,n){let r;async function i(){const P=await(await fetch(`${Ct}/time_zone.csv`)).text(),b=pn(P);let x={};for(let L of b){let[h,U,z,I,R,H]=L;x[h]||(x[h]=[]),x[h].push({zone_name:h,country_code:U,abbreviation:z,time_start:+I*1e3,gmt_offset:+R*1e3,dst:H==="1"})}for(let L in x)x[L].sort((h,U)=>U.time_start-h.time_start);return n(0,s=ke(x)),x}async function o(){const P=await(await fetch(`${Ct}/country.csv`)).text(),b=pn(P);let x={};for(let L of b){let[h,U]=L;x[h]=U}return n(6,u=ke(x)),x}let u=ke({});async function a(){const P=await(await fetch(`${Ct}/worldcities.csv`)).text(),b=wi(P);return n(2,l=ke(b)),b}let l=ke([]),s=ke({});$n(()=>{i(),o(),a()});const d=Intl.DateTimeFormat().resolvedOptions().timeZone;let f=[d],m=Date.now();const C=()=>n(4,m-=24*60*60*1e3),M=()=>n(4,m+=24*60*60*1e3);function D(F,P,b,x){b[x]=F,n(3,f)}const Y=()=>n(3,f=[...f,d]);return e.$$.update=()=>{e.$$.dirty&65&&n(1,r=zr([s,u],([F,P])=>{let b=Object.entries(P).map(([h,U])=>{var z;return[U,(z=Object.values(F).map(I=>I[0]).find(I=>I.country_code==h))==null?void 0:z.zone_name]}),x=[...Object.keys(F).map(h=>[h,h]),...b];return Object.fromEntries(x)}))},[s,r,l,f,m,d,u,C,M,D,Y]}class _u extends Zn{constructor(t){super(),Jn(this,t,du,gu,jn,{})}}export{_u as component};
