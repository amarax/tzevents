import{r as Qt,s as Kn,l as Sr,y as et,n as tt,o as $n,d as St,f as er,z as zr}from"../chunks/scheduler.mn11Loag.js";import{t as nt,S as tr,i as nr,e as de,s as ve,y as fe,m as cn,b as qe,c as pe,d as oe,h as Te,g as Q,z as le,f as Ze,o as M,j as Me,k as X,A as dt,B as hn,C as ze,l as rt,D as rr,E as Er,F as Fr,G as Pe,n as Ar,a as jt,H as Hr,u as Yr,v as Lr,w as Rr,x as Pr,q as Or}from"../chunks/index.DYGBFZIp.js";import{r as Ee,d as Ir,b as zt}from"../chunks/paths.DPsgICe1.js";function Se(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function mn(e,t){e.d(1),t.delete(e.key)}function gn(e,t,n,r,i,o,u,s,l,a,m,f){let c=e.length,v=o.length,w=c;const T={};for(;w--;)T[e[w].key]=w;const O=[],L=new Map,W=new Map,k=[];for(w=v;w--;){const y=f(i,o,w),N=n(y);let q=u.get(N);q?r&&k.push(()=>q.p(y,t)):(q=a(N,y),q.c()),L.set(N,O[w]=q),N in T&&W.set(N,Math.abs(w-T[N]))}const S=new Set,E=new Set;function b(y){nt(y,1),y.m(s,m),u.set(y.key,y),m=y.first,v--}for(;c&&v;){const y=O[v-1],N=e[c-1],q=y.key,I=N.key;y===N?(m=y.first,c--,v--):L.has(I)?!u.has(q)||S.has(q)?b(y):E.has(I)?c--:W.get(q)>W.get(I)?(E.add(q),b(y)):(S.add(I),c--):(l(N,u),c--)}for(;c--;){const y=e[c];L.has(y.key)||l(y,u)}for(;v;)b(O[v-1]);return Qt(k),O}function gt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(e){let t,n,r;e.length!==2?(t=gt,n=(s,l)=>gt(e(s),l),r=(s,l)=>e(s)-l):(t=e===gt||e===jr?e:Wr,n=e,r=e);function i(s,l,a=0,m=s.length){if(a<m){if(t(l,l)!==0)return m;do{const f=a+m>>>1;n(s[f],l)<0?a=f+1:m=f}while(a<m)}return a}function o(s,l,a=0,m=s.length){if(a<m){if(t(l,l)!==0)return m;do{const f=a+m>>>1;n(s[f],l)<=0?a=f+1:m=f}while(a<m)}return a}function u(s,l,a=0,m=s.length){const f=i(s,l,a,m-1);return f>a&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:u,right:o}}function Wr(){return 0}function qr(e){return e===null?NaN:+e}const Zr=Kt(gt),Br=Zr.right;Kt(qr).center;const Jr=Math.sqrt(50),Vr=Math.sqrt(10),Xr=Math.sqrt(2);function pt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=Jr?10:o>=Vr?5:o>=Xr?2:1;let s,l,a;return i<0?(a=Math.pow(10,-i)/u,s=Math.round(e*a),l=Math.round(t*a),s/a<e&&++s,l/a>t&&--l,a=-a):(a=Math.pow(10,i)*u,s=Math.round(e/a),l=Math.round(t/a),s*a<e&&++s,l*a>t&&--l),l<s&&.5<=n&&n<2?pt(e,t,n*2):[s,l,a]}function Gr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?pt(t,e,n):pt(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(u<0)for(let a=0;a<s;++a)l[a]=(o-a)/-u;else for(let a=0;a<s;++a)l[a]=(o-a)*u;else if(u<0)for(let a=0;a<s;++a)l[a]=(i+a)/-u;else for(let a=0;a<s;++a)l[a]=(i+a)*u;return l}function Wt(e,t,n){return t=+t,e=+e,n=+n,pt(e,t,n)[2]}function qt(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Wt(t,e,n):Wt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function $t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ir(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function at(){}var it=.7,yt=1/it,We="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kr=/^#([0-9a-f]{3,8})$/,$r=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),ei=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),ti=new RegExp(`^rgba\\(${We},${We},${We},${ot}\\)$`),ni=new RegExp(`^rgba\\(${be},${be},${be},${ot}\\)$`),ri=new RegExp(`^hsl\\(${ot},${be},${be}\\)$`),ii=new RegExp(`^hsla\\(${ot},${be},${be},${ot}\\)$`),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(at,ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pn,formatHex:pn,formatHex8:oi,formatHsl:ui,formatRgb:yn,toString:yn});function pn(){return this.rgb().formatHex()}function oi(){return this.rgb().formatHex8()}function ui(){return or(this).formatHsl()}function yn(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Kr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_n(t):n===3?new ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?lt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?lt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$r.exec(e))?new ge(t[1],t[2],t[3],1):(t=ei.exec(e))?new ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ti.exec(e))?lt(t[1],t[2],t[3],t[4]):(t=ni.exec(e))?lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ri.exec(e))?Mn(t[1],t[2]/100,t[3]/100,1):(t=ii.exec(e))?Mn(t[1],t[2]/100,t[3]/100,t[4]):dn.hasOwnProperty(e)?_n(dn[e]):e==="transparent"?new ge(NaN,NaN,NaN,0):null}function _n(e){return new ge(e>>16&255,e>>8&255,e&255,1)}function lt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ge(e,t,n,r)}function ai(e){return e instanceof at||(e=ut(e)),e?(e=e.rgb(),new ge(e.r,e.g,e.b,e.opacity)):new ge}function Zt(e,t,n,r){return arguments.length===1?ai(e):new ge(e,t,n,r??1)}function ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$t(ge,Zt,ir(at,{brighter(e){return e=e==null?yt:Math.pow(yt,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?it:Math.pow(it,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ge(He(this.r),He(this.g),He(this.b),_t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wn,formatHex:wn,formatHex8:si,formatRgb:xn,toString:xn}));function wn(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}`}function si(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}${Ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function xn(){const e=_t(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function _t(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ae(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function Mn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,r)}function or(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof at||(e=ut(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,s=o-i,l=(o+i)/2;return s?(t===o?u=(n-r)/s+(n<r)*6:n===o?u=(r-t)/s+2:u=(t-n)/s+4,s/=l<.5?o+i:2-o-i,u*=60):s=l>0&&l<1?0:u,new we(u,s,l,e.opacity)}function fi(e,t,n,r){return arguments.length===1?or(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$t(we,fi,ir(at,{brighter(e){return e=e==null?yt:Math.pow(yt,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?it:Math.pow(it,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ge(Et(e>=240?e-240:e+120,i,r),Et(e,i,r),Et(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new we(bn(this.h),ct(this.s),ct(this.l),_t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_t(this.opacity);return`${e===1?"hsl(":"hsla("}${bn(this.h)}, ${ct(this.s)*100}%, ${ct(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bn(e){return e=(e||0)%360,e<0?e+360:e}function ct(e){return Math.max(0,Math.min(1,e||0))}function Et(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const en=e=>()=>e;function li(e,t){return function(n){return e+n*t}}function ci(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hi(e){return(e=+e)==1?ur:function(t,n){return n-t?ci(t,n,e):en(isNaN(t)?n:t)}}function ur(e,t){var n=t-e;return n?li(e,n):en(isNaN(e)?t:e)}const vn=function e(t){var n=hi(t);function r(i,o){var u=n((i=Zt(i)).r,(o=Zt(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),a=ur(i.opacity,o.opacity);return function(m){return i.r=u(m),i.g=s(m),i.b=l(m),i.opacity=a(m),i+""}}return r.gamma=e,r}(1);function mi(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function gi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function di(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=tn(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(s){for(u=0;u<r;++u)o[u]=i[u](s);return o}}function pi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yi(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=tn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Bt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(Bt.source,"g");function _i(e){return function(){return e}}function wi(e){return function(t){return e(t)+""}}function xi(e,t){var n=Bt.lastIndex=Ft.lastIndex=0,r,i,o,u=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Bt.exec(e))&&(i=Ft.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[u]?s[u]+=o:s[++u]=o),(r=r[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:wt(r,i)})),n=Ft.lastIndex;return n<t.length&&(o=t.slice(n),s[u]?s[u]+=o:s[++u]=o),s.length<2?l[0]?wi(l[0].x):_i(t):(t=l.length,function(a){for(var m=0,f;m<t;++m)s[(f=l[m]).i]=f.x(a);return s.join("")})}function tn(e,t){var n=typeof t,r;return t==null||n==="boolean"?en(t):(n==="number"?wt:n==="string"?(r=ut(t))?(t=r,vn):xi:t instanceof ut?vn:t instanceof Date?pi:gi(t)?mi:Array.isArray(t)?di:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yi:wt)(e,t)}function Mi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Jt=Math.PI,Vt=2*Jt,Fe=1e-6,bi=Vt-Fe;function ar(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vi(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ar;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ti{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ar:vi(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,s=this._y1,l=r-t,a=i-n,m=u-t,f=s-n,c=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>Fe)if(!(Math.abs(f*l-a*m)>Fe)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-u,w=i-s,T=l*l+a*a,O=v*v+w*w,L=Math.sqrt(T),W=Math.sqrt(c),k=o*Math.tan((Jt-Math.acos((T+c-O)/(2*L*W)))/2),S=k/W,E=k/L;Math.abs(S-1)>Fe&&this._append`L${t+S*m},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*v>m*w)},${this._x1=t+E*l},${this._y1=n+E*a}`}}arc(t,n,r,i,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),a=t+s,m=n+l,f=1^u,c=u?i-o:o-i;this._x1===null?this._append`M${a},${m}`:(Math.abs(this._x1-a)>Fe||Math.abs(this._y1-m)>Fe)&&this._append`L${a},${m}`,r&&(c<0&&(c=c%Vt+Vt),c>bi?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=a},${this._y1=m}`:c>Fe&&this._append`A${r},${r},0,${+(c>=Jt)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Tn={},At={},Ht=34,Xe=10,Yt=13;function sr(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ci(e,t){var n=sr(e);return function(r,i){return t(n(r),i,e)}}function Cn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function me(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ki(e){return e<0?"-"+me(-e,6):e>9999?"+"+me(e,6):me(e,4)}function Ui(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ki(e.getUTCFullYear())+"-"+me(e.getUTCMonth()+1,2)+"-"+me(e.getUTCDate(),2)+(i?"T"+me(t,2)+":"+me(n,2)+":"+me(r,2)+"."+me(i,3)+"Z":r?"T"+me(t,2)+":"+me(n,2)+":"+me(r,2)+"Z":n||t?"T"+me(t,2)+":"+me(n,2)+"Z":"")}function Di(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,c){var v,w,T=i(f,function(O,L){if(v)return v(O,L-1);w=O,v=c?Ci(O,c):sr(O)});return T.columns=w||[],T}function i(f,c){var v=[],w=f.length,T=0,O=0,L,W=w<=0,k=!1;f.charCodeAt(w-1)===Xe&&--w,f.charCodeAt(w-1)===Yt&&--w;function S(){if(W)return At;if(k)return k=!1,Tn;var b,y=T,N;if(f.charCodeAt(y)===Ht){for(;T++<w&&f.charCodeAt(T)!==Ht||f.charCodeAt(++T)===Ht;);return(b=T)>=w?W=!0:(N=f.charCodeAt(T++))===Xe?k=!0:N===Yt&&(k=!0,f.charCodeAt(T)===Xe&&++T),f.slice(y+1,b-1).replace(/""/g,'"')}for(;T<w;){if((N=f.charCodeAt(b=T++))===Xe)k=!0;else if(N===Yt)k=!0,f.charCodeAt(T)===Xe&&++T;else if(N!==n)continue;return f.slice(y,b)}return W=!0,f.slice(y,w)}for(;(L=S())!==At;){for(var E=[];L!==Tn&&L!==At;)E.push(L),L=S();c&&(E=c(E,O++))==null||v.push(E)}return v}function o(f,c){return f.map(function(v){return c.map(function(w){return m(v[w])}).join(e)})}function u(f,c){return c==null&&(c=Cn(f)),[c.map(m).join(e)].concat(o(f,c)).join(`
`)}function s(f,c){return c==null&&(c=Cn(f)),o(f,c).join(`
`)}function l(f){return f.map(a).join(`
`)}function a(f){return f.map(m).join(e)}function m(f){return f==null?"":f instanceof Date?Ui(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:u,formatBody:s,formatRows:l,formatRow:a,formatValue:m}}var fr=Di(","),Ni=fr.parse,kn=fr.parseRows;function Si(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Be(e){return e=xt(Math.abs(e)),e?e[1]:NaN}function zi(e,t){return function(n,r){for(var i=n.length,o=[],u=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[u=(u+1)%e.length];return o.reverse().join(t)}}function Ei(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Fi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mt(e){if(!(t=Fi.exec(e)))throw new Error("invalid format: "+e);var t;return new nn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mt.prototype=nn.prototype;function nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ai(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lr;function Hi(e,t){var n=xt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xt(e,Math.max(0,t+o-1))[0]}function Un(e,t){var n=xt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Dn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Si,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Un(e*100,t),r:Un,s:Hi,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nn(e){return e}var Sn=Array.prototype.map,zn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yi(e){var t=e.grouping===void 0||e.thousands===void 0?Nn:zi(Sn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Nn:Ei(Sn.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function a(f){f=Mt(f);var c=f.fill,v=f.align,w=f.sign,T=f.symbol,O=f.zero,L=f.width,W=f.comma,k=f.precision,S=f.trim,E=f.type;E==="n"?(W=!0,E="g"):Dn[E]||(k===void 0&&(k=12),S=!0,E="g"),(O||c==="0"&&v==="=")&&(O=!0,c="0",v="=");var b=T==="$"?n:T==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",y=T==="$"?r:/[%p]/.test(E)?u:"",N=Dn[E],q=/[defgprs%]/.test(E);k=k===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function I(x){var B=b,F=y,ne,A,Z;if(E==="c")F=N(x)+F,x="";else{x=+x;var R=x<0||1/x<0;if(x=isNaN(x)?l:N(Math.abs(x),k),S&&(x=Ai(x)),R&&+x==0&&w!=="+"&&(R=!1),B=(R?w==="("?w:s:w==="-"||w==="("?"":w)+B,F=(E==="s"?zn[8+lr/3]:"")+F+(R&&w==="("?")":""),q){for(ne=-1,A=x.length;++ne<A;)if(Z=x.charCodeAt(ne),48>Z||Z>57){F=(Z===46?i+x.slice(ne+1):x.slice(ne))+F,x=x.slice(0,ne);break}}}W&&!O&&(x=t(x,1/0));var re=B.length+x.length+F.length,V=re<L?new Array(L-re+1).join(c):"";switch(W&&O&&(x=t(V+x,V.length?L-F.length:1/0),V=""),v){case"<":x=B+x+F+V;break;case"=":x=B+V+x+F;break;case"^":x=V.slice(0,re=V.length>>1)+B+x+F+V.slice(re);break;default:x=V+B+x+F;break}return o(x)}return I.toString=function(){return f+""},I}function m(f,c){var v=a((f=Mt(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(Be(c)/3)))*3,T=Math.pow(10,-w),O=zn[8+w/3];return function(L){return v(T*L)+O}}return{format:a,formatPrefix:m}}var ht,cr,hr;Li({thousands:",",grouping:[3],currency:["$",""]});function Li(e){return ht=Yi(e),cr=ht.format,hr=ht.formatPrefix,ht}function Ri(e){return Math.max(0,-Be(Math.abs(e)))}function Pi(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(t)/3)))*3-Be(Math.abs(e)))}function Oi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Be(t)-Be(e))+1}function mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e){return function(){return e}}function ji(e){return+e}var En=[0,1];function Ie(e){return e}function Xt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ii(isNaN(t)?NaN:.5)}function Wi(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qi(e,t,n){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=Xt(i,r),o=n(u,o)):(r=Xt(r,i),o=n(o,u)),function(s){return o(r(s))}}function Zi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Xt(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(s){var l=Br(e,s,1,r)-1;return o[l](i[l](s))}}function gr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bi(){var e=En,t=En,n=tn,r,i,o,u=Ie,s,l,a;function m(){var c=Math.min(e.length,t.length);return u!==Ie&&(u=Wi(e[0],e[c-1])),s=c>2?Zi:qi,l=a=null,f}function f(c){return c==null||isNaN(c=+c)?o:(l||(l=s(e.map(r),t,n)))(r(u(c)))}return f.invert=function(c){return u(i((a||(a=s(t,e.map(r),wt)))(c)))},f.domain=function(c){return arguments.length?(e=Array.from(c,ji),m()):e.slice()},f.range=function(c){return arguments.length?(t=Array.from(c),m()):t.slice()},f.rangeRound=function(c){return t=Array.from(c),n=Mi,m()},f.clamp=function(c){return arguments.length?(u=c?!0:Ie,m()):u!==Ie},f.interpolate=function(c){return arguments.length?(n=c,m()):n},f.unknown=function(c){return arguments.length?(o=c,f):o},function(c,v){return r=c,i=v,m()}}function dr(){return Bi()(Ie,Ie)}function Ji(e,t,n,r){var i=qt(e,t,n),o;switch(r=Mt(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Pi(i,u))&&(r.precision=o),hr(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oi(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ri(i))&&(r.precision=o-(r.type==="%")*2);break}}return cr(r)}function Vi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ji(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,u=r[i],s=r[o],l,a,m=10;for(s<u&&(a=u,u=s,s=a,a=i,i=o,o=a);m-- >0;){if(a=Wt(u,s,n),a===l)return r[i]=u,r[o]=s,t(r);if(a>0)u=Math.floor(u/a)*a,s=Math.ceil(s/a)*a;else if(a<0)u=Math.ceil(u*a)/a,s=Math.floor(s*a)/a;else break;l=a}return e},e}function Gt(){var e=dr();return e.copy=function(){return gr(e,Gt())},mr.apply(e,arguments),Vi(e)}function Xi(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),e[n]=t.floor(i),e[r]=t.ceil(o),e}const Lt=new Date,Rt=new Date;function ue(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const u=i(o),s=i.ceil(o);return o-u<s-o?u:s},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<u)||!(s>0))return l;let a;do l.push(a=new Date(+o)),t(o,s),e(o);while(a<o&&o<u);return l},i.filter=o=>ue(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,s)=>{if(u>=u)if(s<0)for(;++s<=0;)for(;t(u,-1),!o(u););else for(;--s>=0;)for(;t(u,1),!o(u););}),n&&(i.count=(o,u)=>(Lt.setTime(+o),Rt.setTime(+u),e(Lt),e(Rt),Math.floor(n(Lt,Rt))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const bt=ue(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ue(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bt);bt.range;const Ce=1e3,ye=Ce*60,ke=ye*60,Ue=ke*24,rn=Ue*7,Fn=Ue*30,Pt=Ue*365,je=ue(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ce)},(e,t)=>(t-e)/Ce,e=>e.getUTCSeconds());je.range;const on=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getMinutes());on.range;const Gi=ue(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getUTCMinutes());Gi.range;const un=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce-e.getMinutes()*ye)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getHours());un.range;const Qi=ue(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCHours());Qi.range;const st=ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ye)/Ue,e=>e.getDate()-1);st.range;const an=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ue,e=>e.getUTCDate()-1);an.range;const Ki=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ue,e=>Math.floor(e/Ue));Ki.range;function Le(e){return ue(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ye)/rn)}const Ct=Le(0),vt=Le(1),$i=Le(2),eo=Le(3),Je=Le(4),to=Le(5),no=Le(6);Ct.range;vt.range;$i.range;eo.range;Je.range;to.range;no.range;function Re(e){return ue(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rn)}const pr=Re(0),Tt=Re(1),ro=Re(2),io=Re(3),Ve=Re(4),oo=Re(5),uo=Re(6);pr.range;Tt.range;ro.range;io.range;Ve.range;oo.range;uo.range;const sn=ue(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sn.range;const ao=ue(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ao.range;const De=ue(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());De.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});De.range;const Ye=ue(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function so(e,t,n,r,i,o){const u=[[je,1,Ce],[je,5,5*Ce],[je,15,15*Ce],[je,30,30*Ce],[o,1,ye],[o,5,5*ye],[o,15,15*ye],[o,30,30*ye],[i,1,ke],[i,3,3*ke],[i,6,6*ke],[i,12,12*ke],[r,1,Ue],[r,2,2*Ue],[n,1,rn],[t,1,Fn],[t,3,3*Fn],[e,1,Pt]];function s(a,m,f){const c=m<a;c&&([a,m]=[m,a]);const v=f&&typeof f.range=="function"?f:l(a,m,f),w=v?v.range(a,+m+1):[];return c?w.reverse():w}function l(a,m,f){const c=Math.abs(m-a)/f,v=Kt(([,,O])=>O).right(u,c);if(v===u.length)return e.every(qt(a/Pt,m/Pt,f));if(v===0)return bt.every(Math.max(qt(a,m,f),1));const[w,T]=u[c/u[v-1][2]<u[v][2]/c?v-1:v];return w.every(T)}return[s,l]}const[fo,lo]=so(De,sn,Ct,st,un,on);function Ot(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function It(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ge(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function co(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,u=e.shortDays,s=e.months,l=e.shortMonths,a=Qe(i),m=Ke(i),f=Qe(o),c=Ke(o),v=Qe(u),w=Ke(u),T=Qe(s),O=Ke(s),L=Qe(l),W=Ke(l),k={a:R,A:re,b:V,B:ie,c:null,d:Pn,e:Pn,f:Ho,g:Zo,G:Jo,H:Eo,I:Fo,j:Ao,L:yr,m:Yo,M:Lo,p:_,q:z,Q:jn,s:Wn,S:Ro,u:Po,U:Oo,V:Io,w:jo,W:Wo,x:null,X:null,y:qo,Y:Bo,Z:Vo,"%":In},S={a:P,A:$,b:G,B:d,c:null,d:On,e:On,f:Ko,g:su,G:lu,H:Xo,I:Go,j:Qo,L:wr,m:$o,M:eu,p:H,q:J,Q:jn,s:Wn,S:tu,u:nu,U:ru,V:iu,w:ou,W:uu,x:null,X:null,y:au,Y:fu,Z:cu,"%":In},E={a:I,A:x,b:B,B:F,c:ne,d:Ln,e:Ln,f:Do,g:Yn,G:Hn,H:Rn,I:Rn,j:To,L:Uo,m:vo,M:Co,p:q,q:bo,Q:So,s:zo,S:ko,u:yo,U:_o,V:wo,w:po,W:xo,x:A,X:Z,y:Yn,Y:Hn,Z:Mo,"%":No};k.x=b(n,k),k.X=b(r,k),k.c=b(t,k),S.x=b(n,S),S.X=b(r,S),S.c=b(t,S);function b(p,U){return function(C){var h=[],ee=-1,j=0,te=p.length,g,D,Y;for(C instanceof Date||(C=new Date(+C));++ee<te;)p.charCodeAt(ee)===37&&(h.push(p.slice(j,ee)),(D=An[g=p.charAt(++ee)])!=null?g=p.charAt(++ee):D=g==="e"?" ":"0",(Y=U[g])&&(g=Y(C,D)),h.push(g),j=ee+1);return h.push(p.slice(j,ee)),h.join("")}}function y(p,U){return function(C){var h=Ge(1900,void 0,1),ee=N(h,p,C+="",0),j,te;if(ee!=C.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(h.s*1e3+("L"in h?h.L:0));if(U&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+h.p*12),h.m===void 0&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(j=It(Ge(h.y,0,1)),te=j.getUTCDay(),j=te>4||te===0?Tt.ceil(j):Tt(j),j=an.offset(j,(h.V-1)*7),h.y=j.getUTCFullYear(),h.m=j.getUTCMonth(),h.d=j.getUTCDate()+(h.w+6)%7):(j=Ot(Ge(h.y,0,1)),te=j.getDay(),j=te>4||te===0?vt.ceil(j):vt(j),j=st.offset(j,(h.V-1)*7),h.y=j.getFullYear(),h.m=j.getMonth(),h.d=j.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),te="Z"in h?It(Ge(h.y,0,1)).getUTCDay():Ot(Ge(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+h.W*7-(te+5)%7:h.w+h.U*7-(te+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,It(h)):Ot(h)}}function N(p,U,C,h){for(var ee=0,j=U.length,te=C.length,g,D;ee<j;){if(h>=te)return-1;if(g=U.charCodeAt(ee++),g===37){if(g=U.charAt(ee++),D=E[g in An?U.charAt(ee++):g],!D||(h=D(p,C,h))<0)return-1}else if(g!=C.charCodeAt(h++))return-1}return h}function q(p,U,C){var h=a.exec(U.slice(C));return h?(p.p=m.get(h[0].toLowerCase()),C+h[0].length):-1}function I(p,U,C){var h=v.exec(U.slice(C));return h?(p.w=w.get(h[0].toLowerCase()),C+h[0].length):-1}function x(p,U,C){var h=f.exec(U.slice(C));return h?(p.w=c.get(h[0].toLowerCase()),C+h[0].length):-1}function B(p,U,C){var h=L.exec(U.slice(C));return h?(p.m=W.get(h[0].toLowerCase()),C+h[0].length):-1}function F(p,U,C){var h=T.exec(U.slice(C));return h?(p.m=O.get(h[0].toLowerCase()),C+h[0].length):-1}function ne(p,U,C){return N(p,t,U,C)}function A(p,U,C){return N(p,n,U,C)}function Z(p,U,C){return N(p,r,U,C)}function R(p){return u[p.getDay()]}function re(p){return o[p.getDay()]}function V(p){return l[p.getMonth()]}function ie(p){return s[p.getMonth()]}function _(p){return i[+(p.getHours()>=12)]}function z(p){return 1+~~(p.getMonth()/3)}function P(p){return u[p.getUTCDay()]}function $(p){return o[p.getUTCDay()]}function G(p){return l[p.getUTCMonth()]}function d(p){return s[p.getUTCMonth()]}function H(p){return i[+(p.getUTCHours()>=12)]}function J(p){return 1+~~(p.getUTCMonth()/3)}return{format:function(p){var U=b(p+="",k);return U.toString=function(){return p},U},parse:function(p){var U=y(p+="",!1);return U.toString=function(){return p},U},utcFormat:function(p){var U=b(p+="",S);return U.toString=function(){return p},U},utcParse:function(p){var U=y(p+="",!0);return U.toString=function(){return p},U}}}var An={"-":"",_:" ",0:"0"},se=/^\s*\d+/,ho=/^%/,mo=/[\\^$*+?|[\]().{}]/g;function K(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function go(e){return e.replace(mo,"\\$&")}function Qe(e){return new RegExp("^(?:"+e.map(go).join("|")+")","i")}function Ke(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function po(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yo(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _o(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function xo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yn(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mo(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bo(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ln(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function To(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Rn(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Co(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uo(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Do(e,t,n){var r=se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function No(e,t,n){var r=ho.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function So(e,t,n){var r=se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Pn(e,t){return K(e.getDate(),t,2)}function Eo(e,t){return K(e.getHours(),t,2)}function Fo(e,t){return K(e.getHours()%12||12,t,2)}function Ao(e,t){return K(1+st.count(De(e),e),t,3)}function yr(e,t){return K(e.getMilliseconds(),t,3)}function Ho(e,t){return yr(e,t)+"000"}function Yo(e,t){return K(e.getMonth()+1,t,2)}function Lo(e,t){return K(e.getMinutes(),t,2)}function Ro(e,t){return K(e.getSeconds(),t,2)}function Po(e){var t=e.getDay();return t===0?7:t}function Oo(e,t){return K(Ct.count(De(e)-1,e),t,2)}function _r(e){var t=e.getDay();return t>=4||t===0?Je(e):Je.ceil(e)}function Io(e,t){return e=_r(e),K(Je.count(De(e),e)+(De(e).getDay()===4),t,2)}function jo(e){return e.getDay()}function Wo(e,t){return K(vt.count(De(e)-1,e),t,2)}function qo(e,t){return K(e.getFullYear()%100,t,2)}function Zo(e,t){return e=_r(e),K(e.getFullYear()%100,t,2)}function Bo(e,t){return K(e.getFullYear()%1e4,t,4)}function Jo(e,t){var n=e.getDay();return e=n>=4||n===0?Je(e):Je.ceil(e),K(e.getFullYear()%1e4,t,4)}function Vo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+K(t/60|0,"0",2)+K(t%60,"0",2)}function On(e,t){return K(e.getUTCDate(),t,2)}function Xo(e,t){return K(e.getUTCHours(),t,2)}function Go(e,t){return K(e.getUTCHours()%12||12,t,2)}function Qo(e,t){return K(1+an.count(Ye(e),e),t,3)}function wr(e,t){return K(e.getUTCMilliseconds(),t,3)}function Ko(e,t){return wr(e,t)+"000"}function $o(e,t){return K(e.getUTCMonth()+1,t,2)}function eu(e,t){return K(e.getUTCMinutes(),t,2)}function tu(e,t){return K(e.getUTCSeconds(),t,2)}function nu(e){var t=e.getUTCDay();return t===0?7:t}function ru(e,t){return K(pr.count(Ye(e)-1,e),t,2)}function xr(e){var t=e.getUTCDay();return t>=4||t===0?Ve(e):Ve.ceil(e)}function iu(e,t){return e=xr(e),K(Ve.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function ou(e){return e.getUTCDay()}function uu(e,t){return K(Tt.count(Ye(e)-1,e),t,2)}function au(e,t){return K(e.getUTCFullYear()%100,t,2)}function su(e,t){return e=xr(e),K(e.getUTCFullYear()%100,t,2)}function fu(e,t){return K(e.getUTCFullYear()%1e4,t,4)}function lu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ve(e):Ve.ceil(e),K(e.getUTCFullYear()%1e4,t,4)}function cu(){return"+0000"}function In(){return"%"}function jn(e){return+e}function Wn(e){return Math.floor(+e/1e3)}var Oe,Mr;hu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hu(e){return Oe=co(e),Mr=Oe.format,Oe.parse,Oe.utcFormat,Oe.utcParse,Oe}function mu(e){return new Date(e)}function gu(e){return e instanceof Date?+e:+new Date(+e)}function br(e,t,n,r,i,o,u,s,l,a){var m=dr(),f=m.invert,c=m.domain,v=a(".%L"),w=a(":%S"),T=a("%I:%M"),O=a("%I %p"),L=a("%a %d"),W=a("%b %d"),k=a("%B"),S=a("%Y");function E(b){return(l(b)<b?v:s(b)<b?w:u(b)<b?T:o(b)<b?O:r(b)<b?i(b)<b?L:W:n(b)<b?k:S)(b)}return m.invert=function(b){return new Date(f(b))},m.domain=function(b){return arguments.length?c(Array.from(b,gu)):c().map(mu)},m.ticks=function(b){var y=c();return e(y[0],y[y.length-1],b??10)},m.tickFormat=function(b,y){return y==null?E:a(y)},m.nice=function(b){var y=c();return(!b||typeof b.range!="function")&&(b=t(y[0],y[y.length-1],b??10)),b?c(Xi(y,b)):m},m.copy=function(){return gr(m,br(e,t,n,r,i,o,u,s,l,a))},m}function du(){return mr.apply(br(fo,lo,De,sn,Ct,st,un,on,je,Mr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ae(e){return function(){return e}}function vr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ti(t)}function Tr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cr(e){this._context=e}Cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kr(e){return new Cr(e)}function Ur(e){return e[0]}function Dr(e){return e[1]}function pu(e,t){var n=ae(!0),r=null,i=kr,o=null,u=vr(s);e=typeof e=="function"?e:e===void 0?Ur:ae(e),t=typeof t=="function"?t:t===void 0?Dr:ae(t);function s(l){var a,m=(l=Tr(l)).length,f,c=!1,v;for(r==null&&(o=i(v=u())),a=0;a<=m;++a)!(a<m&&n(f=l[a],a,l))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+e(f,a,l),+t(f,a,l));if(v)return o=null,v+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ae(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ae(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ae(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function yu(e,t,n){var r=null,i=ae(!0),o=null,u=kr,s=null,l=vr(a);e=typeof e=="function"?e:e===void 0?Ur:ae(+e),t=typeof t=="function"?t:ae(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Dr:ae(+n);function a(f){var c,v,w,T=(f=Tr(f)).length,O,L=!1,W,k=new Array(T),S=new Array(T);for(o==null&&(s=u(W=l())),c=0;c<=T;++c){if(!(c<T&&i(O=f[c],c,f))===L)if(L=!L)v=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),w=c-1;w>=v;--w)s.point(k[w],S[w]);s.lineEnd(),s.areaEnd()}L&&(k[c]=+e(O,c,f),S[c]=+t(O,c,f),s.point(r?+r(O,c,f):k[c],n?+n(O,c,f):S[c]))}if(W)return s=null,W+""||null}function m(){return pu().defined(i).curve(u).context(o)}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:ae(+f),r=null,a):e},a.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ae(+f),a):e},a.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ae(+f),a):r},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:ae(+f),n=null,a):t},a.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ae(+f),a):t},a.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ae(+f),a):n},a.lineX0=a.lineY0=function(){return m().x(e).y(t)},a.lineY1=function(){return m().x(e).y(n)},a.lineX1=function(){return m().x(r).y(t)},a.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ae(!!f),a):i},a.curve=function(f){return arguments.length?(u=f,o!=null&&(s=u(o)),a):u},a.context=function(f){return arguments.length?(f==null?o=s=null:s=u(o=f),a):o},a}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$e.prototype;function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nr={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,i=Math.cos,o=Math.tan,u=Math.asin,s=Math.atan2,l=Math.acos,a=n/180,m=1e3*60*60*24,f=2440588,c=2451545;function v(_){return _.valueOf()/m-.5+f}function w(_){return new Date((_+.5-f)*m)}function T(_){return v(_)-c}var O=a*23.4397;function L(_,z){return s(r(_)*i(O)-o(z)*r(O),i(_))}function W(_,z){return u(r(z)*i(O)+i(z)*r(O)*r(_))}function k(_,z,P){return s(r(_),i(_)*r(z)-o(P)*i(z))}function S(_,z,P){return u(r(z)*r(P)+i(z)*i(P)*i(_))}function E(_,z){return a*(280.16+360.9856235*_)-z}function b(_){return _<0&&(_=0),2967e-7/Math.tan(_+.00312536/(_+.08901179))}function y(_){return a*(357.5291+.98560028*_)}function N(_){var z=a*(1.9148*r(_)+.02*r(2*_)+3e-4*r(3*_)),P=a*102.9372;return _+z+P+n}function q(_){var z=y(_),P=N(z);return{dec:W(P,0),ra:L(P,0)}}var I={};I.getPosition=function(_,z,P){var $=a*-P,G=a*z,d=T(_),H=q(d),J=E(d,$)-H.ra;return{azimuth:k(J,G,H.dec),altitude:S(J,G,H.dec)}};var x=I.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];I.addTime=function(_,z,P){x.push([_,z,P])};var B=9e-4;function F(_,z){return Math.round(_-B-z/(2*n))}function ne(_,z,P){return B+(_+z)/(2*n)+P}function A(_,z,P){return c+_+.0053*r(z)-.0069*r(2*P)}function Z(_,z,P){return l((r(_)-r(z)*r(P))/(i(z)*i(P)))}function R(_){return-2.076*Math.sqrt(_)/60}function re(_,z,P,$,G,d,H){var J=Z(_,P,$),p=ne(J,z,G);return A(p,d,H)}I.getTimes=function(_,z,P,$){$=$||0;var G=a*-P,d=a*z,H=R($),J=T(_),p=F(J,G),U=ne(0,G,p),C=y(U),h=N(C),ee=W(h,0),j=A(U,C,h),te,g,D,Y,ce,xe,he={solarNoon:w(j),nadir:w(j-.5)};for(te=0,g=x.length;te<g;te+=1)D=x[te],Y=(D[0]+H)*a,ce=re(Y,G,d,ee,p,C,h),xe=j-(ce-j),he[D[1]]=w(xe),he[D[2]]=w(ce);return he};function V(_){var z=a*(218.316+13.176396*_),P=a*(134.963+13.064993*_),$=a*(93.272+13.22935*_),G=z+a*6.289*r(P),d=a*5.128*r($),H=385001-20905*i(P);return{ra:L(G,d),dec:W(G,d),dist:H}}I.getMoonPosition=function(_,z,P){var $=a*-P,G=a*z,d=T(_),H=V(d),J=E(d,$)-H.ra,p=S(J,G,H.dec),U=s(r(J),o(G)*i(H.dec)-r(H.dec)*i(J));return p=p+b(p),{azimuth:k(J,G,H.dec),altitude:p,distance:H.dist,parallacticAngle:U}},I.getMoonIllumination=function(_){var z=T(_||new Date),P=q(z),$=V(z),G=149598e3,d=l(r(P.dec)*r($.dec)+i(P.dec)*i($.dec)*i(P.ra-$.ra)),H=s(G*r(d),$.dist-G*i(d)),J=s(i(P.dec)*r(P.ra-$.ra),r(P.dec)*i($.dec)-i(P.dec)*r($.dec)*i(P.ra-$.ra));return{fraction:(1+i(H))/2,phase:.5+.5*H*(J<0?-1:1)/Math.PI,angle:J}};function ie(_,z){return new Date(_.valueOf()+z*m/24)}I.getMoonTimes=function(_,z,P,$){var G=new Date(_);$?G.setUTCHours(0,0,0,0):G.setHours(0,0,0,0);for(var d=.133*a,H=I.getMoonPosition(G,z,P).altitude-d,J,p,U,C,h,ee,j,te,g,D,Y,ce,xe,he=1;he<=24&&(J=I.getMoonPosition(ie(G,he),z,P).altitude-d,p=I.getMoonPosition(ie(G,he+1),z,P).altitude-d,h=(H+p)/2-J,ee=(p-H)/2,j=-ee/(2*h),te=(h*j+ee)*j+J,g=ee*ee-4*h*J,D=0,g>=0&&(xe=Math.sqrt(g)/(Math.abs(h)*2),Y=j-xe,ce=j+xe,Math.abs(Y)<=1&&D++,Math.abs(ce)<=1&&D++,Y<-1&&(Y=ce)),D===1?H<0?U=he+Y:C=he+Y:D===2&&(U=he+(te<0?ce:Y),C=he+(te<0?Y:ce)),!(U&&C));he+=2)H=p;var Ne={};return U&&(Ne.rise=ie(G,U)),C&&(Ne.set=ie(G,C)),!U&&!C&&(Ne[te>0?"alwaysUp":"alwaysDown"]=!0),Ne},e.exports=I})()})(Nr);var wu=Nr.exports;const mt=_u(wu);function qn(e,t,n){const r=e.slice();return r[34]=t[n],r}function Zn(e,t,n){const r=e.slice();return r[34]=t[n],r}function Bn(e,t,n){const r=e.slice();return r[39]=t[n],r}function Jn(e){let t,n=e[39]+"",r,i;return{c(){t=de("option"),r=qe(n),this.h()},l(o){t=pe(o,"OPTION",{});var u=oe(t);r=Ze(u,n),u.forEach(Q),this.h()},h(){t.__value=i=e[39],dt(t,t.__value)},m(o,u){Me(o,t,u),X(t,r)},p(o,u){u[0]&1048576&&n!==(n=o[39]+"")&&rt(r,n),u[0]&1048576&&i!==(i=o[39])&&(t.__value=i,dt(t,t.__value))},d(o){o&&Q(t)}}}function Vn(e,t){let n,r,i,o,u,s;return{key:e,first:null,c(){n=fe("line"),this.h()},l(l){n=le(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),oe(n).forEach(Q),this.h()},h(){M(n,"class",r=et(`${t[17](t[34])?"midnight":""}`)+" svelte-50w89c"),M(n,"x1",i=t[8](t[34])),M(n,"x2",o=t[8](t[34])),M(n,"y1",u=t[9](0)),M(n,"y2",s=t[9](1)),this.first=n},m(l,a){Me(l,n,a)},p(l,a){t=l,a[0]&131200&&r!==(r=et(`${t[17](t[34])?"midnight":""}`)+" svelte-50w89c")&&M(n,"class",r),a[0]&384&&i!==(i=t[8](t[34]))&&M(n,"x1",i),a[0]&384&&o!==(o=t[8](t[34]))&&M(n,"x2",o),a[0]&512&&u!==(u=t[9](0))&&M(n,"y1",u),a[0]&512&&s!==(s=t[9](1))&&M(n,"y2",s)},d(l){l&&Q(n)}}}function Xn(e,t){let n,r=t[18](t[34])+"",i,o,u;return{key:e,first:null,c(){n=fe("text"),i=qe(r),this.h()},l(s){n=le(s,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var l=oe(n);i=Ze(l,r),l.forEach(Q),this.h()},h(){M(n,"x",o=t[8](t[34])),M(n,"y",u=t[9](1)),M(n,"dy","1em"),M(n,"text-anchor","start"),M(n,"class","svelte-50w89c"),this.first=n},m(s,l){Me(s,n,l),X(n,i)},p(s,l){t=s,l[0]&266240&&r!==(r=t[18](t[34])+"")&&rt(i,r),l[0]&4352&&o!==(o=t[8](t[34]))&&M(n,"x",o),l[0]&512&&u!==(u=t[9](1))&&M(n,"y",u)},d(s){s&&Q(n)}}}function xu(e){let t,n,r,i,o,u,s,l,a,m,f,c,v,w,T,O,L,W,k,S=[],E=new Map,b,y=[],N=new Map,q,I,x,B,F,ne,A,Z,R=e[19](e[11])+"",re,V,ie,_,z=e[18](e[11])+"",P,$,G,d,H,J,p,U=Se(e[20]),C=[];for(let g=0;g<U.length;g+=1)C[g]=Jn(Bn(e,U,g));let h=Se(e[7]);const ee=g=>g[34];for(let g=0;g<h.length;g+=1){let D=Zn(e,h,g),Y=ee(D);E.set(Y,S[g]=Vn(Y,D))}let j=Se(e[12]);const te=g=>g[34];for(let g=0;g<j.length;g+=1){let D=qn(e,j,g),Y=te(D);N.set(Y,y[g]=Xn(Y,D))}return{c(){t=de("div"),n=de("div"),r=de("input"),i=ve(),o=de("select");for(let g=0;g<C.length;g+=1)C[g].c();u=ve(),s=fe("svg"),l=fe("defs"),a=fe("linearGradient"),m=fe("stop"),f=fe("stop"),c=fe("g"),v=fe("g"),w=fe("g"),T=fe("path"),L=fe("path"),k=fe("g");for(let g=0;g<S.length;g+=1)S[g].c();b=cn();for(let g=0;g<y.length;g+=1)y[g].c();I=fe("g"),x=fe("line"),Z=fe("text"),re=qe(R),_=fe("text"),P=qe(z),this.h()},l(g){t=pe(g,"DIV",{class:!0});var D=oe(t);n=pe(D,"DIV",{class:!0});var Y=oe(n);r=pe(Y,"INPUT",{type:!0,class:!0,placeholder:!0}),i=Te(Y),o=pe(Y,"SELECT",{class:!0});var ce=oe(o);for(let _e=0;_e<C.length;_e+=1)C[_e].l(ce);ce.forEach(Q),Y.forEach(Q),u=Te(D),s=le(D,"svg",{class:!0,height:!0});var xe=oe(s);l=le(xe,"defs",{});var he=oe(l);a=le(he,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var Ne=oe(a);m=le(Ne,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),oe(m).forEach(Q),f=le(Ne,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),oe(f).forEach(Q),Ne.forEach(Q),he.forEach(Q),c=le(xe,"g",{class:!0,style:!0});var kt=oe(c);v=le(kt,"g",{class:!0,style:!0});var Ut=oe(v);w=le(Ut,"g",{class:!0});var Dt=oe(w);T=le(Dt,"path",{class:!0,d:!0}),oe(T).forEach(Q),L=le(Dt,"path",{class:!0,d:!0}),oe(L).forEach(Q),Dt.forEach(Q),k=le(Ut,"g",{class:!0});var Nt=oe(k);for(let _e=0;_e<S.length;_e+=1)S[_e].l(Nt);b=cn();for(let _e=0;_e<y.length;_e+=1)y[_e].l(Nt);Nt.forEach(Q),Ut.forEach(Q),I=le(kt,"g",{class:!0});var ft=oe(I);x=le(ft,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),oe(x).forEach(Q),Z=le(ft,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var fn=oe(Z);re=Ze(fn,R),fn.forEach(Q),_=le(ft,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var ln=oe(_);P=Ze(ln,z),ln.forEach(Q),ft.forEach(Q),kt.forEach(Q),xe.forEach(Q),D.forEach(Q),this.h()},h(){M(r,"type","search"),M(r,"class","search svelte-50w89c"),M(r,"placeholder","Search"),M(o,"class","timezone svelte-50w89c"),e[0]===void 0&&Sr(()=>e[28].call(o)),M(n,"class","svelte-50w89c"),M(m,"offset","0%"),M(m,"stop-color","rgb(255, 204, 0)"),M(m,"stop-opacity","0.3"),M(f,"offset","100%"),M(f,"stop-color","rgb(255, 204, 0)"),M(f,"stop-opacity","0.05"),M(a,"id","sun-gradient"),M(a,"x1","0%"),M(a,"y1","0%"),M(a,"x2","0%"),M(a,"y2","100%"),M(T,"class","area svelte-50w89c"),M(T,"d",O=e[14](e[13])),M(L,"class","outline svelte-50w89c"),M(L,"d",W=e[14].lineY1()(e[13])),M(w,"class","sun svelte-50w89c"),M(k,"class","ticks svelte-50w89c"),M(v,"class","timezone svelte-50w89c"),M(v,"style",q=`transform: translate(${e[8](0)-e[8](e[15])}px)`),M(x,"x1",B=e[8](e[11])),M(x,"x2",F=e[8](e[11])),M(x,"y1",ne=e[9](0)),M(x,"y2",A=e[9](1)),M(x,"class","svelte-50w89c"),M(Z,"x",V=e[8](e[11])),M(Z,"y",ie=e[9](0)),M(Z,"dy",-2),M(Z,"text-anchor","start"),M(Z,"class","svelte-50w89c"),M(_,"x",$=e[8](e[11])),M(_,"y",G=e[9](0)),M(_,"dx","-0.3em"),M(_,"dy",-2),M(_,"text-anchor","end"),M(_,"class","svelte-50w89c"),M(I,"class","now svelte-50w89c"),M(c,"class",et("timeline")+" svelte-50w89c"),M(c,"style",d=`transform: translate(${e[8](e[3])-e[8](e[4][0])}px)`),M(s,"class",H=et(`${e[16]?"animate":""}`)+" svelte-50w89c"),M(s,"height","3em"),M(t,"class","timezone svelte-50w89c")},m(g,D){Me(g,t,D),X(t,n),X(n,r),dt(r,e[6]),X(n,i),X(n,o);for(let Y=0;Y<C.length;Y+=1)C[Y]&&C[Y].m(o,null);hn(o,e[0],!0),X(t,u),X(t,s),X(s,l),X(l,a),X(a,m),X(a,f),X(s,c),X(c,v),X(v,w),X(w,T),X(w,L),X(v,k);for(let Y=0;Y<S.length;Y+=1)S[Y]&&S[Y].m(k,null);X(k,b);for(let Y=0;Y<y.length;Y+=1)y[Y]&&y[Y].m(k,null);X(c,I),X(I,x),X(I,Z),X(Z,re),X(I,_),X(_,P),e[29](s),J||(p=[ze(r,"input",e[27]),ze(r,"keydown",e[21]),ze(o,"change",e[28])],J=!0)},p(g,D){if(D[0]&64&&r.value!==g[6]&&dt(r,g[6]),D[0]&1048576){U=Se(g[20]);let Y;for(Y=0;Y<U.length;Y+=1){const ce=Bn(g,U,Y);C[Y]?C[Y].p(ce,D):(C[Y]=Jn(ce),C[Y].c(),C[Y].m(o,null))}for(;Y<C.length;Y+=1)C[Y].d(1);C.length=U.length}D[0]&1048577&&hn(o,g[0]),D[0]&24576&&O!==(O=g[14](g[13]))&&M(T,"d",O),D[0]&24576&&W!==(W=g[14].lineY1()(g[13]))&&M(L,"d",W),D[0]&131968&&(h=Se(g[7]),S=gn(S,D,ee,1,g,h,E,k,mn,Vn,b,Zn)),D[0]&267008&&(j=Se(g[12]),y=gn(y,D,te,1,g,j,N,k,mn,Xn,null,qn)),D[0]&33024&&q!==(q=`transform: translate(${g[8](0)-g[8](g[15])}px)`)&&M(v,"style",q),D[0]&2304&&B!==(B=g[8](g[11]))&&M(x,"x1",B),D[0]&2304&&F!==(F=g[8](g[11]))&&M(x,"x2",F),D[0]&512&&ne!==(ne=g[9](0))&&M(x,"y1",ne),D[0]&512&&A!==(A=g[9](1))&&M(x,"y2",A),D[0]&526336&&R!==(R=g[19](g[11])+"")&&rt(re,R),D[0]&2304&&V!==(V=g[8](g[11]))&&M(Z,"x",V),D[0]&512&&ie!==(ie=g[9](0))&&M(Z,"y",ie),D[0]&264192&&z!==(z=g[18](g[11])+"")&&rt(P,z),D[0]&2304&&$!==($=g[8](g[11]))&&M(_,"x",$),D[0]&512&&G!==(G=g[9](0))&&M(_,"y",G),D[0]&280&&d!==(d=`transform: translate(${g[8](g[3])-g[8](g[4][0])}px)`)&&M(c,"style",d),D[0]&65536&&H!==(H=et(`${g[16]?"animate":""}`)+" svelte-50w89c")&&M(s,"class",H)},i:tt,o:tt,d(g){g&&Q(t),rr(C,g);for(let D=0;D<S.length;D+=1)S[D].d();for(let D=0;D<y.length;D+=1)y[D].d();e[29](null),J=!1,Qt(p)}}}function Mu(e,t,n){let r,i,o,u,s,l,a=tt,m=()=>(a(),a=St(re,d=>n(25,l=d)),re),f,c=tt,v=()=>(c(),c=St(W,d=>n(30,f=d)),W),w,T=tt,O=()=>(T(),T=St(L,d=>n(26,w=d)),L);e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>c()),e.$$.on_destroy.push(()=>T());let{timezoneNames:L}=t;O();let{timezones:W}=t;v();let{value:k=""}=t,S="",{dropdownValue:E=k}=t;function b(d){r.includes(E)||n(0,E=r[0])}let{anchorTime:y=Date.now()}=t,{timeRange:N=[y,y+3*1e3*60*60*36]}=t;new Date().getTimezoneOffset()*60*1e3;let q=[],I=du(),x=Gt().domain([0,1]),B;function F(){B&&(I.range([0,B.clientWidth]),x.range([10,B.clientHeight-10])),n(8,I),n(3,y),n(4,N),n(9,x),n(24,_),n(13,ie),n(9,x),n(23,V),n(4,N),n(25,l),n(0,E)}let ne=!1;$n(()=>(window.addEventListener("resize",F),F(),setTimeout(()=>{n(16,ne=!0)},0),()=>{window.removeEventListener("resize",F)}));let A=Date.now();function Z(d,H){var U,C,h;let J=d instanceof Date?d.getTime():d,p=(C=(U=f[H])==null?void 0:U.find(ee=>ee.time_start<=J))==null?void 0:C.gmt_offset;return(h=f[H])==null||h.find(ee=>ee.time_start<=J),p??0}setInterval(()=>{n(11,A=Date.now())},1e3);let R=[],{cities:re=Ee([])}=t;m();let V,ie=[],_=Gt(),z=yu();function P(){S=this.value,n(6,S)}function $(){E=Er(this),n(0,E),n(20,r),n(26,w),n(6,S)}function G(d){er[d?"unshift":"push"](()=>{B=d,n(10,B)})}return e.$$set=d=>{"timezoneNames"in d&&O(n(1,L=d.timezoneNames)),"timezones"in d&&v(n(2,W=d.timezones)),"value"in d&&n(22,k=d.value),"dropdownValue"in d&&n(0,E=d.dropdownValue),"anchorTime"in d&&n(3,y=d.anchorTime),"timeRange"in d&&n(4,N=d.timeRange),"cities"in d&&m(n(5,re=d.cities))},e.$$.update=()=>{if(e.$$.dirty[0]&67108865&&n(22,k=w[E]),e.$$.dirty[0]&67108928&&n(20,r=Object.keys(w).filter(d=>S.trim()==""?!0:d.toLowerCase().includes(S.trim().toLowerCase()))),e.$$.dirty[0]&144){n(7,q=[]);let d=1e3*60*60,H=Math.floor(N[0]/d)*d;for(let J=H;J<N[1];J+=d)q.push(J)}if(e.$$.dirty[0]&280){let d=[y,N[1]+y-N[0]];I.domain(d),n(8,I),n(3,y),n(4,N)}if(e.$$.dirty[0]&4196352&&n(15,i=Z(A,k)),e.$$.dirty[0]&4194304&&n(19,o=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:k}).format),e.$$.dirty[0]&4194304&&n(18,u=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:k}).format),e.$$.dirty[0]&36880){n(12,R=[]);let d=1e3*60*60*24,H=Math.floor((N[0]-i)/d)*d;for(let J=H;J<N[1];J+=d)R.push(J)}if(e.$$.dirty[0]&33554433){let d=l.find(H=>H.capital=="primary"&&H.country.toLowerCase()==(E==null?void 0:E.toLowerCase()));if(!d){let H=E==null?void 0:E.split("/")[1];H=H==null?void 0:H.replace(/_/g," "),d=l.find(J=>J.city_ascii.toLowerCase()==(H==null?void 0:H.toLowerCase()))}d?n(23,V=[d.lat,d.lng]):n(23,V=void 0)}if(e.$$.dirty[0]&8396816&&(n(13,ie=[]),V))for(let d=N[0];d<N[1];d+=1e3*60*60*24){let H=mt.getTimes(d,V[0],V[1]),J=H.sunrise.getTime(),p=H.sunset.getTime(),U=H.solarNoon.getTime();ie.push([J-1,null]);const C=15;for(let j=J;j<p;j+=1e3*60*C){let te=mt.getPosition(j,V[0],V[1]);if(ie.push([j,te.altitude]),j<=U&&U<=j+1e3*60*C){let g=mt.getPosition(new Date(U),V[0],V[1]);ie.push([U,g.altitude])}}let h=p,ee=mt.getPosition(h,V[0],V[1]);ie.push([h,ee.altitude]),ie.push([p+1,null])}e.$$.dirty[0]&16785920&&(_.domain([Qr(ie,d=>d[1]),Math.PI/2]),_.range([x(1),x(0)]),n(24,_),n(13,ie),n(9,x),n(23,V),n(4,N),n(25,l),n(0,E)),e.$$.dirty[0]&16827648&&(z.x(d=>I(d[0]+i)).y0((B==null?void 0:B.clientHeight)||10).y1(d=>_(d[1])).defined(d=>d[1]!==null),n(14,z),n(8,I),n(15,i),n(10,B),n(24,_),n(3,y),n(4,N),n(11,A),n(22,k),n(13,ie),n(9,x),n(26,w),n(0,E),n(23,V),n(25,l)),e.$$.dirty[0]&4096&&n(17,s=d=>R.includes(d))},[E,L,W,y,N,re,S,q,I,x,B,A,R,ie,z,i,ne,s,u,o,r,b,k,V,_,l,w,P,$,G]}class bu extends tr{constructor(t){super(),nr(this,t,Mu,xu,Kn,{timezoneNames:1,timezones:2,value:22,dropdownValue:0,anchorTime:3,timeRange:4,cities:5},null,[-1,-1])}}function Gn(e,t,n){const r=e.slice();return r[19]=t[n],r[20]=t,r[21]=n,r}function Qn(e){let t,n,r;function i(u){e[14](u,e[19],e[20],e[21])}let o={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[6],timeRange:e[4]};return e[19]!==void 0&&(o.value=e[19]),t=new bu({props:o}),er.push(()=>Hr(t,"value",i)),{c(){Yr(t.$$.fragment)},l(u){Lr(t.$$.fragment,u)},m(u,s){Rr(t,u,s),r=!0},p(u,s){e=u;const l={};s&2&&(l.timezoneNames=e[1]),s&1&&(l.timezones=e[0]),s&4&&(l.cities=e[2]),s&16&&(l.timeRange=e[4]),!n&&s&8&&(n=!0,l.value=e[19],zr(()=>n=!1)),t.$set(l)},i(u){r||(nt(t.$$.fragment,u),r=!0)},o(u){jt(t.$$.fragment,u),r=!1},d(u){Pr(t,u)}}}function vu(e){let t,n,r,i="<<",o,u,s="<",l,a=new Date(e[4][0]).toLocaleString()+"",m,f,c,v=">",w,T,O=">>",L,W,k,S,E="Add Timezone",b,y,N=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,q,I,x,B=Se(e[3]),F=[];for(let A=0;A<B.length;A+=1)F[A]=Qn(Gn(e,B,A));const ne=A=>jt(F[A],1,1,()=>{F[A]=null});return{c(){t=qe(`

A simple way to coordinate cross-timezone events.

`),n=de("p"),r=de("button"),r.textContent=i,o=ve(),u=de("button"),u.textContent=s,l=ve(),m=qe(a),f=ve(),c=de("button"),c.textContent=v,w=ve(),T=de("button"),T.textContent=O,L=ve(),W=de("p");for(let A=0;A<F.length;A+=1)F[A].c();k=ve(),S=de("button"),S.textContent=E,b=ve(),y=de("p"),y.innerHTML=N,this.h()},l(A){Fr("svelte-rguy8y",document.head).forEach(Q),t=Ze(A,`

A simple way to coordinate cross-timezone events.

`),n=pe(A,"P",{});var R=oe(n);r=pe(R,"BUTTON",{"data-svelte-h":!0}),Pe(r)!=="svelte-1wh109k"&&(r.textContent=i),o=Te(R),u=pe(R,"BUTTON",{"data-svelte-h":!0}),Pe(u)!=="svelte-8q1f0u"&&(u.textContent=s),l=Te(R),m=Ze(R,a),f=Te(R),c=pe(R,"BUTTON",{"data-svelte-h":!0}),Pe(c)!=="svelte-p2yix0"&&(c.textContent=v),w=Te(R),T=pe(R,"BUTTON",{"data-svelte-h":!0}),Pe(T)!=="svelte-al0ej"&&(T.textContent=O),R.forEach(Q),L=Te(A),W=pe(A,"P",{});var re=oe(W);for(let V=0;V<F.length;V+=1)F[V].l(re);k=Te(re),S=pe(re,"BUTTON",{"data-svelte-h":!0}),Pe(S)!=="svelte-1jawmqt"&&(S.textContent=E),re.forEach(Q),b=Te(A),y=pe(A,"P",{"data-svelte-h":!0}),Pe(y)!=="svelte-hqholg"&&(y.innerHTML=N),this.h()},h(){document.title="Cross-Timezone Events"},m(A,Z){Me(A,t,Z),Me(A,n,Z),X(n,r),X(n,o),X(n,u),X(n,l),X(n,m),X(n,f),X(n,c),X(n,w),X(n,T),Me(A,L,Z),Me(A,W,Z);for(let R=0;R<F.length;R+=1)F[R]&&F[R].m(W,null);X(W,k),X(W,S),Me(A,b,Z),Me(A,y,Z),q=!0,I||(x=[ze(r,"click",e[10]),ze(u,"click",e[11]),ze(c,"click",e[12]),ze(T,"click",e[13]),ze(S,"click",e[15])],I=!0)},p(A,[Z]){if((!q||Z&16)&&a!==(a=new Date(A[4][0]).toLocaleString()+"")&&rt(m,a),Z&95){B=Se(A[3]);let R;for(R=0;R<B.length;R+=1){const re=Gn(A,B,R);F[R]?(F[R].p(re,Z),nt(F[R],1)):(F[R]=Qn(re),F[R].c(),nt(F[R],1),F[R].m(W,k))}for(Or(),R=B.length;R<F.length;R+=1)ne(R);Ar()}},i(A){if(!q){for(let Z=0;Z<B.length;Z+=1)nt(F[Z]);q=!0}},o(A){F=F.filter(Boolean);for(let Z=0;Z<F.length;Z+=1)jt(F[Z]);q=!1},d(A){A&&(Q(t),Q(n),Q(L),Q(W),Q(b),Q(y)),rr(F,A),I=!1,Qt(x)}}}function Tu(e,t,n){let r;async function i(){const y=await(await fetch(`${zt}/time_zone.csv`)).text(),N=kn(y);let q={};for(let I of N){let[x,B,F,ne,A,Z]=I;q[x]||(q[x]=[]),q[x].push({zone_name:x,country_code:B,abbreviation:F,time_start:+ne*1e3,gmt_offset:+A*1e3,dst:Z==="1"})}for(let I in q)q[I].sort((x,B)=>B.time_start-x.time_start);return n(0,a=Ee(q)),q}async function o(){const y=await(await fetch(`${zt}/country.csv`)).text(),N=kn(y);let q={};for(let I of N){let[x,B]=I;q[x]=B}return n(9,u=Ee(q)),q}let u=Ee({});async function s(){const y=await(await fetch(`${zt}/worldcities.csv`)).text(),N=Ni(y);return n(2,l=Ee(N)),N}let l=Ee([]),a=Ee({});$n(()=>{i(),o(),s()});const m=Intl.DateTimeFormat().resolvedOptions().timeZone;let f=[m],c=Date.now(),v=[c,c+3*24*60*60*1e3];function w(b){n(4,v=v.map(y=>y+b))}const T=24*60*60*1e3,O=()=>w(-7*T),L=()=>w(-T),W=()=>w(T),k=()=>w(7*T);function S(b,y,N,q){N[q]=b,n(3,f)}const E=()=>n(3,f=[...f,m]);return e.$$.update=()=>{e.$$.dirty&513&&n(1,r=Ir([a,u],([b,y])=>{let N=Object.entries(y).map(([x,B])=>{var F;return[B,(F=Object.values(b).map(ne=>ne[0]).find(ne=>ne.country_code==x))==null?void 0:F.zone_name]}),q=[...Object.keys(b).map(x=>[x,x]),...N];return Object.fromEntries(q)}))},[a,r,l,f,v,m,c,w,T,u,O,L,W,k,S,E]}class Du extends tr{constructor(t){super(),nr(this,t,Tu,vu,Kn,{})}}export{Du as component};
