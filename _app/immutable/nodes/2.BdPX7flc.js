import{r as pn,s as xr,h as fo,z as it,o as Cr,n as $e,d as et,A as Ne,f as an,b as En,B as co}from"../chunks/scheduler.BrrrnB_2.js";import{a as We,t as Ee,S as kr,i as Dr,e as we,s as Ae,y as se,b as Oe,c as Me,d as ne,h as Re,g as I,z as le,f as Ie,o as h,j as Ce,k as j,A as Yt,B as zn,C as xe,q as xt,n as Ct,l as at,D as sn,m as Lt,E as ho,F as _n,G as mo,H as tt,I as go,u as yo,v as po,w as _o,x as bo}from"../chunks/index.TzY72PjB.js";import{r as nt,w as Qe,d as wo,b as Jt}from"../chunks/paths.89nBxmY_.js";const Mo=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Pe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Fn(e,t){We(e,1,1,()=>{t.delete(e.key)})}function An(e,t,n,r,o,i,a,s,f,u,m,l){let c=e.length,b=i.length,g=c;const d={};for(;g--;)d[e[g].key]=g;const w=[],D=new Map,H=new Map,E=[];for(g=b;g--;){const F=l(o,i,g),P=n(F);let ee=a.get(P);ee?r&&E.push(()=>ee.p(F,t)):(ee=u(P,F),ee.c()),D.set(P,w[g]=ee),P in d&&H.set(P,Math.abs(g-d[P]))}const L=new Set,B=new Set;function S(F){Ee(F,1),F.m(s,m),a.set(F.key,F),m=F.first,b--}for(;c&&b;){const F=w[b-1],P=e[c-1],ee=F.key,te=P.key;F===P?(m=F.first,c--,b--):D.has(te)?!a.has(ee)||L.has(ee)?S(F):B.has(te)?c--:H.get(ee)>H.get(te)?(B.add(ee),S(F)):(L.add(te),c--):(f(P,a),c--)}for(;c--;){const F=e[c];D.has(F.key)||f(F,a)}for(;b;)S(w[b-1]);return pn(E),w}function Ht(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bn(e){let t,n,r;e.length!==2?(t=Ht,n=(s,f)=>Ht(e(s),f),r=(s,f)=>e(s)-f):(t=e===Ht||e===vo?e:To,n=e,r=e);function o(s,f,u=0,m=s.length){if(u<m){if(t(f,f)!==0)return m;do{const l=u+m>>>1;n(s[l],f)<0?u=l+1:m=l}while(u<m)}return u}function i(s,f,u=0,m=s.length){if(u<m){if(t(f,f)!==0)return m;do{const l=u+m>>>1;n(s[l],f)<=0?u=l+1:m=l}while(u<m)}return u}function a(s,f,u=0,m=s.length){const l=o(s,f,u,m-1);return l>u&&r(s[l-1],f)>-r(s[l],f)?l-1:l}return{left:o,center:a,right:i}}function To(){return 0}function xo(e){return e===null?NaN:+e}const Co=bn(Ht),ko=Co.right;bn(xo).center;const Do=Math.sqrt(50),Uo=Math.sqrt(10),So=Math.sqrt(2);function Ot(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=Do?10:i>=Uo?5:i>=So?2:1;let s,f,u;return o<0?(u=Math.pow(10,-o)/a,s=Math.round(e*u),f=Math.round(t*u),s/u<e&&++s,f/u>t&&--f,u=-u):(u=Math.pow(10,o)*a,s=Math.round(e/u),f=Math.round(t/u),s*u<e&&++s,f*u>t&&--f),f<s&&.5<=n&&n<2?Ot(e,t,n*2):[s,f,u]}function No(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,a]=r?Ot(t,e,n):Ot(e,t,n);if(!(i>=o))return[];const s=i-o+1,f=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)f[u]=(i-u)/-a;else for(let u=0;u<s;++u)f[u]=(i-u)*a;else if(a<0)for(let u=0;u<s;++u)f[u]=(o+u)/-a;else for(let u=0;u<s;++u)f[u]=(o+u)*a;return f}function ln(e,t,n){return t=+t,e=+e,n=+n,Ot(e,t,n)[2]}function fn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?ln(t,e,n):ln(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function Eo(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function wn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ur(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function St(){}var kt=.7,It=1/kt,gt="\\s*([+-]?\\d+)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zo=/^#([0-9a-f]{3,8})$/,Fo=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),Ao=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),Ro=new RegExp(`^rgba\\(${gt},${gt},${gt},${Dt}\\)$`),Ho=new RegExp(`^rgba\\(${je},${je},${je},${Dt}\\)$`),Yo=new RegExp(`^hsl\\(${Dt},${je},${je}\\)$`),Lo=new RegExp(`^hsla\\(${Dt},${je},${je},${Dt}\\)$`),Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wn(St,Ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hn,formatHex:Hn,formatHex8:Oo,formatHsl:Io,formatRgb:Yn,toString:Yn});function Hn(){return this.rgb().formatHex()}function Oo(){return this.rgb().formatHex8()}function Io(){return Sr(this).formatHsl()}function Yn(){return this.rgb().formatRgb()}function Ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ln(t):n===3?new Ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fo.exec(e))?new Ue(t[1],t[2],t[3],1):(t=Ao.exec(e))?new Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ro.exec(e))?zt(t[1],t[2],t[3],t[4]):(t=Ho.exec(e))?zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yo.exec(e))?Pn(t[1],t[2]/100,t[3]/100,1):(t=Lo.exec(e))?Pn(t[1],t[2]/100,t[3]/100,t[4]):Rn.hasOwnProperty(e)?Ln(Rn[e]):e==="transparent"?new Ue(NaN,NaN,NaN,0):null}function Ln(e){return new Ue(e>>16&255,e>>8&255,e&255,1)}function zt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ue(e,t,n,r)}function Po(e){return e instanceof St||(e=Ut(e)),e?(e=e.rgb(),new Ue(e.r,e.g,e.b,e.opacity)):new Ue}function cn(e,t,n,r){return arguments.length===1?Po(e):new Ue(e,t,n,r??1)}function Ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wn(Ue,cn,Ur(St,{brighter(e){return e=e==null?It:Math.pow(It,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kt:Math.pow(kt,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ue(ut(this.r),ut(this.g),ut(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:On,formatHex:On,formatHex8:jo,formatRgb:In,toString:In}));function On(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function jo(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function In(){const e=Pt(this.opacity);return`${e===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${e===1?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ot(e){return e=ut(e),(e<16?"0":"")+e.toString(16)}function Pn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Le(e,t,n,r)}function Sr(e){if(e instanceof Le)return new Le(e.h,e.s,e.l,e.opacity);if(e instanceof St||(e=Ut(e)),!e)return new Le;if(e instanceof Le)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,f=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=f<.5?i+o:2-i-o,a*=60):s=f>0&&f<1?0:a,new Le(a,s,f,e.opacity)}function Wo(e,t,n,r){return arguments.length===1?Sr(e):new Le(e,t,n,r??1)}function Le(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wn(Le,Wo,Ur(St,{brighter(e){return e=e==null?It:Math.pow(It,e),new Le(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kt:Math.pow(kt,e),new Le(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ue(Gt(e>=240?e-240:e+120,o,r),Gt(e,o,r),Gt(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Le(jn(this.h),Ft(this.s),Ft(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${e===1?"hsl(":"hsla("}${jn(this.h)}, ${Ft(this.s)*100}%, ${Ft(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jn(e){return e=(e||0)%360,e<0?e+360:e}function Ft(e){return Math.max(0,Math.min(1,e||0))}function Gt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Mn=e=>()=>e;function qo(e,t){return function(n){return e+n*t}}function Bo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zo(e){return(e=+e)==1?Nr:function(t,n){return n-t?Bo(t,n,e):Mn(isNaN(t)?n:t)}}function Nr(e,t){var n=t-e;return n?qo(e,n):Mn(isNaN(e)?t:e)}const Wn=function e(t){var n=Zo(t);function r(o,i){var a=n((o=cn(o)).r,(i=cn(i)).r),s=n(o.g,i.g),f=n(o.b,i.b),u=Nr(o.opacity,i.opacity);return function(m){return o.r=a(m),o.g=s(m),o.b=f(m),o.opacity=u(m),o+""}}return r.gamma=e,r}(1);function Vo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Xo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=vn(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function Go(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Qo(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=vn(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qt=new RegExp(hn.source,"g");function Ko(e){return function(){return e}}function $o(e){return function(t){return e(t)+""}}function ei(e,t){var n=hn.lastIndex=Qt.lastIndex=0,r,o,i,a=-1,s=[],f=[];for(e=e+"",t=t+"";(r=hn.exec(e))&&(o=Qt.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,f.push({i:a,x:jt(r,o)})),n=Qt.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?f[0]?$o(f[0].x):Ko(t):(t=f.length,function(u){for(var m=0,l;m<t;++m)s[(l=f[m]).i]=l.x(u);return s.join("")})}function vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Mn(t):(n==="number"?jt:n==="string"?(r=Ut(t))?(t=r,Wn):ei:t instanceof Ut?Wn:t instanceof Date?Go:Xo(t)?Vo:Array.isArray(t)?Jo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qo:jt)(e,t)}function ti(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const mn=Math.PI,gn=2*mn,rt=1e-6,ni=gn-rt;function Er(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ri(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Er;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class oi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Er:ri(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,f=r-t,u=o-n,m=a-t,l=s-n,c=m*m+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>rt)if(!(Math.abs(l*f-u*m)>rt)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-a,g=o-s,d=f*f+u*u,w=b*b+g*g,D=Math.sqrt(d),H=Math.sqrt(c),E=i*Math.tan((mn-Math.acos((d+c-w)/(2*D*H)))/2),L=E/H,B=E/D;Math.abs(L-1)>rt&&this._append`L${t+L*m},${n+L*l}`,this._append`A${i},${i},0,0,${+(l*b>m*g)},${this._x1=t+B*f},${this._y1=n+B*u}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),f=r*Math.sin(o),u=t+s,m=n+f,l=1^a,c=a?o-i:i-o;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>rt||Math.abs(this._y1-m)>rt)&&this._append`L${u},${m}`,r&&(c<0&&(c=c%gn+gn),c>ni?this._append`A${r},${r},0,1,${l},${t-s},${n-f}A${r},${r},0,1,${l},${this._x1=u},${this._y1=m}`:c>rt&&this._append`A${r},${r},0,${+(c>=mn)},${l},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}var qn={},Kt={},$t=34,bt=10,en=13;function zr(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function ii(e,t){var n=zr(e);return function(r,o){return t(n(r),o,e)}}function Bn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function De(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ui(e){return e<0?"-"+De(-e,6):e>9999?"+"+De(e,6):De(e,4)}function ai(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ui(e.getUTCFullYear())+"-"+De(e.getUTCMonth()+1,2)+"-"+De(e.getUTCDate(),2)+(o?"T"+De(t,2)+":"+De(n,2)+":"+De(r,2)+"."+De(o,3)+"Z":r?"T"+De(t,2)+":"+De(n,2)+":"+De(r,2)+"Z":n||t?"T"+De(t,2)+":"+De(n,2)+"Z":"")}function si(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(l,c){var b,g,d=o(l,function(w,D){if(b)return b(w,D-1);g=w,b=c?ii(w,c):zr(w)});return d.columns=g||[],d}function o(l,c){var b=[],g=l.length,d=0,w=0,D,H=g<=0,E=!1;l.charCodeAt(g-1)===bt&&--g,l.charCodeAt(g-1)===en&&--g;function L(){if(H)return Kt;if(E)return E=!1,qn;var S,F=d,P;if(l.charCodeAt(F)===$t){for(;d++<g&&l.charCodeAt(d)!==$t||l.charCodeAt(++d)===$t;);return(S=d)>=g?H=!0:(P=l.charCodeAt(d++))===bt?E=!0:P===en&&(E=!0,l.charCodeAt(d)===bt&&++d),l.slice(F+1,S-1).replace(/""/g,'"')}for(;d<g;){if((P=l.charCodeAt(S=d++))===bt)E=!0;else if(P===en)E=!0,l.charCodeAt(d)===bt&&++d;else if(P!==n)continue;return l.slice(F,S)}return H=!0,l.slice(F,g)}for(;(D=L())!==Kt;){for(var B=[];D!==qn&&D!==Kt;)B.push(D),D=L();c&&(B=c(B,w++))==null||b.push(B)}return b}function i(l,c){return l.map(function(b){return c.map(function(g){return m(b[g])}).join(e)})}function a(l,c){return c==null&&(c=Bn(l)),[c.map(m).join(e)].concat(i(l,c)).join(`
`)}function s(l,c){return c==null&&(c=Bn(l)),i(l,c).join(`
`)}function f(l){return l.map(u).join(`
`)}function u(l){return l.map(m).join(e)}function m(l){return l==null?"":l instanceof Date?ai(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:o,format:a,formatBody:s,formatRows:f,formatRow:u,formatValue:m}}var Fr=si(","),li=Fr.parse,Zn=Fr.parseRows;function fi(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dt(e){return e=Wt(Math.abs(e)),e?e[1]:NaN}function ci(e,t){return function(n,r){for(var o=n.length,i=[],a=0,s=e[0],f=0;o>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),i.push(n.substring(o-=s,o+s)),!((f+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(t)}}function hi(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qt(e){if(!(t=mi.exec(e)))throw new Error("invalid format: "+e);var t;return new Tn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qt.prototype=Tn.prototype;function Tn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gi(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var Ar;function di(e,t){var n=Wt(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Ar=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Wt(e,Math.max(0,t+i-1))[0]}function Vn(e,t){var n=Wt(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Xn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fi,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vn(e*100,t),r:Vn,s:di,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jn(e){return e}var Gn=Array.prototype.map,Qn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yi(e){var t=e.grouping===void 0||e.thousands===void 0?Jn:ci(Gn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Jn:hi(Gn.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function u(l){l=qt(l);var c=l.fill,b=l.align,g=l.sign,d=l.symbol,w=l.zero,D=l.width,H=l.comma,E=l.precision,L=l.trim,B=l.type;B==="n"?(H=!0,B="g"):Xn[B]||(E===void 0&&(E=12),L=!0,B="g"),(w||c==="0"&&b==="=")&&(w=!0,c="0",b="=");var S=d==="$"?n:d==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",F=d==="$"?r:/[%p]/.test(B)?a:"",P=Xn[B],ee=/[defgprs%]/.test(B);E=E===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function te(W){var G=S,ie=F,fe,Z,V;if(B==="c")ie=P(W)+ie,W="";else{W=+W;var Q=W<0||1/W<0;if(W=isNaN(W)?f:P(Math.abs(W),E),L&&(W=gi(W)),Q&&+W==0&&g!=="+"&&(Q=!1),G=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+G,ie=(B==="s"?Qn[8+Ar/3]:"")+ie+(Q&&g==="("?")":""),ee){for(fe=-1,Z=W.length;++fe<Z;)if(V=W.charCodeAt(fe),48>V||V>57){ie=(V===46?o+W.slice(fe+1):W.slice(fe))+ie,W=W.slice(0,fe);break}}}H&&!w&&(W=t(W,1/0));var Y=G.length+W.length+ie.length,K=Y<D?new Array(D-Y+1).join(c):"";switch(H&&w&&(W=t(K+W,K.length?D-ie.length:1/0),K=""),b){case"<":W=G+W+ie+K;break;case"=":W=G+K+W+ie;break;case"^":W=K.slice(0,Y=K.length>>1)+G+W+ie+K.slice(Y);break;default:W=K+G+W+ie;break}return i(W)}return te.toString=function(){return l+""},te}function m(l,c){var b=u((l=qt(l),l.type="f",l)),g=Math.max(-8,Math.min(8,Math.floor(dt(c)/3)))*3,d=Math.pow(10,-g),w=Qn[8+g/3];return function(D){return b(d*D)+w}}return{format:u,formatPrefix:m}}var At,Rr,Hr;pi({thousands:",",grouping:[3],currency:["$",""]});function pi(e){return At=yi(e),Rr=At.format,Hr=At.formatPrefix,At}function _i(e){return Math.max(0,-dt(Math.abs(e)))}function bi(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(t)/3)))*3-dt(Math.abs(e)))}function wi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dt(t)-dt(e))+1}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mi(e){return function(){return e}}function vi(e){return+e}var Kn=[0,1];function ht(e){return e}function dn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Mi(isNaN(t)?NaN:.5)}function Ti(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xi(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=dn(o,r),i=n(a,i)):(r=dn(r,o),i=n(i,a)),function(s){return i(r(s))}}function Ci(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=dn(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(s){var f=ko(e,s,1,r)-1;return i[f](o[f](s))}}function Lr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ki(){var e=Kn,t=Kn,n=vn,r,o,i,a=ht,s,f,u;function m(){var c=Math.min(e.length,t.length);return a!==ht&&(a=Ti(e[0],e[c-1])),s=c>2?Ci:xi,f=u=null,l}function l(c){return c==null||isNaN(c=+c)?i:(f||(f=s(e.map(r),t,n)))(r(a(c)))}return l.invert=function(c){return a(o((u||(u=s(t,e.map(r),jt)))(c)))},l.domain=function(c){return arguments.length?(e=Array.from(c,vi),m()):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),m()):t.slice()},l.rangeRound=function(c){return t=Array.from(c),n=ti,m()},l.clamp=function(c){return arguments.length?(a=c?!0:ht,m()):a!==ht},l.interpolate=function(c){return arguments.length?(n=c,m()):n},l.unknown=function(c){return arguments.length?(i=c,l):i},function(c,b){return r=c,o=b,m()}}function Or(){return ki()(ht,ht)}function Di(e,t,n,r){var o=fn(e,t,n),i;switch(r=qt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=bi(o,a))&&(r.precision=i),Hr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=wi(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=_i(o))&&(r.precision=i-(r.type==="%")*2);break}}return Rr(r)}function Ui(e){var t=e.domain;return e.ticks=function(n){var r=t();return No(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return Di(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,a=r[o],s=r[i],f,u,m=10;for(s<a&&(u=a,a=s,s=u,u=o,o=i,i=u);m-- >0;){if(u=ln(a,s,n),u===f)return r[o]=a,r[i]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;f=u}return e},e}function yn(){var e=Or();return e.copy=function(){return Lr(e,yn())},Yr.apply(e,arguments),Ui(e)}function Si(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}const tn=new Date,nn=new Date;function pe(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),s=o.ceil(i);return i-a<s-i?a:s},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,s)=>{const f=[];if(i=o.ceil(i),s=s==null?1:Math.floor(s),!(i<a)||!(s>0))return f;let u;do f.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<a);return f},o.filter=i=>pe(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!i(a););else for(;--s>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(tn.setTime(+i),nn.setTime(+a),e(tn),e(nn),Math.floor(n(tn,nn))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const Bt=pe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bt);Bt.range;const Ve=1e3,He=Ve*60,Xe=He*60,Je=Xe*24,xn=Je*7,$n=Je*30,rn=Je*365,mt=pe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ve)},(e,t)=>(t-e)/Ve,e=>e.getUTCSeconds());mt.range;const Cn=pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ve)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getMinutes());Cn.range;const Ni=pe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getUTCMinutes());Ni.range;const kn=pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ve-e.getMinutes()*He)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getHours());kn.range;const Ei=pe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getUTCHours());Ei.range;const Nt=pe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*He)/Je,e=>e.getDate()-1);Nt.range;const Dn=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Je,e=>e.getUTCDate()-1);Dn.range;const zi=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Je,e=>Math.floor(e/Je));zi.range;function lt(e){return pe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*He)/xn)}const Xt=lt(0),Zt=lt(1),Fi=lt(2),Ai=lt(3),yt=lt(4),Ri=lt(5),Hi=lt(6);Xt.range;Zt.range;Fi.range;Ai.range;yt.range;Ri.range;Hi.range;function ft(e){return pe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xn)}const Ir=ft(0),Vt=ft(1),Yi=ft(2),Li=ft(3),pt=ft(4),Oi=ft(5),Ii=ft(6);Ir.range;Vt.range;Yi.range;Li.range;pt.range;Oi.range;Ii.range;const Un=pe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Un.range;const Pi=pe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pi.range;const Ge=pe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ge.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ge.range;const st=pe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());st.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});st.range;function ji(e,t,n,r,o,i){const a=[[mt,1,Ve],[mt,5,5*Ve],[mt,15,15*Ve],[mt,30,30*Ve],[i,1,He],[i,5,5*He],[i,15,15*He],[i,30,30*He],[o,1,Xe],[o,3,3*Xe],[o,6,6*Xe],[o,12,12*Xe],[r,1,Je],[r,2,2*Je],[n,1,xn],[t,1,$n],[t,3,3*$n],[e,1,rn]];function s(u,m,l){const c=m<u;c&&([u,m]=[m,u]);const b=l&&typeof l.range=="function"?l:f(u,m,l),g=b?b.range(u,+m+1):[];return c?g.reverse():g}function f(u,m,l){const c=Math.abs(m-u)/l,b=bn(([,,w])=>w).right(a,c);if(b===a.length)return e.every(fn(u/rn,m/rn,l));if(b===0)return Bt.every(Math.max(fn(u,m,l),1));const[g,d]=a[c/a[b-1][2]<a[b][2]/c?b-1:b];return g.every(d)}return[s,f]}const[Wi,qi]=ji(Ge,Un,Xt,Nt,kn,Cn);function on(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function un(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Bi(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,f=e.shortMonths,u=Mt(o),m=vt(o),l=Mt(i),c=vt(i),b=Mt(a),g=vt(a),d=Mt(s),w=vt(s),D=Mt(f),H=vt(f),E={a:Q,A:Y,b:K,B:O,c:null,d:ir,e:ir,f:gu,g:xu,G:ku,H:cu,I:hu,j:mu,L:Pr,m:du,M:yu,p:v,q:C,Q:sr,s:lr,S:pu,u:_u,U:bu,V:wu,w:Mu,W:vu,x:null,X:null,y:Tu,Y:Cu,Z:Du,"%":ar},L={a:A,A:R,b:q,B:z,c:null,d:ur,e:ur,f:Eu,g:Pu,G:Wu,H:Uu,I:Su,j:Nu,L:Wr,m:zu,M:Fu,p:X,q:T,Q:sr,s:lr,S:Au,u:Ru,U:Hu,V:Yu,w:Lu,W:Ou,x:null,X:null,y:Iu,Y:ju,Z:qu,"%":ar},B={a:te,A:W,b:G,B:ie,c:fe,d:rr,e:rr,f:au,g:nr,G:tr,H:or,I:or,j:ru,L:uu,m:nu,M:ou,p:ee,q:tu,Q:lu,s:fu,S:iu,u:Gi,U:Qi,V:Ki,w:Ji,W:$i,x:Z,X:V,y:nr,Y:tr,Z:eu,"%":su};E.x=S(n,E),E.X=S(r,E),E.c=S(t,E),L.x=S(n,L),L.X=S(r,L),L.c=S(t,L);function S(y,x){return function(k){var _=[],J=-1,p=0,N=y.length,U,ue,re;for(k instanceof Date||(k=new Date(+k));++J<N;)y.charCodeAt(J)===37&&(_.push(y.slice(p,J)),(ue=er[U=y.charAt(++J)])!=null?U=y.charAt(++J):ue=U==="e"?" ":"0",(re=x[U])&&(U=re(k,ue)),_.push(U),p=J+1);return _.push(y.slice(p,J)),_.join("")}}function F(y,x){return function(k){var _=wt(1900,void 0,1),J=P(_,y,k+="",0),p,N;if(J!=k.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(x&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(p=un(wt(_.y,0,1)),N=p.getUTCDay(),p=N>4||N===0?Vt.ceil(p):Vt(p),p=Dn.offset(p,(_.V-1)*7),_.y=p.getUTCFullYear(),_.m=p.getUTCMonth(),_.d=p.getUTCDate()+(_.w+6)%7):(p=on(wt(_.y,0,1)),N=p.getDay(),p=N>4||N===0?Zt.ceil(p):Zt(p),p=Nt.offset(p,(_.V-1)*7),_.y=p.getFullYear(),_.m=p.getMonth(),_.d=p.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),N="Z"in _?un(wt(_.y,0,1)).getUTCDay():on(wt(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(N+5)%7:_.w+_.U*7-(N+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,un(_)):on(_)}}function P(y,x,k,_){for(var J=0,p=x.length,N=k.length,U,ue;J<p;){if(_>=N)return-1;if(U=x.charCodeAt(J++),U===37){if(U=x.charAt(J++),ue=B[U in er?x.charAt(J++):U],!ue||(_=ue(y,k,_))<0)return-1}else if(U!=k.charCodeAt(_++))return-1}return _}function ee(y,x,k){var _=u.exec(x.slice(k));return _?(y.p=m.get(_[0].toLowerCase()),k+_[0].length):-1}function te(y,x,k){var _=b.exec(x.slice(k));return _?(y.w=g.get(_[0].toLowerCase()),k+_[0].length):-1}function W(y,x,k){var _=l.exec(x.slice(k));return _?(y.w=c.get(_[0].toLowerCase()),k+_[0].length):-1}function G(y,x,k){var _=D.exec(x.slice(k));return _?(y.m=H.get(_[0].toLowerCase()),k+_[0].length):-1}function ie(y,x,k){var _=d.exec(x.slice(k));return _?(y.m=w.get(_[0].toLowerCase()),k+_[0].length):-1}function fe(y,x,k){return P(y,t,x,k)}function Z(y,x,k){return P(y,n,x,k)}function V(y,x,k){return P(y,r,x,k)}function Q(y){return a[y.getDay()]}function Y(y){return i[y.getDay()]}function K(y){return f[y.getMonth()]}function O(y){return s[y.getMonth()]}function v(y){return o[+(y.getHours()>=12)]}function C(y){return 1+~~(y.getMonth()/3)}function A(y){return a[y.getUTCDay()]}function R(y){return i[y.getUTCDay()]}function q(y){return f[y.getUTCMonth()]}function z(y){return s[y.getUTCMonth()]}function X(y){return o[+(y.getUTCHours()>=12)]}function T(y){return 1+~~(y.getUTCMonth()/3)}return{format:function(y){var x=S(y+="",E);return x.toString=function(){return y},x},parse:function(y){var x=F(y+="",!1);return x.toString=function(){return y},x},utcFormat:function(y){var x=S(y+="",L);return x.toString=function(){return y},x},utcParse:function(y){var x=F(y+="",!0);return x.toString=function(){return y},x}}}var er={"-":"",_:" ",0:"0"},Te=/^\s*\d+/,Zi=/^%/,Vi=/[\\^$*+?|[\]().{}]/g;function ae(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Xi(e){return e.replace(Vi,"\\$&")}function Mt(e){return new RegExp("^(?:"+e.map(Xi).join("|")+")","i")}function vt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ji(e,t,n){var r=Te.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gi(e,t,n){var r=Te.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qi(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ki(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $i(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tr(e,t,n){var r=Te.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nr(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eu(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tu(e,t,n){var r=Te.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nu(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rr(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ru(e,t,n){var r=Te.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function or(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ou(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Te.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uu(e,t,n){var r=Te.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Te.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function su(e,t,n){var r=Zi.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lu(e,t,n){var r=Te.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fu(e,t,n){var r=Te.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ir(e,t){return ae(e.getDate(),t,2)}function cu(e,t){return ae(e.getHours(),t,2)}function hu(e,t){return ae(e.getHours()%12||12,t,2)}function mu(e,t){return ae(1+Nt.count(Ge(e),e),t,3)}function Pr(e,t){return ae(e.getMilliseconds(),t,3)}function gu(e,t){return Pr(e,t)+"000"}function du(e,t){return ae(e.getMonth()+1,t,2)}function yu(e,t){return ae(e.getMinutes(),t,2)}function pu(e,t){return ae(e.getSeconds(),t,2)}function _u(e){var t=e.getDay();return t===0?7:t}function bu(e,t){return ae(Xt.count(Ge(e)-1,e),t,2)}function jr(e){var t=e.getDay();return t>=4||t===0?yt(e):yt.ceil(e)}function wu(e,t){return e=jr(e),ae(yt.count(Ge(e),e)+(Ge(e).getDay()===4),t,2)}function Mu(e){return e.getDay()}function vu(e,t){return ae(Zt.count(Ge(e)-1,e),t,2)}function Tu(e,t){return ae(e.getFullYear()%100,t,2)}function xu(e,t){return e=jr(e),ae(e.getFullYear()%100,t,2)}function Cu(e,t){return ae(e.getFullYear()%1e4,t,4)}function ku(e,t){var n=e.getDay();return e=n>=4||n===0?yt(e):yt.ceil(e),ae(e.getFullYear()%1e4,t,4)}function Du(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ae(t/60|0,"0",2)+ae(t%60,"0",2)}function ur(e,t){return ae(e.getUTCDate(),t,2)}function Uu(e,t){return ae(e.getUTCHours(),t,2)}function Su(e,t){return ae(e.getUTCHours()%12||12,t,2)}function Nu(e,t){return ae(1+Dn.count(st(e),e),t,3)}function Wr(e,t){return ae(e.getUTCMilliseconds(),t,3)}function Eu(e,t){return Wr(e,t)+"000"}function zu(e,t){return ae(e.getUTCMonth()+1,t,2)}function Fu(e,t){return ae(e.getUTCMinutes(),t,2)}function Au(e,t){return ae(e.getUTCSeconds(),t,2)}function Ru(e){var t=e.getUTCDay();return t===0?7:t}function Hu(e,t){return ae(Ir.count(st(e)-1,e),t,2)}function qr(e){var t=e.getUTCDay();return t>=4||t===0?pt(e):pt.ceil(e)}function Yu(e,t){return e=qr(e),ae(pt.count(st(e),e)+(st(e).getUTCDay()===4),t,2)}function Lu(e){return e.getUTCDay()}function Ou(e,t){return ae(Vt.count(st(e)-1,e),t,2)}function Iu(e,t){return ae(e.getUTCFullYear()%100,t,2)}function Pu(e,t){return e=qr(e),ae(e.getUTCFullYear()%100,t,2)}function ju(e,t){return ae(e.getUTCFullYear()%1e4,t,4)}function Wu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pt(e):pt.ceil(e),ae(e.getUTCFullYear()%1e4,t,4)}function qu(){return"+0000"}function ar(){return"%"}function sr(e){return+e}function lr(e){return Math.floor(+e/1e3)}var ct,Br;Bu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bu(e){return ct=Bi(e),Br=ct.format,ct.parse,ct.utcFormat,ct.utcParse,ct}function Zu(e){return new Date(e)}function Vu(e){return e instanceof Date?+e:+new Date(+e)}function Zr(e,t,n,r,o,i,a,s,f,u){var m=Or(),l=m.invert,c=m.domain,b=u(".%L"),g=u(":%S"),d=u("%I:%M"),w=u("%I %p"),D=u("%a %d"),H=u("%b %d"),E=u("%B"),L=u("%Y");function B(S){return(f(S)<S?b:s(S)<S?g:a(S)<S?d:i(S)<S?w:r(S)<S?o(S)<S?D:H:n(S)<S?E:L)(S)}return m.invert=function(S){return new Date(l(S))},m.domain=function(S){return arguments.length?c(Array.from(S,Vu)):c().map(Zu)},m.ticks=function(S){var F=c();return e(F[0],F[F.length-1],S??10)},m.tickFormat=function(S,F){return F==null?B:u(F)},m.nice=function(S){var F=c();return(!S||typeof S.range!="function")&&(S=t(F[0],F[F.length-1],S??10)),S?c(Si(F,S)):m},m.copy=function(){return Lr(m,Zr(e,t,n,r,o,i,a,s,f,u))},m}function Xu(){return Yr.apply(Zr(Wi,qi,Ge,Un,Xt,Nt,kn,Cn,mt,Br).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ve(e){return function(){return e}}function Vr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new oi(t)}function Xr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jr(e){this._context=e}Jr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gr(e){return new Jr(e)}function Qr(e){return e[0]}function Kr(e){return e[1]}function Ju(e,t){var n=ve(!0),r=null,o=Gr,i=null,a=Vr(s);e=typeof e=="function"?e:e===void 0?Qr:ve(e),t=typeof t=="function"?t:t===void 0?Kr:ve(t);function s(f){var u,m=(f=Xr(f)).length,l,c=!1,b;for(r==null&&(i=o(b=a())),u=0;u<=m;++u)!(u<m&&n(l=f[u],u,f))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+e(l,u,f),+t(l,u,f));if(b)return i=null,b+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:ve(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:ve(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ve(!!f),s):n},s.curve=function(f){return arguments.length?(o=f,r!=null&&(i=o(r)),s):o},s.context=function(f){return arguments.length?(f==null?r=i=null:i=o(r=f),s):r},s}function Gu(e,t,n){var r=null,o=ve(!0),i=null,a=Gr,s=null,f=Vr(u);e=typeof e=="function"?e:e===void 0?Qr:ve(+e),t=typeof t=="function"?t:ve(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Kr:ve(+n);function u(l){var c,b,g,d=(l=Xr(l)).length,w,D=!1,H,E=new Array(d),L=new Array(d);for(i==null&&(s=a(H=f())),c=0;c<=d;++c){if(!(c<d&&o(w=l[c],c,l))===D)if(D=!D)b=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=c-1;g>=b;--g)s.point(E[g],L[g]);s.lineEnd(),s.areaEnd()}D&&(E[c]=+e(w,c,l),L[c]=+t(w,c,l),s.point(r?+r(w,c,l):E[c],n?+n(w,c,l):L[c]))}if(H)return s=null,H+""||null}function m(){return Ju().defined(o).curve(a).context(i)}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:ve(+l),r=null,u):e},u.x0=function(l){return arguments.length?(e=typeof l=="function"?l:ve(+l),u):e},u.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:ve(+l),u):r},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:ve(+l),n=null,u):t},u.y0=function(l){return arguments.length?(t=typeof l=="function"?l:ve(+l),u):t},u.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:ve(+l),u):n},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(n)},u.lineX1=function(){return m().x(r).y(t)},u.defined=function(l){return arguments.length?(o=typeof l=="function"?l:ve(!!l),u):o},u.curve=function(l){return arguments.length?(a=l,i!=null&&(s=a(i)),u):a},u.context=function(l){return arguments.length?(l==null?i=s=null:s=a(i=l),u):i},u}function Tt(e,t,n){this.k=e,this.x=t,this.y=n}Tt.prototype={constructor:Tt,scale:function(e){return e===1?this:new Tt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Tt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Tt.prototype;function Qu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $r={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,o=Math.cos,i=Math.tan,a=Math.asin,s=Math.atan2,f=Math.acos,u=n/180,m=1e3*60*60*24,l=2440588,c=2451545;function b(v){return v.valueOf()/m-.5+l}function g(v){return new Date((v+.5-l)*m)}function d(v){return b(v)-c}var w=u*23.4397;function D(v,C){return s(r(v)*o(w)-i(C)*r(w),o(v))}function H(v,C){return a(r(C)*o(w)+o(C)*r(w)*r(v))}function E(v,C,A){return s(r(v),o(v)*r(C)-i(A)*o(C))}function L(v,C,A){return a(r(C)*r(A)+o(C)*o(A)*o(v))}function B(v,C){return u*(280.16+360.9856235*v)-C}function S(v){return v<0&&(v=0),2967e-7/Math.tan(v+.00312536/(v+.08901179))}function F(v){return u*(357.5291+.98560028*v)}function P(v){var C=u*(1.9148*r(v)+.02*r(2*v)+3e-4*r(3*v)),A=u*102.9372;return v+C+A+n}function ee(v){var C=F(v),A=P(C);return{dec:H(A,0),ra:D(A,0)}}var te={};te.getPosition=function(v,C,A){var R=u*-A,q=u*C,z=d(v),X=ee(z),T=B(z,R)-X.ra;return{azimuth:E(T,q,X.dec),altitude:L(T,q,X.dec)}};var W=te.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];te.addTime=function(v,C,A){W.push([v,C,A])};var G=9e-4;function ie(v,C){return Math.round(v-G-C/(2*n))}function fe(v,C,A){return G+(v+C)/(2*n)+A}function Z(v,C,A){return c+v+.0053*r(C)-.0069*r(2*A)}function V(v,C,A){return f((r(v)-r(C)*r(A))/(o(C)*o(A)))}function Q(v){return-2.076*Math.sqrt(v)/60}function Y(v,C,A,R,q,z,X){var T=V(v,A,R),y=fe(T,C,q);return Z(y,z,X)}te.getTimes=function(v,C,A,R){R=R||0;var q=u*-A,z=u*C,X=Q(R),T=d(v),y=ie(T,q),x=fe(0,q,y),k=F(x),_=P(k),J=H(_,0),p=Z(x,k,_),N,U,ue,re,me,_e,ge={solarNoon:g(p),nadir:g(p-.5)};for(N=0,U=W.length;N<U;N+=1)ue=W[N],re=(ue[0]+X)*u,me=Y(re,q,z,J,y,k,_),_e=p-(me-p),ge[ue[1]]=g(_e),ge[ue[2]]=g(me);return ge};function K(v){var C=u*(218.316+13.176396*v),A=u*(134.963+13.064993*v),R=u*(93.272+13.22935*v),q=C+u*6.289*r(A),z=u*5.128*r(R),X=385001-20905*o(A);return{ra:D(q,z),dec:H(q,z),dist:X}}te.getMoonPosition=function(v,C,A){var R=u*-A,q=u*C,z=d(v),X=K(z),T=B(z,R)-X.ra,y=L(T,q,X.dec),x=s(r(T),i(q)*o(X.dec)-r(X.dec)*o(T));return y=y+S(y),{azimuth:E(T,q,X.dec),altitude:y,distance:X.dist,parallacticAngle:x}},te.getMoonIllumination=function(v){var C=d(v||new Date),A=ee(C),R=K(C),q=149598e3,z=f(r(A.dec)*r(R.dec)+o(A.dec)*o(R.dec)*o(A.ra-R.ra)),X=s(q*r(z),R.dist-q*o(z)),T=s(o(A.dec)*r(A.ra-R.ra),r(A.dec)*o(R.dec)-o(A.dec)*r(R.dec)*o(A.ra-R.ra));return{fraction:(1+o(X))/2,phase:.5+.5*X*(T<0?-1:1)/Math.PI,angle:T}};function O(v,C){return new Date(v.valueOf()+C*m/24)}te.getMoonTimes=function(v,C,A,R){var q=new Date(v);R?q.setUTCHours(0,0,0,0):q.setHours(0,0,0,0);for(var z=.133*u,X=te.getMoonPosition(q,C,A).altitude-z,T,y,x,k,_,J,p,N,U,ue,re,me,_e,ge=1;ge<=24&&(T=te.getMoonPosition(O(q,ge),C,A).altitude-z,y=te.getMoonPosition(O(q,ge+1),C,A).altitude-z,_=(X+y)/2-T,J=(y-X)/2,p=-J/(2*_),N=(_*p+J)*p+T,U=J*J-4*_*T,ue=0,U>=0&&(_e=Math.sqrt(U)/(Math.abs(_)*2),re=p-_e,me=p+_e,Math.abs(re)<=1&&ue++,Math.abs(me)<=1&&ue++,re<-1&&(re=me)),ue===1?X<0?x=ge+re:k=ge+re:ue===2&&(x=ge+(N<0?me:re),k=ge+(N<0?re:me)),!(x&&k));ge+=2)X=y;var qe={};return x&&(qe.rise=O(q,x)),k&&(qe.set=O(q,k)),!x&&!k&&(qe[N>0?"alwaysUp":"alwaysDown"]=!0),qe},e.exports=te})()})($r);var Ku=$r.exports;const Rt=Qu(Ku);new TextEncoder;function fr(e,t,n){const r=e.slice();return r[59]=t[n],r}function cr(e,t,n){const r=e.slice();return r[62]=t[n],r}function hr(e,t,n){const r=e.slice();return r[65]=t[n],r}function mr(e,t,n){const r=e.slice();return r[68]=t[n],r}function gr(e){let t,n=e[68]+"",r,o;return{c(){t=we("option"),r=Oe(n),this.h()},l(i){t=Me(i,"OPTION",{});var a=ne(t);r=Ie(a,n),a.forEach(I),this.h()},h(){t.__value=o=e[68],Yt(t,t.__value)},m(i,a){Ce(i,t,a),j(t,r)},p(i,a){a[0]&268435456&&n!==(n=i[68]+"")&&at(r,n),a[0]&268435456&&o!==(o=i[68])&&(t.__value=o,Yt(t,t.__value))},d(i){i&&I(t)}}}function dr(e){let t,n,r,o,i,a,s,f=e[24](e[30][0])+"",u,m,l,c,b=e[24](e[30][1])+"",g,d,w;return{c(){t=se("g"),n=se("rect"),s=se("text"),u=Oe(f),c=se("text"),g=Oe(b),this.h()},l(D){t=le(D,"g",{class:!0});var H=ne(t);n=le(H,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0}),ne(n).forEach(I),s=le(H,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var E=ne(s);u=Ie(E,f),E.forEach(I),c=le(H,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var L=ne(c);g=Ie(L,b),L.forEach(I),H.forEach(I),this.h()},h(){h(n,"x",r=e[10](e[30][0])),h(n,"y",o=e[11](0)),h(n,"width",i=e[10](e[30][1])-e[10](e[30][0])),h(n,"height",a=e[11](1)-e[11](0)),h(n,"class","svelte-1uend0u"),h(s,"x",m=e[10](e[30][0])),h(s,"y",l=e[11](0)),h(s,"dy",-2),h(s,"text-anchor","end"),h(s,"class","svelte-1uend0u"),h(c,"x",d=e[10](e[30][1])),h(c,"y",w=e[11](0)),h(c,"dy",-2),h(c,"text-anchor","start"),h(c,"class","svelte-1uend0u"),h(t,"class","selection svelte-1uend0u")},m(D,H){Ce(D,t,H),j(t,n),j(t,s),j(s,u),j(t,c),j(c,g)},p(D,H){H[0]&1073742848&&r!==(r=D[10](D[30][0]))&&h(n,"x",r),H[0]&2048&&o!==(o=D[11](0))&&h(n,"y",o),H[0]&1073742848&&i!==(i=D[10](D[30][1])-D[10](D[30][0]))&&h(n,"width",i),H[0]&2048&&a!==(a=D[11](1)-D[11](0))&&h(n,"height",a),H[0]&1090519040&&f!==(f=D[24](D[30][0])+"")&&at(u,f),H[0]&1073742848&&m!==(m=D[10](D[30][0]))&&h(s,"x",m),H[0]&2048&&l!==(l=D[11](0))&&h(s,"y",l),H[0]&1090519040&&b!==(b=D[24](D[30][1])+"")&&at(g,b),H[0]&1073742848&&d!==(d=D[10](D[30][1]))&&h(c,"x",d),H[0]&2048&&w!==(w=D[11](0))&&h(c,"y",w)},d(D){D&&I(t)}}}function yr(e){let t,n=e[65].day+"",r,o,i,a,s;return{c(){t=se("text"),r=Oe(n),this.h()},l(f){t=le(f,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var u=ne(t);r=Ie(u,n),u.forEach(I),this.h()},h(){h(t,"x",o=e[10](e[65].h)),h(t,"y",i=e[11](1)),h(t,"dy","1em"),h(t,"text-anchor","start"),h(t,"class","svelte-1uend0u")},m(f,u){Ce(f,t,u),j(t,r),s=!0},p(f,u){e=f,(!s||u[0]&134234112)&&n!==(n=e[65].day+"")&&at(r,n),(!s||u[0]&134235136&&o!==(o=e[10](e[65].h)))&&h(t,"x",o),(!s||u[0]&2048&&i!==(i=e[11](1)))&&h(t,"y",i)},i(f){s||(a&&a.end(1),s=!0)},o(f){f&&(a=_n(t,e[32],{duration:e[23]})),s=!1},d(f){f&&I(t),f&&a&&a.end()}}}function pr(e,t){let n,r,o,i,a,s,f,u,m,l=t[65].day&&yr(t);return{key:e,first:null,c(){n=se("line"),l&&l.c(),u=Lt(),this.h()},l(c){n=le(c,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),ne(n).forEach(I),l&&l.l(c),u=Lt(),this.h()},h(){h(n,"class",r=it(`${t[65].day?"midnight":""}`)+" svelte-1uend0u"),h(n,"x1",o=t[10](t[65].h)),h(n,"x2",i=t[10](t[65].h)),h(n,"y1",a=t[11](0)),h(n,"y2",s=t[11](1)),this.first=n},m(c,b){Ce(c,n,b),l&&l.m(c,b),Ce(c,u,b),m=!0},p(c,b){t=c,(!m||b[0]&134234112&&r!==(r=it(`${t[65].day?"midnight":""}`)+" svelte-1uend0u"))&&h(n,"class",r),(!m||b[0]&134235136&&o!==(o=t[10](t[65].h)))&&h(n,"x1",o),(!m||b[0]&134235136&&i!==(i=t[10](t[65].h)))&&h(n,"x2",i),(!m||b[0]&2048&&a!==(a=t[11](0)))&&h(n,"y1",a),(!m||b[0]&2048&&s!==(s=t[11](1)))&&h(n,"y2",s),t[65].day?l?(l.p(t,b),b[0]&134234112&&Ee(l,1)):(l=yr(t),l.c(),Ee(l,1),l.m(u.parentNode,u)):l&&(xt(),We(l,1,1,()=>{l=null}),Ct())},i(c){m||(f&&f.end(1),Ee(l),m=!0)},o(c){c&&(f=_n(n,t[32],{duration:t[23]})),We(l),m=!1},d(c){c&&(I(n),I(u)),c&&f&&f.end(),l&&l.d(c)}}}function _r(e,t){let n,r,o,i,a,s,f;return{key:e,first:null,c(){n=se("rect"),this.h()},l(u){n=le(u,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0}),ne(n).forEach(I),this.h()},h(){h(n,"class","offWork svelte-1uend0u"),h(n,"x",r=t[10](t[62][0])),h(n,"y",o=t[11](0)),h(n,"width",i=t[10](t[62][1])-t[10](t[62][0])),h(n,"height",a=t[11](1)-t[11](0)),h(n,"fill","#f00"),h(n,"fill-opacity","0.1"),this.first=n},m(u,m){Ce(u,n,m),f=!0},p(u,m){t=u,(!f||m[0]&67126272&&r!==(r=t[10](t[62][0])))&&h(n,"x",r),(!f||m[0]&2048&&o!==(o=t[11](0)))&&h(n,"y",o),(!f||m[0]&67126272&&i!==(i=t[10](t[62][1])-t[10](t[62][0])))&&h(n,"width",i),(!f||m[0]&2048&&a!==(a=t[11](1)-t[11](0)))&&h(n,"height",a)},i(u){f||(s&&s.end(1),f=!0)},o(u){u&&(s=_n(n,t[32],{duration:t[23]})),f=!1},d(u){u&&I(n),u&&s&&s.end()}}}function br(e){let t,n=[],r=new Map,o,i=[],a=new Map,s,f,u,m=Pe(e[27][e[14].indexOf(e[59])]);const l=g=>g[65].h;for(let g=0;g<m.length;g+=1){let d=hr(e,m,g),w=l(d);r.set(w,n[g]=pr(w,d))}let c=Pe(e[26][e[14].indexOf(e[59])]);const b=g=>g[62][0];for(let g=0;g<c.length;g+=1){let d=cr(e,c,g),w=b(d);a.set(w,i[g]=_r(w,d))}return{c(){t=se("g");for(let g=0;g<n.length;g+=1)n[g].c();o=Lt();for(let g=0;g<i.length;g+=1)i[g].c();this.h()},l(g){t=le(g,"g",{class:!0,style:!0});var d=ne(t);for(let w=0;w<n.length;w+=1)n[w].l(d);o=Lt();for(let w=0;w<i.length;w+=1)i[w].l(d);d.forEach(I),this.h()},h(){h(t,"class",s=it(`ticks local ${e[59].dst?"dst":""}`)+" svelte-1uend0u"),h(t,"style",f=`transform: translate(${e[10](0)-e[10](e[59].gmt_offset)}px)`)},m(g,d){Ce(g,t,d);for(let w=0;w<n.length;w+=1)n[w]&&n[w].m(t,null);j(t,o);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(t,null);u=!0},p(g,d){d[0]&142625792&&(m=Pe(g[27][g[14].indexOf(g[59])]),xt(),n=An(n,d,l,1,g,m,r,t,Fn,pr,o,hr),Ct()),d[0]&75516928&&(c=Pe(g[26][g[14].indexOf(g[59])]),xt(),i=An(i,d,b,1,g,c,a,t,Fn,_r,null,cr),Ct()),(!u||d[0]&16384&&s!==(s=it(`ticks local ${g[59].dst?"dst":""}`)+" svelte-1uend0u"))&&h(t,"class",s),(!u||d[0]&17408&&f!==(f=`transform: translate(${g[10](0)-g[10](g[59].gmt_offset)}px)`))&&h(t,"style",f)},i(g){if(!u){for(let d=0;d<m.length;d+=1)Ee(n[d]);for(let d=0;d<c.length;d+=1)Ee(i[d]);u=!0}},o(g){for(let d=0;d<n.length;d+=1)We(n[d]);for(let d=0;d<i.length;d+=1)We(i[d]);u=!1},d(g){g&&I(t);for(let d=0;d<n.length;d+=1)n[d].d();for(let d=0;d<i.length;d+=1)i[d].d()}}}function wr(e){let t,n,r,o,i,a=e[24](e[29])+"",s,f,u,m,l,c,b;return{c(){t=se("g"),n=se("rect"),i=se("text"),s=Oe(a),m=se("rect"),this.h()},l(g){t=le(g,"g",{class:!0});var d=ne(t);n=le(d,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),ne(n).forEach(I),i=le(d,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var w=ne(i);s=Ie(w,a),w.forEach(I),m=le(d,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),ne(m).forEach(I),d.forEach(I),this.h()},h(){h(n,"class","backing svelte-1uend0u"),h(n,"x",r=e[10](e[29])),h(n,"y",o=e[11](0)-15),h(n,"width","100"),h(n,"height",15),h(i,"x",f=e[10](e[29])),h(i,"y",u=e[11](0)),h(i,"dy",-2),h(i,"text-anchor","start"),h(i,"class","svelte-1uend0u"),h(m,"class","marker svelte-1uend0u"),h(m,"x",l=e[10](e[29])),h(m,"y",c=e[11](0)),h(m,"width","1"),h(m,"height",b=e[11](1)-e[11](0)),h(t,"class","hover svelte-1uend0u")},m(g,d){Ce(g,t,d),j(t,n),j(t,i),j(i,s),j(t,m)},p(g,d){d[0]&536871936&&r!==(r=g[10](g[29]))&&h(n,"x",r),d[0]&2048&&o!==(o=g[11](0)-15)&&h(n,"y",o),d[0]&553648128&&a!==(a=g[24](g[29])+"")&&at(s,a),d[0]&536871936&&f!==(f=g[10](g[29]))&&h(i,"x",f),d[0]&2048&&u!==(u=g[11](0))&&h(i,"y",u),d[0]&536871936&&l!==(l=g[10](g[29]))&&h(m,"x",l),d[0]&2048&&c!==(c=g[11](0))&&h(m,"y",c),d[0]&2048&&b!==(b=g[11](1)-g[11](0))&&h(m,"height",b)},d(g){g&&I(t)}}}function $u(e){let t,n,r,o,i,a,s,f,u,m,l,c,b,g,d,w,D,H,E,L,B,S,F,P,ee=e[25](e[13])+"",te,W,G,ie=e[17](e[13])+"",fe,Z,V,Q,Y,K,O,v,C,A,R,q,z,X=Pe(e[28]),T=[];for(let p=0;p<X.length;p+=1)T[p]=gr(mr(e,X,p));let y=e[30]&&dr(e),x=Pe(e[14]),k=[];for(let p=0;p<x.length;p+=1)k[p]=br(fr(e,x,p));const _=p=>We(k[p],1,1,()=>{k[p]=null});let J=e[29]&&wr(e);return{c(){t=we("div"),n=we("div"),r=we("input"),o=Ae(),i=we("select");for(let p=0;p<T.length;p+=1)T[p].c();a=Ae(),s=se("svg"),f=se("defs"),u=se("linearGradient"),m=se("stop"),l=se("stop"),c=se("g"),y&&y.c(),b=se("g"),g=se("g"),d=se("path"),D=se("path");for(let p=0;p<k.length;p+=1)k[p].c();L=se("g"),B=se("line"),P=se("text"),te=Oe(ee),G=se("text"),fe=Oe(ie),J&&J.c(),Y=se("rect"),this.h()},l(p){t=Me(p,"DIV",{class:!0});var N=ne(t);n=Me(N,"DIV",{class:!0});var U=ne(n);r=Me(U,"INPUT",{type:!0,class:!0,placeholder:!0}),o=Re(U),i=Me(U,"SELECT",{class:!0});var ue=ne(i);for(let be=0;be<T.length;be+=1)T[be].l(ue);ue.forEach(I),U.forEach(I),a=Re(N),s=le(N,"svg",{class:!0,height:!0});var re=ne(s);f=le(re,"defs",{});var me=ne(f);u=le(me,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var _e=ne(u);m=le(_e,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ne(m).forEach(I),l=le(_e,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ne(l).forEach(I),_e.forEach(I),me.forEach(I),c=le(re,"g",{class:!0,style:!0});var ge=ne(c);y&&y.l(ge),b=le(ge,"g",{class:!0,style:!0});var qe=ne(b);g=le(qe,"g",{class:!0});var ze=ne(g);d=le(ze,"path",{class:!0,d:!0}),ne(d).forEach(I),D=le(ze,"path",{class:!0,d:!0}),ne(D).forEach(I),ze.forEach(I),qe.forEach(I);for(let be=0;be<k.length;be+=1)k[be].l(ge);L=le(ge,"g",{class:!0,style:!0});var Ye=ne(L);B=le(Ye,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),ne(B).forEach(I),P=le(Ye,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var Ke=ne(P);te=Ie(Ke,ee),Ke.forEach(I),G=le(Ye,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var Et=ne(G);fe=Ie(Et,ie),Et.forEach(I),Ye.forEach(I),J&&J.l(ge),ge.forEach(I),Y=le(re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,role:!0,tabindex:!0}),ne(Y).forEach(I),re.forEach(I),N.forEach(I),this.h()},h(){h(r,"type","search"),h(r,"class","search svelte-1uend0u"),h(r,"placeholder","Search"),h(i,"class","timezone svelte-1uend0u"),e[0]===void 0&&fo(()=>e[48].call(i)),h(n,"class","svelte-1uend0u"),h(m,"offset","0%"),h(m,"stop-color","rgb(255, 204, 0)"),h(m,"stop-opacity","0.3"),h(l,"offset","100%"),h(l,"stop-color","rgb(255, 204, 0)"),h(l,"stop-opacity","0.05"),h(u,"id","sun-gradient"),h(u,"x1","0%"),h(u,"y1","0%"),h(u,"x2","0%"),h(u,"y2","100%"),h(d,"class","area svelte-1uend0u"),h(d,"d",w=e[16](e[15])),h(D,"class","outline svelte-1uend0u"),h(D,"d",H=e[16].lineY1()(e[15])),h(g,"class","sun svelte-1uend0u"),h(b,"class","localTime svelte-1uend0u"),h(b,"style",E=`transform: translate(${e[10](0)-e[10](e[18])}px)`),h(B,"x1",0),h(B,"x2",0),h(B,"y1",S=e[11](0)),h(B,"y2",F=e[11](1)),h(B,"class","svelte-1uend0u"),h(P,"x",0),h(P,"y",W=e[11](0)),h(P,"dy",-2),h(P,"text-anchor","start"),h(P,"class","svelte-1uend0u"),h(G,"x",0),h(G,"y",Z=e[11](0)),h(G,"dx","-0.3em"),h(G,"dy",-2),h(G,"text-anchor","end"),h(G,"class","svelte-1uend0u"),h(L,"class","now svelte-1uend0u"),h(L,"style",V=e[22](e[13])),h(c,"class",it("timeline")+" svelte-1uend0u"),h(c,"style",Q=`transform: translate(${e[10](e[3])-e[10](e[19][0])}px)`),h(Y,"class","hitarea svelte-1uend0u"),h(Y,"x",K=e[10].range()[0]),h(Y,"y",O=e[11].range()[0]),h(Y,"width",v=Math.abs(e[10].range()[1]-e[10].range()[0])),h(Y,"height",C=Math.abs(e[11].range()[1]-e[11].range()[0])),h(Y,"fill","transparent"),h(Y,"stroke","none"),h(Y,"role","application"),h(Y,"tabindex","-1"),h(s,"class",A=it(`${e[20]?"animate":""}`)+" svelte-1uend0u"),h(s,"height","4em"),h(t,"class","timezone svelte-1uend0u")},m(p,N){Ce(p,t,N),j(t,n),j(n,r),e[46](r),Yt(r,e[9]),j(n,o),j(n,i);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(i,null);zn(i,e[0],!0),j(t,a),j(t,s),j(s,f),j(f,u),j(u,m),j(u,l),j(s,c),y&&y.m(c,null),j(c,b),j(b,g),j(g,d),j(g,D);for(let U=0;U<k.length;U+=1)k[U]&&k[U].m(c,null);j(c,L),j(L,B),j(L,P),j(P,te),j(L,G),j(G,fe),J&&J.m(c,null),j(s,Y),e[50](s),R=!0,q||(z=[xe(r,"input",e[47]),xe(r,"keydown",e[31]),xe(i,"change",e[48]),xe(Y,"mousemove",e[33]),xe(Y,"mouseleave",e[49]),xe(Y,"mousedown",e[34]),xe(Y,"mouseup",e[35]),xe(Y,"wheel",e[36])],q=!0)},p(p,N){if(N[0]&512&&r.value!==p[9]&&Yt(r,p[9]),N[0]&268435456){X=Pe(p[28]);let U;for(U=0;U<X.length;U+=1){const ue=mr(p,X,U);T[U]?T[U].p(ue,N):(T[U]=gr(ue),T[U].c(),T[U].m(i,null))}for(;U<T.length;U+=1)T[U].d(1);T.length=X.length}if(N[0]&268435457&&zn(i,p[0]),p[30]?y?y.p(p,N):(y=dr(p),y.c(),y.m(c,b)):y&&(y.d(1),y=null),(!R||N[0]&98304&&w!==(w=p[16](p[15])))&&h(d,"d",w),(!R||N[0]&98304&&H!==(H=p[16].lineY1()(p[15])))&&h(D,"d",H),(!R||N[0]&263168&&E!==(E=`transform: translate(${p[10](0)-p[10](p[18])}px)`))&&h(b,"style",E),N[0]&209734656){x=Pe(p[14]);let U;for(U=0;U<x.length;U+=1){const ue=fr(p,x,U);k[U]?(k[U].p(ue,N),Ee(k[U],1)):(k[U]=br(ue),k[U].c(),Ee(k[U],1),k[U].m(c,L))}for(xt(),U=x.length;U<k.length;U+=1)_(U);Ct()}(!R||N[0]&2048&&S!==(S=p[11](0)))&&h(B,"y1",S),(!R||N[0]&2048&&F!==(F=p[11](1)))&&h(B,"y2",F),(!R||N[0]&33562624)&&ee!==(ee=p[25](p[13])+"")&&at(te,ee),(!R||N[0]&2048&&W!==(W=p[11](0)))&&h(P,"y",W),(!R||N[0]&139264)&&ie!==(ie=p[17](p[13])+"")&&at(fe,ie),(!R||N[0]&2048&&Z!==(Z=p[11](0)))&&h(G,"y",Z),(!R||N[0]&4202496&&V!==(V=p[22](p[13])))&&h(L,"style",V),p[29]?J?J.p(p,N):(J=wr(p),J.c(),J.m(c,null)):J&&(J.d(1),J=null),(!R||N[0]&525320&&Q!==(Q=`transform: translate(${p[10](p[3])-p[10](p[19][0])}px)`))&&h(c,"style",Q),(!R||N[0]&1024&&K!==(K=p[10].range()[0]))&&h(Y,"x",K),(!R||N[0]&2048&&O!==(O=p[11].range()[0]))&&h(Y,"y",O),(!R||N[0]&1024&&v!==(v=Math.abs(p[10].range()[1]-p[10].range()[0])))&&h(Y,"width",v),(!R||N[0]&2048&&C!==(C=Math.abs(p[11].range()[1]-p[11].range()[0])))&&h(Y,"height",C),(!R||N[0]&1048576&&A!==(A=it(`${p[20]?"animate":""}`)+" svelte-1uend0u"))&&h(s,"class",A)},i(p){if(!R){for(let N=0;N<x.length;N+=1)Ee(k[N]);R=!0}},o(p){k=k.filter(Boolean);for(let N=0;N<k.length;N+=1)We(k[N]);R=!1},d(p){p&&I(t),e[46](null),sn(T,p),y&&y.d(),sn(k,p),J&&J.d(),e[50](null),q=!1,pn(z)}}}function ea(e,t,n){let r,o,i,a,s,f,u,m,l,c,b,g=$e,d=()=>(g(),g=et(k,M=>n(42,b=M)),k),w,D=$e,H=()=>(D(),D=et(q,M=>n(19,w=M)),q),E,L=$e,B=()=>(L(),L=et(Ye,M=>n(29,E=M)),Ye),S,F=$e,P=()=>(F(),F=et(ze,M=>n(30,S=M)),ze),ee,te=$e,W=()=>(te(),te=et(ue,M=>n(43,ee=M)),ue),G,ie=$e,fe=()=>(ie(),ie=et(K,M=>n(44,G=M)),K),Z,V=$e,Q=()=>(V(),V=et(Y,M=>n(45,Z=M)),Y);e.$$.on_destroy.push(()=>g()),e.$$.on_destroy.push(()=>D()),e.$$.on_destroy.push(()=>L()),e.$$.on_destroy.push(()=>F()),e.$$.on_destroy.push(()=>te()),e.$$.on_destroy.push(()=>ie()),e.$$.on_destroy.push(()=>V());let{timezoneNames:Y}=t;Q();let{timezones:K}=t;fe();let{value:O=""}=t,v="",{dropdownValue:C=O}=t;function A(M){r.includes(C)||n(0,C=r[0])}let{anchorTime:R=Date.now()}=t,{timeRange:q=Qe([R,R+3*1e3*60*60*36])}=t;H(),new Date().getTimezoneOffset()*60*1e3;let z=Xu(),X=yn().domain([0,1]),T,y;function x(){if(T){Ne(k,b=!1,b);let M=16*1.2;z.range([0,T.clientWidth]),X.range([M,T.clientHeight-M])}n(10,z),n(3,R),n(41,o),n(19,w),n(18,i),n(13,p),n(37,O),n(45,Z),n(0,C),n(11,X),n(40,_e),n(15,me),n(11,X),n(39,re),n(19,w),n(37,O),n(43,ee),n(0,C),n(45,Z),n(14,U),n(17,u),n(44,G),clearTimeout(y),y=setTimeout(()=>{Ne(k,b=!0,b)},100)}let{animate:k=Qe(!0)}=t;d();let _=!1,J=!1;Cr(()=>(window.addEventListener("resize",x),x(),requestAnimationFrame(()=>{n(38,_=!0),n(20,J=b)}),_t&&_t.focus(),()=>{window.removeEventListener("resize",x)}));let p=Date.now();function N(M,$){var ke,ye;let oe=M instanceof Date?M.getTime():M;return((ye=(ke=G[$])==null?void 0:ke.find(ce=>ce.time_start<=oe))==null?void 0:ye.gmt_offset)??0}let U=[];setInterval(()=>{n(13,p=Date.now())},1e3);let{cities:ue=nt([])}=t;W();let re,me=[],_e=yn(),ge=Gu();function qe(M,{duration:$}){return{duration:$}}let{selection:ze=Qe(null)}=t;P();let{hover:Ye=Qe(null)}=t;B();const Ke=1e3*60*15;function Et(M){var Se;let $=M.clientX-((Se=M.target)==null?void 0:Se.getBoundingClientRect().left),oe=z.invert($+z(w[0])-z(R));oe instanceof Date&&(oe=oe.getTime()),oe=Math.round(oe/Ke)*Ke,Ne(Ye,E=oe,E),to()}let be;function eo(){E&&(be=E,Ne(ze,S=[be,be+Ke],S))}function to(){be&&E&&(E==be?Ne(ze,S=[E,be+Ke],S):E<be?Ne(ze,S=[E,be],S):Ne(ze,S=[be,E],S))}function Sn(){be=void 0}let Nn,no=M=>{var de;let $=M.clientX-((de=M.target)==null?void 0:de.getBoundingClientRect().left),oe=z.invert($+z(w[0])-z(R));oe instanceof Date&&(oe=oe.getTime());let Se=-M.deltaY,ke=1.1;Se>0&&(ke=1/ke);let ye=1e3*60*60*24,ce=1e3*60*60*24*14,he=w[1]-w[0];he*ke<ye?ke=ye/he:he*ke>ce&&(ke=ce/he);let Fe=w.map(Be=>oe+(Be-oe)*ke);Ne(q,w=Fe,w),Ne(k,b=!1,b),clearTimeout(Nn),Nn=setTimeout(()=>{Ne(k,b=!0,b)},500)},_t;function ro(M){an[M?"unshift":"push"](()=>{_t=M,n(21,_t)})}function oo(){v=this.value,n(9,v)}function io(){C=ho(this),n(0,C),n(28,r),n(45,Z),n(9,v)}const uo=()=>{Ne(Ye,E=null,E),Sn()};function ao(M){an[M?"unshift":"push"](()=>{T=M,n(12,T)})}return e.$$set=M=>{"timezoneNames"in M&&Q(n(1,Y=M.timezoneNames)),"timezones"in M&&fe(n(2,K=M.timezones)),"value"in M&&n(37,O=M.value),"dropdownValue"in M&&n(0,C=M.dropdownValue),"anchorTime"in M&&n(3,R=M.anchorTime),"timeRange"in M&&H(n(4,q=M.timeRange)),"animate"in M&&d(n(5,k=M.animate)),"cities"in M&&W(n(6,ue=M.cities)),"selection"in M&&P(n(7,ze=M.selection)),"hover"in M&&B(n(8,Ye=M.hover))},e.$$.update=()=>{if(e.$$.dirty[0]&1|e.$$.dirty[1]&16384&&n(37,O=Z[C]),e.$$.dirty[0]&512|e.$$.dirty[1]&16384&&n(28,r=Object.keys(Z).filter(M=>v.trim()==""?!0:M.toLowerCase().includes(v.trim().toLowerCase()))),e.$$.dirty[0]&8192|e.$$.dirty[1]&64&&n(18,i=N(p,O)),e.$$.dirty[0]&786432&&n(41,o=w.map(M=>M+i)),e.$$.dirty[0]&1032|e.$$.dirty[1]&1024){let M=[R,o[1]+R-o[0]];z.domain(M),n(10,z),n(3,R),n(41,o),n(19,w),n(18,i),n(13,p),n(37,O),n(45,Z),n(0,C)}if(e.$$.dirty[1]&2176&&_&&n(20,J=b),e.$$.dirty[0]&540672|e.$$.dirty[1]&8256){n(14,U=[]);let M=G[O];if(M){M=M.filter(oe=>oe.time_start<w[1]).sort((oe,Se)=>Se.time_start-oe.time_start);let $=0;for(;$<M.length&&M[$].time_start>w[0];)U.push(M[$]),$++;$<M.length&&U.push(M[$])}n(14,U=U.sort(($,oe)=>$.time_start-oe.time_start))}if(e.$$.dirty[1]&64&&n(17,u=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:O}).format),e.$$.dirty[0]&671744&&n(27,a=U.map((M,$,oe)=>{let ye=864e5/24,ce=Math.max(w[0],M.time_start);ce+=M.gmt_offset,ce=Math.floor(ce/ye)*ye;let he=w[1];$<oe.length-1&&(he=Math.min(he,oe[$+1].time_start-1)),he+=M.gmt_offset,he=Math.floor(he/ye)*ye;let Fe=[];if($==0){let de=Math.floor(ce/864e5)*864e5;de<ce&&Fe.push({h:de,day:u(de-M.gmt_offset)})}for(let de=ce;de<he+ye;de+=ye){let Be={h:de};de%864e5==0&&(Be.day=u(de-M.gmt_offset)),Fe.push(Be)}return Fe})),e.$$.dirty[0]&540672&&n(26,s=U.map((M,$,oe)=>{let ye=[8,18];ye=ye.map(de=>de*36e5);let ce=Math.max(w[0],M.time_start);ce+=M.gmt_offset,ce=Math.floor(ce/864e5)*864e5,$>0&&(ce=oe[$].time_start+M.gmt_offset);let he=w[1];he+=M.gmt_offset,he=Math.ceil(he/864e5)*864e5,$<oe.length-1&&(he=oe[$+1].time_start+M.gmt_offset);let Fe=[];for(;ce<=he;){let de=Math.floor(ce/864e5)*864e5,Be=de+ye[0],Ze=de+ye[1];Be>ce&&Fe.push([Math.max(ce,de),Math.min(he,Be)]),Ze<he&&Fe.push([Math.max(ce,Ze),Math.min(he,de+864e5)]),ce=de+864e5}return Fe})),e.$$.dirty[1]&64&&n(25,f=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:O}).format),e.$$.dirty[1]&64&&n(24,m=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZone:O}).format),e.$$.dirty[0]&1|e.$$.dirty[1]&4096){let M=ee.find($=>$.capital=="primary"&&$.country.toLowerCase()==(C==null?void 0:C.toLowerCase()));if(!M){let $=C==null?void 0:C.split("/")[1];$=$==null?void 0:$.replace(/_/g," "),M=ee.find(oe=>oe.city_ascii.toLowerCase()==($==null?void 0:$.toLowerCase()))}M?n(39,re=[M.lat,M.lng]):n(39,re=void 0)}if(e.$$.dirty[0]&557056|e.$$.dirty[1]&320&&(n(15,me=[]),re)){let $=w[0]+N(w[0],O);$=Math.floor($/864e5)*864e5,$-=864e5;let oe=w[1]+N(w[1],O);oe=Math.ceil(oe/864e5)*864e5,oe+=864e5;let Se=$;for(;Se<=oe;){let ke=Rt.getTimes(Se,re[0],re[1]),ye=ke.sunrise.getTime(),ce=ke.sunset.getTime(),he=ke.solarNoon.getTime();me.push([ye-1,null]);const Fe=15;for(let Ze=ye;Ze<ce;Ze+=1e3*60*Fe){let so=Rt.getPosition(Ze,re[0],re[1]);if(me.push([Ze,so.altitude]),Ze<=he&&he<=Ze+1e3*60*Fe){let lo=Rt.getPosition(new Date(he),re[0],re[1]);me.push([he,lo.altitude])}}let de=ce,Be=Rt.getPosition(de,re[0],re[1]);me.push([de,Be.altitude]),me.push([ce+1,null]),Se+=864e5}}e.$$.dirty[0]&34816|e.$$.dirty[1]&512&&(_e.domain([Eo(me,M=>M[1]),Math.PI/2]),_e.range([X(1),X(0)]),n(40,_e),n(15,me),n(11,X),n(39,re),n(19,w),n(37,O),n(43,ee),n(0,C),n(45,Z),n(14,U),n(17,u),n(44,G)),e.$$.dirty[0]&70656|e.$$.dirty[1]&576&&(ge.x(M=>z(M[0]+N(M[0],O))).y0((T==null?void 0:T.clientHeight)||10).y1(M=>_e(M[1])).defined(M=>M[1]!==null),n(16,ge),n(10,z),n(37,O),n(12,T),n(40,_e),n(3,R),n(41,o),n(45,Z),n(0,C),n(15,me),n(11,X),n(19,w),n(18,i),n(39,re),n(13,p),n(43,ee),n(14,U),n(17,u),n(44,G)),e.$$.dirty[1]&2048&&n(23,l=b?300:0),e.$$.dirty[0]&1024&&n(22,c=M=>`transform: translate(${z(M)}px)`)},[C,Y,K,R,q,k,ue,ze,Ye,v,z,X,T,p,U,me,ge,u,i,w,J,_t,c,l,m,f,s,a,r,E,S,A,qe,Et,eo,Sn,no,O,_,re,_e,o,b,ee,G,Z,ro,oo,io,uo,ao]}class ta extends kr{constructor(t){super(),Dr(this,t,ea,$u,xr,{timezoneNames:1,timezones:2,value:37,dropdownValue:0,anchorTime:3,timeRange:4,animate:5,cities:6,selection:7,hover:8},null,[-1,-1,-1])}}const{document:Mr}=Mo;function vr(e,t,n){const r=e.slice();return r[28]=t[n],r[29]=t,r[30]=n,r}function Tr(e){let t,n,r;function o(a){e[23](a,e[28],e[29],e[30])}let i={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[7],timeRange:e[9],hover:e[11],selection:e[12],animate:e[13]};return e[28]!==void 0&&(i.value=e[28]),t=new ta({props:i}),an.push(()=>go(t,"value",o)),{c(){yo(t.$$.fragment)},l(a){po(t.$$.fragment,a)},m(a,s){_o(t,a,s),r=!0},p(a,s){e=a;const f={};s&2&&(f.timezoneNames=e[1]),s&1&&(f.timezones=e[0]),s&4&&(f.cities=e[2]),!n&&s&8&&(n=!0,f.value=e[28],co(()=>n=!1)),t.$set(f)},i(a){r||(Ee(t.$$.fragment,a),r=!0)},o(a){We(t.$$.fragment,a),r=!1},d(a){bo(t,a)}}}function na(e){let t,n,r,o="<<",i,a,s="<",f,u,m="Today",l,c,b=">",g,d,w=">>",D,H,E,L,B="Add Timezone",S,F,P,ee,te,W,G,ie,fe,Z,V,Q,Y,K,O,v=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,C,A,R,q=Pe(e[3]),z=[];for(let T=0;T<q.length;T+=1)z[T]=Tr(vr(e,q,T));const X=T=>We(z[T],1,1,()=>{z[T]=null});return{c(){t=Oe(`

A simple way to coordinate cross-timezone events.

`),n=we("p"),r=we("button"),r.textContent=o,i=Ae(),a=we("button"),a.textContent=s,f=Ae(),u=we("button"),u.textContent=m,l=Ae(),c=we("button"),c.textContent=b,g=Ae(),d=we("button"),d.textContent=w,D=Ae(),H=we("p");for(let T=0;T<z.length;T+=1)z[T].c();E=Ae(),L=we("button"),L.textContent=B,S=Ae(),F=we("p"),P=we("button"),ee=Oe("Copy Start Times"),W=Ae(),G=we("button"),ie=Oe("Create Google Calendar Event"),Z=Ae(),V=we("button"),Q=Oe("Download iCal Event"),K=Ae(),O=we("p"),O.innerHTML=v,this.h()},l(T){mo("svelte-rguy8y",Mr.head).forEach(I),t=Ie(T,`

A simple way to coordinate cross-timezone events.

`),n=Me(T,"P",{});var x=ne(n);r=Me(x,"BUTTON",{"data-svelte-h":!0}),tt(r)!=="svelte-1wh109k"&&(r.textContent=o),i=Re(x),a=Me(x,"BUTTON",{"data-svelte-h":!0}),tt(a)!=="svelte-8q1f0u"&&(a.textContent=s),f=Re(x),u=Me(x,"BUTTON",{"data-svelte-h":!0}),tt(u)!=="svelte-18ucvh"&&(u.textContent=m),l=Re(x),c=Me(x,"BUTTON",{"data-svelte-h":!0}),tt(c)!=="svelte-p2yix0"&&(c.textContent=b),g=Re(x),d=Me(x,"BUTTON",{"data-svelte-h":!0}),tt(d)!=="svelte-al0ej"&&(d.textContent=w),x.forEach(I),D=Re(T),H=Me(T,"P",{});var k=ne(H);for(let U=0;U<z.length;U+=1)z[U].l(k);E=Re(k),L=Me(k,"BUTTON",{"data-svelte-h":!0}),tt(L)!=="svelte-1jawmqt"&&(L.textContent=B),k.forEach(I),S=Re(T),F=Me(T,"P",{});var _=ne(F);P=Me(_,"BUTTON",{});var J=ne(P);ee=Ie(J,"Copy Start Times"),J.forEach(I),W=Re(_),G=Me(_,"BUTTON",{});var p=ne(G);ie=Ie(p,"Create Google Calendar Event"),p.forEach(I),Z=Re(_),V=Me(_,"BUTTON",{});var N=ne(V);Q=Ie(N,"Download iCal Event"),N.forEach(I),_.forEach(I),K=Re(T),O=Me(T,"P",{"data-svelte-h":!0}),tt(O)!=="svelte-hqholg"&&(O.innerHTML=v),this.h()},h(){Mr.title="Cross-Timezone Events",P.disabled=te=!e[4],G.disabled=fe=!e[4],V.disabled=Y=!e[4]},m(T,y){Ce(T,t,y),Ce(T,n,y),j(n,r),j(n,i),j(n,a),j(n,f),j(n,u),j(n,l),j(n,c),j(n,g),j(n,d),Ce(T,D,y),Ce(T,H,y);for(let x=0;x<z.length;x+=1)z[x]&&z[x].m(H,null);j(H,E),j(H,L),Ce(T,S,y),Ce(T,F,y),j(F,P),j(P,ee),j(F,W),j(F,G),j(G,ie),j(F,Z),j(F,V),j(V,Q),Ce(T,K,y),Ce(T,O,y),C=!0,A||(R=[xe(r,"click",e[18]),xe(a,"click",e[19]),xe(u,"click",e[20]),xe(c,"click",e[21]),xe(d,"click",e[22]),xe(L,"click",e[24]),xe(P,"click",e[14]),xe(G,"click",e[15]),xe(V,"click",e[16])],A=!0)},p(T,[y]){if(y&14991){q=Pe(T[3]);let x;for(x=0;x<q.length;x+=1){const k=vr(T,q,x);z[x]?(z[x].p(k,y),Ee(z[x],1)):(z[x]=Tr(k),z[x].c(),Ee(z[x],1),z[x].m(H,E))}for(xt(),x=q.length;x<z.length;x+=1)X(x);Ct()}(!C||y&16&&te!==(te=!T[4]))&&(P.disabled=te),(!C||y&16&&fe!==(fe=!T[4]))&&(G.disabled=fe),(!C||y&16&&Y!==(Y=!T[4]))&&(V.disabled=Y)},i(T){if(!C){for(let y=0;y<q.length;y+=1)Ee(z[y]);C=!0}},o(T){z=z.filter(Boolean);for(let y=0;y<z.length;y+=1)We(z[y]);C=!1},d(T){T&&(I(t),I(n),I(D),I(H),I(S),I(F),I(K),I(O)),sn(z,T),A=!1,pn(R)}}}function ra(e,t,n){let r,o,i;async function a(){const V=await(await fetch(`${Jt}/time_zone.csv`)).text(),Q=Zn(V);let Y={};for(let K of Q){let[O,v,C,A,R,q]=K;Y[O]||(Y[O]=[]),Y[O].push({zone_name:O,country_code:v,abbreviation:C,time_start:+A*1e3,gmt_offset:+R*1e3,dst:q==="1"})}for(let K in Y)Y[K].sort((O,v)=>v.time_start-O.time_start);return n(0,l=nt(Y)),Y}async function s(){const V=await(await fetch(`${Jt}/country.csv`)).text(),Q=Zn(V);let Y={};for(let K of Q){let[O,v]=K;Y[O]=v}return n(17,f=nt(Y)),Y}let f=nt({});async function u(){const V=await(await fetch(`${Jt}/worldcities.csv`)).text(),Q=li(V);return n(2,m=nt(Q)),Q}let m=nt([]),l=nt({});Cr(()=>{a(),s(),u()});const c=Intl.DateTimeFormat().resolvedOptions().timeZone;let b=[c],g=Date.now();const d=24*60*60*1e3;let w=Qe([g-.5*d,g+2*d]);En(e,w,Z=>n(5,i=Z));function D(Z){Ne(w,i=i.map(V=>V+Z),i)}let H=Qe(null),E=Qe(null);En(e,E,Z=>n(4,o=Z));let L=Qe(!0);function B(){if(o===null)return;function Z(Q,Y){return Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",timeZone:Y}).format(Q)}let V=b.map(Q=>Q+": "+Z(o[0],Q));console.log(V.join(", ")),navigator.clipboard.writeText(V.join(", "))}function S(){if(!o)return;const Z="https://calendar.google.com/calendar/r/eventedit",V=new URLSearchParams;function Q(K){return new Date(K).toISOString().replace(/-|:|\.\d+/g,"")}V.append("dates",`${Q(o[0])}/${Q(o[1])}`);const Y=`${Z}?${V.toString()}`;window.open(Y)}function F(){if(!o)return;function Z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){const C=Math.random()*16|0;return(v==="x"?C:C&3|8).toString(16)})}function V(v,C=!1){typeof v=="number"&&(v=new Date(v));const A=v.getUTCFullYear().toString(),R=(v.getUTCMonth()+1).toString().padStart(2,"0"),q=v.getUTCDate().toString().padStart(2,"0");if(C){const z=v.getUTCHours().toString().padStart(2,"0"),X=v.getUTCMinutes().toString().padStart(2,"0"),T=v.getUTCSeconds().toString().padStart(2,"0");return`${A}${R}${q}T${z}${X}${T}Z`}else return`${A}${R}${q}`}const Q=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Cross-Timezone Events//Event Creator//EN
BEGIN:VEVENT
UID:${Z()}
DTSTAMP:${V(Date.now(),!0)}
DTSTART:${V(o[0],!0)}
DTEND:${V(o[1],!0)}
SUMMARY:New Event
END:VEVENT
END:VCALENDAR`,Y=new Blob([Q],{type:"text/calendar;charset=utf-8"}),K=URL.createObjectURL(Y),O=document.createElement("a");O.href=K,O.download="event.ics",O.click(),URL.revokeObjectURL(K)}const P=()=>D(-7*d),ee=()=>D(-d),te=()=>Ne(w,i=[Date.now()-.5*d,Date.now()+2*d],i),W=()=>D(d),G=()=>D(7*d);function ie(Z,V,Q,Y){Q[Y]=Z,n(3,b)}const fe=()=>n(3,b=[...b,c]);return e.$$.update=()=>{e.$$.dirty&131073&&n(1,r=wo([l,f],([Z,V])=>{let Q=Object.entries(V).map(([O,v])=>{var C;return[v,(C=Object.values(Z).map(A=>A[0]).find(A=>A.country_code==O))==null?void 0:C.zone_name]}),Y=[...Object.keys(Z).map(O=>[O,O]),...Q];return Object.fromEntries(Y)}))},[l,r,m,b,o,i,c,g,d,w,D,H,E,L,B,S,F,f,P,ee,te,W,G,ie,fe]}class aa extends kr{constructor(t){super(),Dr(this,t,ra,na,xr,{})}}export{aa as component};
