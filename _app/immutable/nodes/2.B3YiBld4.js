import{r as xn,s as Er,h as wo,z as at,o as Rr,n as tt,d as nt,A as De,f as dn,b as Ln,B as Mo}from"../chunks/scheduler.BrrrnB_2.js";import{a as Ze,t as Fe,S as zr,i as Fr,e as ve,s as Ae,y as fe,b as je,m as _t,c as Te,d as ie,h as He,g as j,z as ce,f as We,o as h,j as Se,k as W,A as qt,B as On,C as be,q as Nt,n as Et,l as st,D as pn,E as vo,F as Cn,G as To,H as rt,I as xo,u as Co,v as ko,w as Do,x as So}from"../chunks/index.TzY72PjB.js";import{r as ot,w as $e,d as Uo,b as rn}from"../chunks/paths.8bNUvIZk.js";const No=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function qe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function In(e,t){Ze(e,1,1,()=>{t.delete(e.key)})}function Pn(e,t,n,r,o,i,a,l,f,u,m,s){let c=e.length,b=i.length,g=c;const d={};for(;g--;)d[e[g].key]=g;const _=[],D=new Map,A=new Map,H=[];for(g=b;g--;){const z=s(o,i,g),X=n(z);let re=a.get(X);re?r&&H.push(()=>re.p(z,t)):(re=u(X,z),re.c()),D.set(X,_[g]=re),X in d&&A.set(X,Math.abs(g-d[X]))}const O=new Set,B=new Set;function U(z){Fe(z,1),z.m(l,m),a.set(z.key,z),m=z.first,b--}for(;c&&b;){const z=_[b-1],X=e[c-1],re=z.key,oe=X.key;z===X?(m=z.first,c--,b--):D.has(oe)?!a.has(re)||O.has(re)?U(z):B.has(oe)?c--:A.get(re)>A.get(oe)?(B.add(re),U(z)):(O.add(oe),c--):(f(X,a),c--)}for(;c--;){const z=e[c];D.has(z.key)||f(z,a)}for(;b;)U(_[b-1]);return xn(H),_}function Wt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Eo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kn(e){let t,n,r;e.length!==2?(t=Wt,n=(l,f)=>Wt(e(l),f),r=(l,f)=>e(l)-f):(t=e===Wt||e===Eo?e:Ro,n=e,r=e);function o(l,f,u=0,m=l.length){if(u<m){if(t(f,f)!==0)return m;do{const s=u+m>>>1;n(l[s],f)<0?u=s+1:m=s}while(u<m)}return u}function i(l,f,u=0,m=l.length){if(u<m){if(t(f,f)!==0)return m;do{const s=u+m>>>1;n(l[s],f)<=0?u=s+1:m=s}while(u<m)}return u}function a(l,f,u=0,m=l.length){const s=o(l,f,u,m-1);return s>u&&r(l[s-1],f)>-r(l[s],f)?s-1:s}return{left:o,center:a,right:i}}function Ro(){return 0}function zo(e){return e===null?NaN:+e}const Fo=kn(Wt),Ao=Fo.right;kn(zo).center;const Ho=Math.sqrt(50),Yo=Math.sqrt(10),Lo=Math.sqrt(2);function Bt(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=Ho?10:i>=Yo?5:i>=Lo?2:1;let l,f,u;return o<0?(u=Math.pow(10,-o)/a,l=Math.round(e*u),f=Math.round(t*u),l/u<e&&++l,f/u>t&&--f,u=-u):(u=Math.pow(10,o)*a,l=Math.round(e/u),f=Math.round(t/u),l*u<e&&++l,f*u>t&&--f),f<l&&.5<=n&&n<2?Bt(e,t,n*2):[l,f,u]}function Oo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,a]=r?Bt(t,e,n):Bt(e,t,n);if(!(i>=o))return[];const l=i-o+1,f=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)f[u]=(i-u)/-a;else for(let u=0;u<l;++u)f[u]=(i-u)*a;else if(a<0)for(let u=0;u<l;++u)f[u]=(o+u)/-a;else for(let u=0;u<l;++u)f[u]=(o+u)*a;return f}function yn(e,t,n){return t=+t,e=+e,n=+n,Bt(e,t,n)[2]}function _n(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?yn(t,e,n):yn(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function Io(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Dn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ar(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function At(){}var Rt=.7,Zt=1/Rt,yt="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Po=/^#([0-9a-f]{3,8})$/,jo=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),Wo=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),Xo=new RegExp(`^rgba\\(${yt},${yt},${yt},${zt}\\)$`),qo=new RegExp(`^rgba\\(${Be},${Be},${Be},${zt}\\)$`),Bo=new RegExp(`^hsl\\(${zt},${Be},${Be}\\)$`),Zo=new RegExp(`^hsla\\(${zt},${Be},${Be},${zt}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dn(At,Ft,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wn,formatHex:Wn,formatHex8:Vo,formatHsl:Jo,formatRgb:Xn,toString:Xn});function Wn(){return this.rgb().formatHex()}function Vo(){return this.rgb().formatHex8()}function Jo(){return Hr(this).formatHsl()}function Xn(){return this.rgb().formatRgb()}function Ft(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Po.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qn(t):n===3?new Ee(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ot(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ot(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jo.exec(e))?new Ee(t[1],t[2],t[3],1):(t=Wo.exec(e))?new Ee(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xo.exec(e))?Ot(t[1],t[2],t[3],t[4]):(t=qo.exec(e))?Ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bo.exec(e))?Vn(t[1],t[2]/100,t[3]/100,1):(t=Zo.exec(e))?Vn(t[1],t[2]/100,t[3]/100,t[4]):jn.hasOwnProperty(e)?qn(jn[e]):e==="transparent"?new Ee(NaN,NaN,NaN,0):null}function qn(e){return new Ee(e>>16&255,e>>8&255,e&255,1)}function Ot(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ee(e,t,n,r)}function Go(e){return e instanceof At||(e=Ft(e)),e?(e=e.rgb(),new Ee(e.r,e.g,e.b,e.opacity)):new Ee}function bn(e,t,n,r){return arguments.length===1?Go(e):new Ee(e,t,n,r??1)}function Ee(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Dn(Ee,bn,Ar(At,{brighter(e){return e=e==null?Zt:Math.pow(Zt,e),new Ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rt:Math.pow(Rt,e),new Ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ee(lt(this.r),lt(this.g),lt(this.b),Vt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:Qo,formatRgb:Zn,toString:Zn}));function Bn(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}`}function Qo(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}${ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const e=Vt(this.opacity);return`${e===1?"rgb(":"rgba("}${lt(this.r)}, ${lt(this.g)}, ${lt(this.b)}${e===1?")":`, ${e})`}`}function Vt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ut(e){return e=lt(e),(e<16?"0":"")+e.toString(16)}function Vn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pe(e,t,n,r)}function Hr(e){if(e instanceof Pe)return new Pe(e.h,e.s,e.l,e.opacity);if(e instanceof At||(e=Ft(e)),!e)return new Pe;if(e instanceof Pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,f=(i+o)/2;return l?(t===i?a=(n-r)/l+(n<r)*6:n===i?a=(r-t)/l+2:a=(t-n)/l+4,l/=f<.5?i+o:2-i-o,a*=60):l=f>0&&f<1?0:a,new Pe(a,l,f,e.opacity)}function Ko(e,t,n,r){return arguments.length===1?Hr(e):new Pe(e,t,n,r??1)}function Pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dn(Pe,Ko,Ar(At,{brighter(e){return e=e==null?Zt:Math.pow(Zt,e),new Pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rt:Math.pow(Rt,e),new Pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ee(on(e>=240?e-240:e+120,o,r),on(e,o,r),on(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Pe(Jn(this.h),It(this.s),It(this.l),Vt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vt(this.opacity);return`${e===1?"hsl(":"hsla("}${Jn(this.h)}, ${It(this.s)*100}%, ${It(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jn(e){return e=(e||0)%360,e<0?e+360:e}function It(e){return Math.max(0,Math.min(1,e||0))}function on(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sn=e=>()=>e;function $o(e,t){return function(n){return e+n*t}}function ei(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ti(e){return(e=+e)==1?Yr:function(t,n){return n-t?ei(t,n,e):Sn(isNaN(t)?n:t)}}function Yr(e,t){var n=t-e;return n?$o(e,n):Sn(isNaN(e)?t:e)}const Gn=function e(t){var n=ti(t);function r(o,i){var a=n((o=bn(o)).r,(i=bn(i)).r),l=n(o.g,i.g),f=n(o.b,i.b),u=Yr(o.opacity,i.opacity);return function(m){return o.r=a(m),o.g=l(m),o.b=f(m),o.opacity=u(m),o+""}}return r.gamma=e,r}(1);function ni(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function ri(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oi(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Un(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(l){for(a=0;a<r;++a)i[a]=o[a](l);return i}}function ii(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ui(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Un(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,un=new RegExp(wn.source,"g");function ai(e){return function(){return e}}function li(e){return function(t){return e(t)+""}}function si(e,t){var n=wn.lastIndex=un.lastIndex=0,r,o,i,a=-1,l=[],f=[];for(e=e+"",t=t+"";(r=wn.exec(e))&&(o=un.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,f.push({i:a,x:Jt(r,o)})),n=un.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?f[0]?li(f[0].x):ai(t):(t=f.length,function(u){for(var m=0,s;m<t;++m)l[(s=f[m]).i]=s.x(u);return l.join("")})}function Un(e,t){var n=typeof t,r;return t==null||n==="boolean"?Sn(t):(n==="number"?Jt:n==="string"?(r=Ft(t))?(t=r,Gn):si:t instanceof Ft?Gn:t instanceof Date?ii:ri(t)?ni:Array.isArray(t)?oi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ui:Jt)(e,t)}function fi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Mn=Math.PI,vn=2*Mn,it=1e-6,ci=vn-it;function Lr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hi(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Lr;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class mi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Lr:hi(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,f=r-t,u=o-n,m=a-t,s=l-n,c=m*m+s*s;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>it)if(!(Math.abs(s*f-u*m)>it)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-a,g=o-l,d=f*f+u*u,_=b*b+g*g,D=Math.sqrt(d),A=Math.sqrt(c),H=i*Math.tan((Mn-Math.acos((d+c-_)/(2*D*A)))/2),O=H/A,B=H/D;Math.abs(O-1)>it&&this._append`L${t+O*m},${n+O*s}`,this._append`A${i},${i},0,0,${+(s*b>m*g)},${this._x1=t+B*f},${this._y1=n+B*u}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),f=r*Math.sin(o),u=t+l,m=n+f,s=1^a,c=a?o-i:i-o;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>it||Math.abs(this._y1-m)>it)&&this._append`L${u},${m}`,r&&(c<0&&(c=c%vn+vn),c>ci?this._append`A${r},${r},0,1,${s},${t-l},${n-f}A${r},${r},0,1,${s},${this._x1=u},${this._y1=m}`:c>it&&this._append`A${r},${r},0,${+(c>=Mn)},${s},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}var Qn={},an={},ln=34,Ct=10,sn=13;function Or(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function gi(e,t){var n=Or(e);return function(r,o){return t(n(r),o,e)}}function Kn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function Ne(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function di(e){return e<0?"-"+Ne(-e,6):e>9999?"+"+Ne(e,6):Ne(e,4)}function pi(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":di(e.getUTCFullYear())+"-"+Ne(e.getUTCMonth()+1,2)+"-"+Ne(e.getUTCDate(),2)+(o?"T"+Ne(t,2)+":"+Ne(n,2)+":"+Ne(r,2)+"."+Ne(o,3)+"Z":r?"T"+Ne(t,2)+":"+Ne(n,2)+":"+Ne(r,2)+"Z":n||t?"T"+Ne(t,2)+":"+Ne(n,2)+"Z":"")}function yi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(s,c){var b,g,d=o(s,function(_,D){if(b)return b(_,D-1);g=_,b=c?gi(_,c):Or(_)});return d.columns=g||[],d}function o(s,c){var b=[],g=s.length,d=0,_=0,D,A=g<=0,H=!1;s.charCodeAt(g-1)===Ct&&--g,s.charCodeAt(g-1)===sn&&--g;function O(){if(A)return an;if(H)return H=!1,Qn;var U,z=d,X;if(s.charCodeAt(z)===ln){for(;d++<g&&s.charCodeAt(d)!==ln||s.charCodeAt(++d)===ln;);return(U=d)>=g?A=!0:(X=s.charCodeAt(d++))===Ct?H=!0:X===sn&&(H=!0,s.charCodeAt(d)===Ct&&++d),s.slice(z+1,U-1).replace(/""/g,'"')}for(;d<g;){if((X=s.charCodeAt(U=d++))===Ct)H=!0;else if(X===sn)H=!0,s.charCodeAt(d)===Ct&&++d;else if(X!==n)continue;return s.slice(z,U)}return A=!0,s.slice(z,g)}for(;(D=O())!==an;){for(var B=[];D!==Qn&&D!==an;)B.push(D),D=O();c&&(B=c(B,_++))==null||b.push(B)}return b}function i(s,c){return s.map(function(b){return c.map(function(g){return m(b[g])}).join(e)})}function a(s,c){return c==null&&(c=Kn(s)),[c.map(m).join(e)].concat(i(s,c)).join(`
`)}function l(s,c){return c==null&&(c=Kn(s)),i(s,c).join(`
`)}function f(s){return s.map(u).join(`
`)}function u(s){return s.map(m).join(e)}function m(s){return s==null?"":s instanceof Date?pi(s):t.test(s+="")?'"'+s.replace(/"/g,'""')+'"':s}return{parse:r,parseRows:o,format:a,formatBody:l,formatRows:f,formatRow:u,formatValue:m}}var Ir=yi(","),_i=Ir.parse,$n=Ir.parseRows;function bi(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bt(e){return e=Gt(Math.abs(e)),e?e[1]:NaN}function wi(e,t){return function(n,r){for(var o=n.length,i=[],a=0,l=e[0],f=0;o>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),i.push(n.substring(o-=l,o+l)),!((f+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(t)}}function Mi(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qt(e){if(!(t=vi.exec(e)))throw new Error("invalid format: "+e);var t;return new Nn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qt.prototype=Nn.prototype;function Nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ti(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var Pr;function xi(e,t){var n=Gt(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(Pr=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Gt(e,Math.max(0,t+i-1))[0]}function er(e,t){var n=Gt(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bi,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>er(e*100,t),r:er,s:xi,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nr(e){return e}var rr=Array.prototype.map,or=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ci(e){var t=e.grouping===void 0||e.thousands===void 0?nr:wi(rr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nr:Mi(rr.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function u(s){s=Qt(s);var c=s.fill,b=s.align,g=s.sign,d=s.symbol,_=s.zero,D=s.width,A=s.comma,H=s.precision,O=s.trim,B=s.type;B==="n"?(A=!0,B="g"):tr[B]||(H===void 0&&(H=12),O=!0,B="g"),(_||c==="0"&&b==="=")&&(_=!0,c="0",b="=");var U=d==="$"?n:d==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",z=d==="$"?r:/[%p]/.test(B)?a:"",X=tr[B],re=/[defgprs%]/.test(B);H=H===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function oe(q){var K=U,ue=z,he,V,J;if(B==="c")ue=X(q)+ue,q="";else{q=+q;var te=q<0||1/q<0;if(q=isNaN(q)?f:X(Math.abs(q),H),O&&(q=Ti(q)),te&&+q==0&&g!=="+"&&(te=!1),K=(te?g==="("?g:l:g==="-"||g==="("?"":g)+K,ue=(B==="s"?or[8+Pr/3]:"")+ue+(te&&g==="("?")":""),re){for(he=-1,V=q.length;++he<V;)if(J=q.charCodeAt(he),48>J||J>57){ue=(J===46?o+q.slice(he+1):q.slice(he))+ue,q=q.slice(0,he);break}}}A&&!_&&(q=t(q,1/0));var Q=K.length+q.length+ue.length,L=Q<D?new Array(D-Q+1).join(c):"";switch(A&&_&&(q=t(L+q,L.length?D-ue.length:1/0),L=""),b){case"<":q=K+q+ue+L;break;case"=":q=K+L+q+ue;break;case"^":q=L.slice(0,Q=L.length>>1)+K+q+ue+L.slice(Q);break;default:q=L+K+q+ue;break}return i(q)}return oe.toString=function(){return s+""},oe}function m(s,c){var b=u((s=Qt(s),s.type="f",s)),g=Math.max(-8,Math.min(8,Math.floor(bt(c)/3)))*3,d=Math.pow(10,-g),_=or[8+g/3];return function(D){return b(d*D)+_}}return{format:u,formatPrefix:m}}var Pt,jr,Wr;ki({thousands:",",grouping:[3],currency:["$",""]});function ki(e){return Pt=Ci(e),jr=Pt.format,Wr=Pt.formatPrefix,Pt}function Di(e){return Math.max(0,-bt(Math.abs(e)))}function Si(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bt(t)/3)))*3-bt(Math.abs(e)))}function Ui(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bt(t)-bt(e))+1}function Xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e){return function(){return e}}function Ei(e){return+e}var ir=[0,1];function dt(e){return e}function Tn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ni(isNaN(t)?NaN:.5)}function Ri(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zi(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=Tn(o,r),i=n(a,i)):(r=Tn(r,o),i=n(i,a)),function(l){return i(r(l))}}function Fi(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=Tn(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(l){var f=Ao(e,l,1,r)-1;return i[f](o[f](l))}}function qr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ai(){var e=ir,t=ir,n=Un,r,o,i,a=dt,l,f,u;function m(){var c=Math.min(e.length,t.length);return a!==dt&&(a=Ri(e[0],e[c-1])),l=c>2?Fi:zi,f=u=null,s}function s(c){return c==null||isNaN(c=+c)?i:(f||(f=l(e.map(r),t,n)))(r(a(c)))}return s.invert=function(c){return a(o((u||(u=l(t,e.map(r),Jt)))(c)))},s.domain=function(c){return arguments.length?(e=Array.from(c,Ei),m()):e.slice()},s.range=function(c){return arguments.length?(t=Array.from(c),m()):t.slice()},s.rangeRound=function(c){return t=Array.from(c),n=fi,m()},s.clamp=function(c){return arguments.length?(a=c?!0:dt,m()):a!==dt},s.interpolate=function(c){return arguments.length?(n=c,m()):n},s.unknown=function(c){return arguments.length?(i=c,s):i},function(c,b){return r=c,o=b,m()}}function Br(){return Ai()(dt,dt)}function Hi(e,t,n,r){var o=_n(e,t,n),i;switch(r=Qt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Si(o,a))&&(r.precision=i),Wr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Ui(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Di(o))&&(r.precision=i-(r.type==="%")*2);break}}return jr(r)}function Yi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Oo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return Hi(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,a=r[o],l=r[i],f,u,m=10;for(l<a&&(u=a,a=l,l=u,u=o,o=i,i=u);m-- >0;){if(u=yn(a,l,n),u===f)return r[o]=a,r[i]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;f=u}return e},e}function Xt(){var e=Br();return e.copy=function(){return qr(e,Xt())},Xr.apply(e,arguments),Yi(e)}function Li(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}const fn=new Date,cn=new Date;function Me(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),l=o.ceil(i);return i-a<l-i?a:l},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,l)=>{const f=[];if(i=o.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return f;let u;do f.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<a);return f},o.filter=i=>Me(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(fn.setTime(+i),cn.setTime(+a),e(fn),e(cn),Math.floor(n(fn,cn))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const Kt=Me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Me(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Kt);Kt.range;const Je=1e3,Ye=Je*60,Ge=Ye*60,Qe=Ge*24,En=Qe*7,ur=Qe*30,hn=Qe*365,pt=Me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Je)},(e,t)=>(t-e)/Je,e=>e.getUTCSeconds());pt.range;const Rn=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Je)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getMinutes());Rn.range;const Oi=Me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCMinutes());Oi.range;const zn=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Je-e.getMinutes()*Ye)},(e,t)=>{e.setTime(+e+t*Ge)},(e,t)=>(t-e)/Ge,e=>e.getHours());zn.range;const Ii=Me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ge)},(e,t)=>(t-e)/Ge,e=>e.getUTCHours());Ii.range;const Ht=Me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/Qe,e=>e.getDate()-1);Ht.range;const Fn=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qe,e=>e.getUTCDate()-1);Fn.range;const Pi=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qe,e=>Math.floor(e/Qe));Pi.range;function ct(e){return Me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/En)}const tn=ct(0),$t=ct(1),ji=ct(2),Wi=ct(3),wt=ct(4),Xi=ct(5),qi=ct(6);tn.range;$t.range;ji.range;Wi.range;wt.range;Xi.range;qi.range;function ht(e){return Me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/En)}const Zr=ht(0),en=ht(1),Bi=ht(2),Zi=ht(3),Mt=ht(4),Vi=ht(5),Ji=ht(6);Zr.range;en.range;Bi.range;Zi.range;Mt.range;Vi.range;Ji.range;const An=Me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());An.range;const Gi=Me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gi.range;const Ke=Me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ke.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ke.range;const ft=Me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ft.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ft.range;function Qi(e,t,n,r,o,i){const a=[[pt,1,Je],[pt,5,5*Je],[pt,15,15*Je],[pt,30,30*Je],[i,1,Ye],[i,5,5*Ye],[i,15,15*Ye],[i,30,30*Ye],[o,1,Ge],[o,3,3*Ge],[o,6,6*Ge],[o,12,12*Ge],[r,1,Qe],[r,2,2*Qe],[n,1,En],[t,1,ur],[t,3,3*ur],[e,1,hn]];function l(u,m,s){const c=m<u;c&&([u,m]=[m,u]);const b=s&&typeof s.range=="function"?s:f(u,m,s),g=b?b.range(u,+m+1):[];return c?g.reverse():g}function f(u,m,s){const c=Math.abs(m-u)/s,b=kn(([,,_])=>_).right(a,c);if(b===a.length)return e.every(_n(u/hn,m/hn,s));if(b===0)return Kt.every(Math.max(_n(u,m,s),1));const[g,d]=a[c/a[b-1][2]<a[b][2]/c?b-1:b];return g.every(d)}return[l,f]}const[Ki,$i]=Qi(Ke,An,tn,Ht,zn,Rn);function mn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gn(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eu(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,f=e.shortMonths,u=Dt(o),m=St(o),s=Dt(i),c=St(i),b=Dt(a),g=St(a),d=Dt(l),_=St(l),D=Dt(f),A=St(f),H={a:te,A:Q,b:L,B:P,c:null,d:hr,e:hr,f:Tu,g:zu,G:Au,H:wu,I:Mu,j:vu,L:Vr,m:xu,M:Cu,p:v,q:x,Q:dr,s:pr,S:ku,u:Du,U:Su,V:Uu,w:Nu,W:Eu,x:null,X:null,y:Ru,Y:Fu,Z:Hu,"%":gr},O={a:F,A:Z,b:N,B:E,c:null,d:mr,e:mr,f:Iu,g:Gu,G:Ku,H:Yu,I:Lu,j:Ou,L:Gr,m:Pu,M:ju,p:$,q:k,Q:dr,s:pr,S:Wu,u:Xu,U:qu,V:Bu,w:Zu,W:Vu,x:null,X:null,y:Ju,Y:Qu,Z:$u,"%":gr},B={a:oe,A:q,b:K,B:ue,c:he,d:fr,e:fr,f:pu,g:sr,G:lr,H:cr,I:cr,j:hu,L:du,m:cu,M:mu,p:re,q:fu,Q:_u,s:bu,S:gu,u:iu,U:uu,V:au,w:ou,W:lu,x:V,X:J,y:sr,Y:lr,Z:su,"%":yu};H.x=U(n,H),H.X=U(r,H),H.c=U(t,H),O.x=U(n,O),O.X=U(r,O),O.c=U(t,O);function U(y,T){return function(C){var w=[],G=-1,Y=0,M=y.length,S,R,ne;for(C instanceof Date||(C=new Date(+C));++G<M;)y.charCodeAt(G)===37&&(w.push(y.slice(Y,G)),(R=ar[S=y.charAt(++G)])!=null?S=y.charAt(++G):R=S==="e"?" ":"0",(ne=T[S])&&(S=ne(C,R)),w.push(S),Y=G+1);return w.push(y.slice(Y,G)),w.join("")}}function z(y,T){return function(C){var w=kt(1900,void 0,1),G=X(w,y,C+="",0),Y,M;if(G!=C.length)return null;if("Q"in w)return new Date(w.Q);if("s"in w)return new Date(w.s*1e3+("L"in w?w.L:0));if(T&&!("Z"in w)&&(w.Z=0),"p"in w&&(w.H=w.H%12+w.p*12),w.m===void 0&&(w.m="q"in w?w.q:0),"V"in w){if(w.V<1||w.V>53)return null;"w"in w||(w.w=1),"Z"in w?(Y=gn(kt(w.y,0,1)),M=Y.getUTCDay(),Y=M>4||M===0?en.ceil(Y):en(Y),Y=Fn.offset(Y,(w.V-1)*7),w.y=Y.getUTCFullYear(),w.m=Y.getUTCMonth(),w.d=Y.getUTCDate()+(w.w+6)%7):(Y=mn(kt(w.y,0,1)),M=Y.getDay(),Y=M>4||M===0?$t.ceil(Y):$t(Y),Y=Ht.offset(Y,(w.V-1)*7),w.y=Y.getFullYear(),w.m=Y.getMonth(),w.d=Y.getDate()+(w.w+6)%7)}else("W"in w||"U"in w)&&("w"in w||(w.w="u"in w?w.u%7:"W"in w?1:0),M="Z"in w?gn(kt(w.y,0,1)).getUTCDay():mn(kt(w.y,0,1)).getDay(),w.m=0,w.d="W"in w?(w.w+6)%7+w.W*7-(M+5)%7:w.w+w.U*7-(M+6)%7);return"Z"in w?(w.H+=w.Z/100|0,w.M+=w.Z%100,gn(w)):mn(w)}}function X(y,T,C,w){for(var G=0,Y=T.length,M=C.length,S,R;G<Y;){if(w>=M)return-1;if(S=T.charCodeAt(G++),S===37){if(S=T.charAt(G++),R=B[S in ar?T.charAt(G++):S],!R||(w=R(y,C,w))<0)return-1}else if(S!=C.charCodeAt(w++))return-1}return w}function re(y,T,C){var w=u.exec(T.slice(C));return w?(y.p=m.get(w[0].toLowerCase()),C+w[0].length):-1}function oe(y,T,C){var w=b.exec(T.slice(C));return w?(y.w=g.get(w[0].toLowerCase()),C+w[0].length):-1}function q(y,T,C){var w=s.exec(T.slice(C));return w?(y.w=c.get(w[0].toLowerCase()),C+w[0].length):-1}function K(y,T,C){var w=D.exec(T.slice(C));return w?(y.m=A.get(w[0].toLowerCase()),C+w[0].length):-1}function ue(y,T,C){var w=d.exec(T.slice(C));return w?(y.m=_.get(w[0].toLowerCase()),C+w[0].length):-1}function he(y,T,C){return X(y,t,T,C)}function V(y,T,C){return X(y,n,T,C)}function J(y,T,C){return X(y,r,T,C)}function te(y){return a[y.getDay()]}function Q(y){return i[y.getDay()]}function L(y){return f[y.getMonth()]}function P(y){return l[y.getMonth()]}function v(y){return o[+(y.getHours()>=12)]}function x(y){return 1+~~(y.getMonth()/3)}function F(y){return a[y.getUTCDay()]}function Z(y){return i[y.getUTCDay()]}function N(y){return f[y.getUTCMonth()]}function E(y){return l[y.getUTCMonth()]}function $(y){return o[+(y.getUTCHours()>=12)]}function k(y){return 1+~~(y.getUTCMonth()/3)}return{format:function(y){var T=U(y+="",H);return T.toString=function(){return y},T},parse:function(y){var T=z(y+="",!1);return T.toString=function(){return y},T},utcFormat:function(y){var T=U(y+="",O);return T.toString=function(){return y},T},utcParse:function(y){var T=z(y+="",!0);return T.toString=function(){return y},T}}}var ar={"-":"",_:" ",0:"0"},Ce=/^\s*\d+/,tu=/^%/,nu=/[\\^$*+?|[\]().{}]/g;function ae(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function ru(e){return e.replace(nu,"\\$&")}function Dt(e){return new RegExp("^(?:"+e.map(ru).join("|")+")","i")}function St(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ou(e,t,n){var r=Ce.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function iu(e,t,n){var r=Ce.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uu(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function au(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lu(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lr(e,t,n){var r=Ce.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sr(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function su(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fu(e,t,n){var r=Ce.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cu(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fr(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hu(e,t,n){var r=Ce.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cr(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mu(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gu(e,t,n){var r=Ce.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function du(e,t,n){var r=Ce.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pu(e,t,n){var r=Ce.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yu(e,t,n){var r=tu.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _u(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bu(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hr(e,t){return ae(e.getDate(),t,2)}function wu(e,t){return ae(e.getHours(),t,2)}function Mu(e,t){return ae(e.getHours()%12||12,t,2)}function vu(e,t){return ae(1+Ht.count(Ke(e),e),t,3)}function Vr(e,t){return ae(e.getMilliseconds(),t,3)}function Tu(e,t){return Vr(e,t)+"000"}function xu(e,t){return ae(e.getMonth()+1,t,2)}function Cu(e,t){return ae(e.getMinutes(),t,2)}function ku(e,t){return ae(e.getSeconds(),t,2)}function Du(e){var t=e.getDay();return t===0?7:t}function Su(e,t){return ae(tn.count(Ke(e)-1,e),t,2)}function Jr(e){var t=e.getDay();return t>=4||t===0?wt(e):wt.ceil(e)}function Uu(e,t){return e=Jr(e),ae(wt.count(Ke(e),e)+(Ke(e).getDay()===4),t,2)}function Nu(e){return e.getDay()}function Eu(e,t){return ae($t.count(Ke(e)-1,e),t,2)}function Ru(e,t){return ae(e.getFullYear()%100,t,2)}function zu(e,t){return e=Jr(e),ae(e.getFullYear()%100,t,2)}function Fu(e,t){return ae(e.getFullYear()%1e4,t,4)}function Au(e,t){var n=e.getDay();return e=n>=4||n===0?wt(e):wt.ceil(e),ae(e.getFullYear()%1e4,t,4)}function Hu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ae(t/60|0,"0",2)+ae(t%60,"0",2)}function mr(e,t){return ae(e.getUTCDate(),t,2)}function Yu(e,t){return ae(e.getUTCHours(),t,2)}function Lu(e,t){return ae(e.getUTCHours()%12||12,t,2)}function Ou(e,t){return ae(1+Fn.count(ft(e),e),t,3)}function Gr(e,t){return ae(e.getUTCMilliseconds(),t,3)}function Iu(e,t){return Gr(e,t)+"000"}function Pu(e,t){return ae(e.getUTCMonth()+1,t,2)}function ju(e,t){return ae(e.getUTCMinutes(),t,2)}function Wu(e,t){return ae(e.getUTCSeconds(),t,2)}function Xu(e){var t=e.getUTCDay();return t===0?7:t}function qu(e,t){return ae(Zr.count(ft(e)-1,e),t,2)}function Qr(e){var t=e.getUTCDay();return t>=4||t===0?Mt(e):Mt.ceil(e)}function Bu(e,t){return e=Qr(e),ae(Mt.count(ft(e),e)+(ft(e).getUTCDay()===4),t,2)}function Zu(e){return e.getUTCDay()}function Vu(e,t){return ae(en.count(ft(e)-1,e),t,2)}function Ju(e,t){return ae(e.getUTCFullYear()%100,t,2)}function Gu(e,t){return e=Qr(e),ae(e.getUTCFullYear()%100,t,2)}function Qu(e,t){return ae(e.getUTCFullYear()%1e4,t,4)}function Ku(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mt(e):Mt.ceil(e),ae(e.getUTCFullYear()%1e4,t,4)}function $u(){return"+0000"}function gr(){return"%"}function dr(e){return+e}function pr(e){return Math.floor(+e/1e3)}var gt,Kr;ea({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ea(e){return gt=eu(e),Kr=gt.format,gt.parse,gt.utcFormat,gt.utcParse,gt}function ta(e){return new Date(e)}function na(e){return e instanceof Date?+e:+new Date(+e)}function $r(e,t,n,r,o,i,a,l,f,u){var m=Br(),s=m.invert,c=m.domain,b=u(".%L"),g=u(":%S"),d=u("%I:%M"),_=u("%I %p"),D=u("%a %d"),A=u("%b %d"),H=u("%B"),O=u("%Y");function B(U){return(f(U)<U?b:l(U)<U?g:a(U)<U?d:i(U)<U?_:r(U)<U?o(U)<U?D:A:n(U)<U?H:O)(U)}return m.invert=function(U){return new Date(s(U))},m.domain=function(U){return arguments.length?c(Array.from(U,na)):c().map(ta)},m.ticks=function(U){var z=c();return e(z[0],z[z.length-1],U??10)},m.tickFormat=function(U,z){return z==null?B:u(z)},m.nice=function(U){var z=c();return(!U||typeof U.range!="function")&&(U=t(z[0],z[z.length-1],U??10)),U?c(Li(z,U)):m},m.copy=function(){return qr(m,$r(e,t,n,r,o,i,a,l,f,u))},m}function ra(){return Xr.apply($r(Ki,$i,Ke,An,tn,Ht,zn,Rn,pt,Kr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xe(e){return function(){return e}}function eo(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mi(t)}function to(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function no(e){this._context=e}no.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ro(e){return new no(e)}function oo(e){return e[0]}function io(e){return e[1]}function oa(e,t){var n=xe(!0),r=null,o=ro,i=null,a=eo(l);e=typeof e=="function"?e:e===void 0?oo:xe(e),t=typeof t=="function"?t:t===void 0?io:xe(t);function l(f){var u,m=(f=to(f)).length,s,c=!1,b;for(r==null&&(i=o(b=a())),u=0;u<=m;++u)!(u<m&&n(s=f[u],u,f))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+e(s,u,f),+t(s,u,f));if(b)return i=null,b+""||null}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:xe(+f),l):e},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:xe(+f),l):t},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:xe(!!f),l):n},l.curve=function(f){return arguments.length?(o=f,r!=null&&(i=o(r)),l):o},l.context=function(f){return arguments.length?(f==null?r=i=null:i=o(r=f),l):r},l}function ia(e,t,n){var r=null,o=xe(!0),i=null,a=ro,l=null,f=eo(u);e=typeof e=="function"?e:e===void 0?oo:xe(+e),t=typeof t=="function"?t:xe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?io:xe(+n);function u(s){var c,b,g,d=(s=to(s)).length,_,D=!1,A,H=new Array(d),O=new Array(d);for(i==null&&(l=a(A=f())),c=0;c<=d;++c){if(!(c<d&&o(_=s[c],c,s))===D)if(D=!D)b=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=c-1;g>=b;--g)l.point(H[g],O[g]);l.lineEnd(),l.areaEnd()}D&&(H[c]=+e(_,c,s),O[c]=+t(_,c,s),l.point(r?+r(_,c,s):H[c],n?+n(_,c,s):O[c]))}if(A)return l=null,A+""||null}function m(){return oa().defined(o).curve(a).context(i)}return u.x=function(s){return arguments.length?(e=typeof s=="function"?s:xe(+s),r=null,u):e},u.x0=function(s){return arguments.length?(e=typeof s=="function"?s:xe(+s),u):e},u.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:xe(+s),u):r},u.y=function(s){return arguments.length?(t=typeof s=="function"?s:xe(+s),n=null,u):t},u.y0=function(s){return arguments.length?(t=typeof s=="function"?s:xe(+s),u):t},u.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:xe(+s),u):n},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(n)},u.lineX1=function(){return m().x(r).y(t)},u.defined=function(s){return arguments.length?(o=typeof s=="function"?s:xe(!!s),u):o},u.curve=function(s){return arguments.length?(a=s,i!=null&&(l=a(i)),u):a},u.context=function(s){return arguments.length?(s==null?i=l=null:l=a(i=s),u):i},u}function Ut(e,t,n){this.k=e,this.x=t,this.y=n}Ut.prototype={constructor:Ut,scale:function(e){return e===1?this:new Ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ut.prototype;function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uo={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,o=Math.cos,i=Math.tan,a=Math.asin,l=Math.atan2,f=Math.acos,u=n/180,m=1e3*60*60*24,s=2440588,c=2451545;function b(v){return v.valueOf()/m-.5+s}function g(v){return new Date((v+.5-s)*m)}function d(v){return b(v)-c}var _=u*23.4397;function D(v,x){return l(r(v)*o(_)-i(x)*r(_),o(v))}function A(v,x){return a(r(x)*o(_)+o(x)*r(_)*r(v))}function H(v,x,F){return l(r(v),o(v)*r(x)-i(F)*o(x))}function O(v,x,F){return a(r(x)*r(F)+o(x)*o(F)*o(v))}function B(v,x){return u*(280.16+360.9856235*v)-x}function U(v){return v<0&&(v=0),2967e-7/Math.tan(v+.00312536/(v+.08901179))}function z(v){return u*(357.5291+.98560028*v)}function X(v){var x=u*(1.9148*r(v)+.02*r(2*v)+3e-4*r(3*v)),F=u*102.9372;return v+x+F+n}function re(v){var x=z(v),F=X(x);return{dec:A(F,0),ra:D(F,0)}}var oe={};oe.getPosition=function(v,x,F){var Z=u*-F,N=u*x,E=d(v),$=re(E),k=B(E,Z)-$.ra;return{azimuth:H(k,N,$.dec),altitude:O(k,N,$.dec)}};var q=oe.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];oe.addTime=function(v,x,F){q.push([v,x,F])};var K=9e-4;function ue(v,x){return Math.round(v-K-x/(2*n))}function he(v,x,F){return K+(v+x)/(2*n)+F}function V(v,x,F){return c+v+.0053*r(x)-.0069*r(2*F)}function J(v,x,F){return f((r(v)-r(x)*r(F))/(o(x)*o(F)))}function te(v){return-2.076*Math.sqrt(v)/60}function Q(v,x,F,Z,N,E,$){var k=J(v,F,Z),y=he(k,x,N);return V(y,E,$)}oe.getTimes=function(v,x,F,Z){Z=Z||0;var N=u*-F,E=u*x,$=te(Z),k=d(v),y=ue(k,N),T=he(0,N,y),C=z(T),w=X(C),G=A(w,0),Y=V(T,C,w),M,S,R,ne,me,ke,we={solarNoon:g(Y),nadir:g(Y-.5)};for(M=0,S=q.length;M<S;M+=1)R=q[M],ne=(R[0]+$)*u,me=Q(ne,N,E,G,y,C,w),ke=Y-(me-Y),we[R[1]]=g(ke),we[R[2]]=g(me);return we};function L(v){var x=u*(218.316+13.176396*v),F=u*(134.963+13.064993*v),Z=u*(93.272+13.22935*v),N=x+u*6.289*r(F),E=u*5.128*r(Z),$=385001-20905*o(F);return{ra:D(N,E),dec:A(N,E),dist:$}}oe.getMoonPosition=function(v,x,F){var Z=u*-F,N=u*x,E=d(v),$=L(E),k=B(E,Z)-$.ra,y=O(k,N,$.dec),T=l(r(k),i(N)*o($.dec)-r($.dec)*o(k));return y=y+U(y),{azimuth:H(k,N,$.dec),altitude:y,distance:$.dist,parallacticAngle:T}},oe.getMoonIllumination=function(v){var x=d(v||new Date),F=re(x),Z=L(x),N=149598e3,E=f(r(F.dec)*r(Z.dec)+o(F.dec)*o(Z.dec)*o(F.ra-Z.ra)),$=l(N*r(E),Z.dist-N*o(E)),k=l(o(F.dec)*r(F.ra-Z.ra),r(F.dec)*o(Z.dec)-o(F.dec)*r(Z.dec)*o(F.ra-Z.ra));return{fraction:(1+o($))/2,phase:.5+.5*$*(k<0?-1:1)/Math.PI,angle:k}};function P(v,x){return new Date(v.valueOf()+x*m/24)}oe.getMoonTimes=function(v,x,F,Z){var N=new Date(v);Z?N.setUTCHours(0,0,0,0):N.setHours(0,0,0,0);for(var E=.133*u,$=oe.getMoonPosition(N,x,F).altitude-E,k,y,T,C,w,G,Y,M,S,R,ne,me,ke,we=1;we<=24&&(k=oe.getMoonPosition(P(N,we),x,F).altitude-E,y=oe.getMoonPosition(P(N,we+1),x,F).altitude-E,w=($+y)/2-k,G=(y-$)/2,Y=-G/(2*w),M=(w*Y+G)*Y+k,S=G*G-4*w*k,R=0,S>=0&&(ke=Math.sqrt(S)/(Math.abs(w)*2),ne=Y-ke,me=Y+ke,Math.abs(ne)<=1&&R++,Math.abs(me)<=1&&R++,ne<-1&&(ne=me)),R===1?$<0?T=we+ne:C=we+ne:R===2&&(T=we+(M<0?me:ne),C=we+(M<0?ne:me)),!(T&&C));we+=2)$=y;var Re={};return T&&(Re.rise=P(N,T)),C&&(Re.set=P(N,C)),!T&&!C&&(Re[M>0?"alwaysUp":"alwaysDown"]=!0),Re},e.exports=oe})()})(uo);var aa=uo.exports;const jt=ua(aa);new TextEncoder;function yr(e,t,n){const r=e.slice();return r[68]=t[n],r}function _r(e,t,n){const r=e.slice();return r[71]=t[n],r}function br(e,t,n){const r=e.slice();return r[74]=t[n],r}function wr(e,t,n){const r=e.slice();return r[77]=t[n],r}function Mr(e){let t,n=e[77]+"",r,o;return{c(){t=ve("option"),r=je(n),this.h()},l(i){t=Te(i,"OPTION",{});var a=ie(t);r=We(a,n),a.forEach(j),this.h()},h(){t.__value=o=e[77],qt(t,t.__value)},m(i,a){Se(i,t,a),W(t,r)},p(i,a){a[0]&268435456&&n!==(n=i[77]+"")&&st(r,n),a[0]&268435456&&o!==(o=i[77])&&(t.__value=o,qt(t,t.__value))},d(i){i&&j(t)}}}function vr(e){let t,n=e[74].day+"",r,o,i,a,l;return{c(){t=fe("text"),r=je(n),this.h()},l(f){t=ce(f,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var u=ie(t);r=We(u,n),u.forEach(j),this.h()},h(){h(t,"x",o=e[10](e[74].h)),h(t,"y",i=e[11](1)),h(t,"dy","1em"),h(t,"text-anchor","start"),h(t,"class","svelte-1uend0u")},m(f,u){Se(f,t,u),W(t,r),l=!0},p(f,u){e=f,(!l||u[0]&134234112)&&n!==(n=e[74].day+"")&&st(r,n),(!l||u[0]&134235136&&o!==(o=e[10](e[74].h)))&&h(t,"x",o),(!l||u[0]&2048&&i!==(i=e[11](1)))&&h(t,"y",i)},i(f){l||(a&&a.end(1),l=!0)},o(f){f&&(a=Cn(t,e[32],{duration:e[24]})),l=!1},d(f){f&&j(t),f&&a&&a.end()}}}function Tr(e,t){let n,r,o,i,a,l,f,u,m,s=t[74].day&&vr(t);return{key:e,first:null,c(){n=fe("line"),s&&s.c(),u=_t(),this.h()},l(c){n=ce(c,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),ie(n).forEach(j),s&&s.l(c),u=_t(),this.h()},h(){h(n,"class",r=at(`${t[74].day?"midnight":""}`)+" svelte-1uend0u"),h(n,"x1",o=t[10](t[74].h)),h(n,"x2",i=t[10](t[74].h)),h(n,"y1",a=t[11](0)),h(n,"y2",l=t[11](1)),this.first=n},m(c,b){Se(c,n,b),s&&s.m(c,b),Se(c,u,b),m=!0},p(c,b){t=c,(!m||b[0]&134234112&&r!==(r=at(`${t[74].day?"midnight":""}`)+" svelte-1uend0u"))&&h(n,"class",r),(!m||b[0]&134235136&&o!==(o=t[10](t[74].h)))&&h(n,"x1",o),(!m||b[0]&134235136&&i!==(i=t[10](t[74].h)))&&h(n,"x2",i),(!m||b[0]&2048&&a!==(a=t[11](0)))&&h(n,"y1",a),(!m||b[0]&2048&&l!==(l=t[11](1)))&&h(n,"y2",l),t[74].day?s?(s.p(t,b),b[0]&134234112&&Fe(s,1)):(s=vr(t),s.c(),Fe(s,1),s.m(u.parentNode,u)):s&&(Nt(),Ze(s,1,1,()=>{s=null}),Et())},i(c){m||(f&&f.end(1),Fe(s),m=!0)},o(c){c&&(f=Cn(n,t[32],{duration:t[24]})),Ze(s),m=!1},d(c){c&&(j(n),j(u)),c&&f&&f.end(),s&&s.d(c)}}}function xr(e,t){let n,r,o,i,a,l,f;return{key:e,first:null,c(){n=fe("rect"),this.h()},l(u){n=ce(u,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0}),ie(n).forEach(j),this.h()},h(){h(n,"class","offWork svelte-1uend0u"),h(n,"x",r=t[10](t[71][0])),h(n,"y",o=t[11](0)),h(n,"width",i=t[10](t[71][1])-t[10](t[71][0])),h(n,"height",a=t[11](1)-t[11](0)),h(n,"fill","#f00"),h(n,"fill-opacity","0.1"),this.first=n},m(u,m){Se(u,n,m),f=!0},p(u,m){t=u,(!f||m[0]&67126272&&r!==(r=t[10](t[71][0])))&&h(n,"x",r),(!f||m[0]&2048&&o!==(o=t[11](0)))&&h(n,"y",o),(!f||m[0]&67126272&&i!==(i=t[10](t[71][1])-t[10](t[71][0])))&&h(n,"width",i),(!f||m[0]&2048&&a!==(a=t[11](1)-t[11](0)))&&h(n,"height",a)},i(u){f||(l&&l.end(1),f=!0)},o(u){u&&(l=Cn(n,t[32],{duration:t[24]})),f=!1},d(u){u&&j(n),u&&l&&l.end()}}}function Cr(e){let t,n=[],r=new Map,o,i=[],a=new Map,l,f,u,m=qe(e[27][e[14].indexOf(e[68])]);const s=g=>g[74].h;for(let g=0;g<m.length;g+=1){let d=br(e,m,g),_=s(d);r.set(_,n[g]=Tr(_,d))}let c=qe(e[26][e[14].indexOf(e[68])]);const b=g=>g[71][0];for(let g=0;g<c.length;g+=1){let d=_r(e,c,g),_=b(d);a.set(_,i[g]=xr(_,d))}return{c(){t=fe("g");for(let g=0;g<n.length;g+=1)n[g].c();o=_t();for(let g=0;g<i.length;g+=1)i[g].c();this.h()},l(g){t=ce(g,"g",{class:!0,style:!0});var d=ie(t);for(let _=0;_<n.length;_+=1)n[_].l(d);o=_t();for(let _=0;_<i.length;_+=1)i[_].l(d);d.forEach(j),this.h()},h(){h(t,"class",l=at(`ticks local ${e[68].dst?"dst":""}`)+" svelte-1uend0u"),h(t,"style",f=`transform: translate(${e[10](0)-e[10](e[68].gmt_offset)}px)`)},m(g,d){Se(g,t,d);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(t,null);W(t,o);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(t,null);u=!0},p(g,d){d[0]&151014400&&(m=qe(g[27][g[14].indexOf(g[68])]),Nt(),n=Pn(n,d,s,1,g,m,r,t,In,Tr,o,br),Et()),d[0]&83905536&&(c=qe(g[26][g[14].indexOf(g[68])]),Nt(),i=Pn(i,d,b,1,g,c,a,t,In,xr,null,_r),Et()),(!u||d[0]&16384&&l!==(l=at(`ticks local ${g[68].dst?"dst":""}`)+" svelte-1uend0u"))&&h(t,"class",l),(!u||d[0]&17408&&f!==(f=`transform: translate(${g[10](0)-g[10](g[68].gmt_offset)}px)`))&&h(t,"style",f)},i(g){if(!u){for(let d=0;d<m.length;d+=1)Fe(n[d]);for(let d=0;d<c.length;d+=1)Fe(i[d]);u=!0}},o(g){for(let d=0;d<n.length;d+=1)Ze(n[d]);for(let d=0;d<i.length;d+=1)Ze(i[d]);u=!1},d(g){g&&j(t);for(let d=0;d<n.length;d+=1)n[d].d();for(let d=0;d<i.length;d+=1)i[d].d()}}}function kr(e){let t,n,r,o,i,a,l,f=e[22](e[29][0])+"",u,m,s,c,b=e[22](e[29][1])+"",g,d,_;return{c(){t=fe("g"),n=fe("rect"),l=fe("text"),u=je(f),c=fe("text"),g=je(b),this.h()},l(D){t=ce(D,"g",{class:!0});var A=ie(t);n=ce(A,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0}),ie(n).forEach(j),l=ce(A,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var H=ie(l);u=We(H,f),H.forEach(j),c=ce(A,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var O=ie(c);g=We(O,b),O.forEach(j),A.forEach(j),this.h()},h(){h(n,"x",r=e[10](e[29][0])),h(n,"y",o=e[11](0)),h(n,"width",i=e[10](e[29][1])-e[10](e[29][0])),h(n,"height",a=e[11](1)-e[11](0)),h(n,"class","svelte-1uend0u"),h(l,"x",m=e[10](e[29][0])),h(l,"y",s=e[11](0)),h(l,"dy",-2),h(l,"text-anchor","end"),h(l,"class","svelte-1uend0u"),h(c,"x",d=e[10](e[29][1])),h(c,"y",_=e[11](0)),h(c,"dy",-2),h(c,"text-anchor","start"),h(c,"class","svelte-1uend0u"),h(t,"class","selection svelte-1uend0u")},m(D,A){Se(D,t,A),W(t,n),W(t,l),W(l,u),W(t,c),W(c,g)},p(D,A){A[0]&536871936&&r!==(r=D[10](D[29][0]))&&h(n,"x",r),A[0]&2048&&o!==(o=D[11](0))&&h(n,"y",o),A[0]&536871936&&i!==(i=D[10](D[29][1])-D[10](D[29][0]))&&h(n,"width",i),A[0]&2048&&a!==(a=D[11](1)-D[11](0))&&h(n,"height",a),A[0]&541065216&&f!==(f=D[22](D[29][0])+"")&&st(u,f),A[0]&536871936&&m!==(m=D[10](D[29][0]))&&h(l,"x",m),A[0]&2048&&s!==(s=D[11](0))&&h(l,"y",s),A[0]&541065216&&b!==(b=D[22](D[29][1])+"")&&st(g,b),A[0]&536871936&&d!==(d=D[10](D[29][1]))&&h(c,"x",d),A[0]&2048&&_!==(_=D[11](0))&&h(c,"y",_)},d(D){D&&j(t)}}}function Dr(e){let t,n,r,o,i,a=e[22](e[30])+"",l,f,u,m,s,c,b;return{c(){t=fe("g"),n=fe("rect"),i=fe("text"),l=je(a),m=fe("rect"),this.h()},l(g){t=ce(g,"g",{class:!0});var d=ie(t);n=ce(d,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),ie(n).forEach(j),i=ce(d,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var _=ie(i);l=We(_,a),_.forEach(j),m=ce(d,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),ie(m).forEach(j),d.forEach(j),this.h()},h(){h(n,"class","backing svelte-1uend0u"),h(n,"x",r=e[10](e[30])),h(n,"y",o=e[11](0)-15),h(n,"width","100"),h(n,"height",15),h(i,"x",f=e[10](e[30])),h(i,"y",u=e[11](0)),h(i,"dy",-2),h(i,"text-anchor","start"),h(i,"class","svelte-1uend0u"),h(m,"class","marker svelte-1uend0u"),h(m,"x",s=e[10](e[30])),h(m,"y",c=e[11](0)),h(m,"width","1"),h(m,"height",b=e[11](1)-e[11](0)),h(t,"class","hover svelte-1uend0u")},m(g,d){Se(g,t,d),W(t,n),W(t,i),W(i,l),W(t,m)},p(g,d){d[0]&1073742848&&r!==(r=g[10](g[30]))&&h(n,"x",r),d[0]&2048&&o!==(o=g[11](0)-15)&&h(n,"y",o),d[0]&1077936128&&a!==(a=g[22](g[30])+"")&&st(l,a),d[0]&1073742848&&f!==(f=g[10](g[30]))&&h(i,"x",f),d[0]&2048&&u!==(u=g[11](0))&&h(i,"y",u),d[0]&1073742848&&s!==(s=g[10](g[30]))&&h(m,"x",s),d[0]&2048&&c!==(c=g[11](0))&&h(m,"y",c),d[0]&2048&&b!==(b=g[11](1)-g[11](0))&&h(m,"height",b)},d(g){g&&j(t)}}}function la(e){let t,n,r,o,i,a,l,f,u,m,s,c,b,g,d,_,D,A,H,O,B,U,z,X,re=e[25](e[13])+"",oe,q,K,ue=e[17](e[13])+"",he,V,J,te,Q,L,P,v,x,F,Z,N,E,$,k=qe(e[28]),y=[];for(let M=0;M<k.length;M+=1)y[M]=Mr(wr(e,k,M));let T=qe(e[14]),C=[];for(let M=0;M<T.length;M+=1)C[M]=Cr(yr(e,T,M));const w=M=>Ze(C[M],1,1,()=>{C[M]=null});let G=e[29]&&kr(e),Y=e[30]&&Dr(e);return{c(){t=ve("div"),n=ve("div"),r=ve("input"),o=Ae(),i=ve("select");for(let M=0;M<y.length;M+=1)y[M].c();a=Ae(),l=fe("svg"),f=fe("defs"),u=fe("linearGradient"),m=fe("stop"),s=fe("stop"),c=fe("g"),b=fe("g"),g=fe("g"),d=fe("path"),D=fe("path");for(let M=0;M<C.length;M+=1)C[M].c();O=fe("g"),B=fe("line"),X=fe("text"),oe=je(re),K=fe("text"),he=je(ue),G&&G.c(),te=_t(),Y&&Y.c(),L=fe("rect"),this.h()},l(M){t=Te(M,"DIV",{class:!0});var S=ie(t);n=Te(S,"DIV",{class:!0});var R=ie(n);r=Te(R,"INPUT",{type:!0,class:!0,placeholder:!0}),o=He(R),i=Te(R,"SELECT",{class:!0});var ne=ie(i);for(let Oe=0;Oe<y.length;Oe+=1)y[Oe].l(ne);ne.forEach(j),R.forEach(j),a=He(S),l=ce(S,"svg",{class:!0,height:!0});var me=ie(l);f=ce(me,"defs",{});var ke=ie(f);u=ce(ke,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var we=ie(u);m=ce(we,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ie(m).forEach(j),s=ce(we,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ie(s).forEach(j),we.forEach(j),ke.forEach(j),c=ce(me,"g",{class:!0,style:!0});var Re=ie(c);b=ce(Re,"g",{class:!0,style:!0});var Le=ie(b);g=ce(Le,"g",{class:!0});var Xe=ie(g);d=ce(Xe,"path",{class:!0,d:!0}),ie(d).forEach(j),D=ce(Xe,"path",{class:!0,d:!0}),ie(D).forEach(j),Xe.forEach(j),Le.forEach(j);for(let Oe=0;Oe<C.length;Oe+=1)C[Oe].l(Re);O=ce(Re,"g",{class:!0,style:!0});var ze=ie(O);B=ce(ze,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),ie(B).forEach(j),X=ce(ze,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var Yt=ie(X);oe=We(Yt,re),Yt.forEach(j),K=ce(ze,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var Ue=ie(K);he=We(Ue,ue),Ue.forEach(j),ze.forEach(j),G&&G.l(Re),te=_t(),Y&&Y.l(Re),Re.forEach(j),L=ce(me,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,role:!0,tabindex:!0}),ie(L).forEach(j),me.forEach(j),S.forEach(j),this.h()},h(){h(r,"type","search"),h(r,"class","search svelte-1uend0u"),h(r,"placeholder","Search"),h(i,"class","timezone svelte-1uend0u"),e[0]===void 0&&wo(()=>e[51].call(i)),h(n,"class","svelte-1uend0u"),h(m,"offset","0%"),h(m,"stop-color","rgb(255, 204, 0)"),h(m,"stop-opacity","0.3"),h(s,"offset","100%"),h(s,"stop-color","rgb(255, 204, 0)"),h(s,"stop-opacity","0.05"),h(u,"id","sun-gradient"),h(u,"x1","0%"),h(u,"y1","0%"),h(u,"x2","0%"),h(u,"y2","100%"),h(d,"class","area svelte-1uend0u"),h(d,"d",_=e[16](e[15])),h(D,"class","outline svelte-1uend0u"),h(D,"d",A=e[16].lineY1()(e[15])),h(g,"class","sun svelte-1uend0u"),h(b,"class","localTime svelte-1uend0u"),h(b,"style",H=`transform: translate(${e[10](0)-e[10](e[18])}px)`),h(B,"x1",0),h(B,"x2",0),h(B,"y1",U=e[11](0)),h(B,"y2",z=e[11](1)),h(B,"class","svelte-1uend0u"),h(X,"x",0),h(X,"y",q=e[11](0)),h(X,"dy",-2),h(X,"text-anchor","start"),h(X,"class","svelte-1uend0u"),h(K,"x",0),h(K,"y",V=e[11](0)),h(K,"dx","-0.3em"),h(K,"dy",-2),h(K,"text-anchor","end"),h(K,"class","svelte-1uend0u"),h(O,"class","now svelte-1uend0u"),h(O,"style",J=e[23](e[13])),h(c,"class",at("timeline")+" svelte-1uend0u"),h(c,"style",Q=`transform: translate(${e[10](e[3])-e[10](e[19][0])}px)`),h(L,"class","hitarea svelte-1uend0u"),h(L,"x",P=e[10].range()[0]),h(L,"y",v=e[11].range()[0]),h(L,"width",x=Math.abs(e[10].range()[1]-e[10].range()[0])),h(L,"height",F=Math.abs(e[11].range()[1]-e[11].range()[0])),h(L,"fill","transparent"),h(L,"stroke","none"),h(L,"role","application"),h(L,"tabindex","-1"),h(l,"class",Z=at(`${e[20]?"animate":""}`)+" svelte-1uend0u"),h(l,"height","4em"),h(t,"class","timezone svelte-1uend0u")},m(M,S){Se(M,t,S),W(t,n),W(n,r),e[49](r),qt(r,e[9]),W(n,o),W(n,i);for(let R=0;R<y.length;R+=1)y[R]&&y[R].m(i,null);On(i,e[0],!0),W(t,a),W(t,l),W(l,f),W(f,u),W(u,m),W(u,s),W(l,c),W(c,b),W(b,g),W(g,d),W(g,D);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(c,null);W(c,O),W(O,B),W(O,X),W(X,oe),W(O,K),W(K,he),G&&G.m(c,null),W(c,te),Y&&Y.m(c,null),W(l,L),e[54](l),N=!0,E||($=[be(r,"input",e[50]),be(r,"keydown",e[31]),be(i,"change",e[51]),be(L,"mousemove",e[33]),be(L,"mouseleave",e[52]),be(L,"mousedown",e[53]),be(L,"mouseup",e[35]),be(L,"wheel",e[36]),be(L,"touchstart",e[37]),be(L,"touchmove",e[38]),be(L,"touchend",e[39]),be(L,"touchcancel",e[39])],E=!0)},p(M,S){if(S[0]&512&&r.value!==M[9]&&qt(r,M[9]),S[0]&268435456){k=qe(M[28]);let R;for(R=0;R<k.length;R+=1){const ne=wr(M,k,R);y[R]?y[R].p(ne,S):(y[R]=Mr(ne),y[R].c(),y[R].m(i,null))}for(;R<y.length;R+=1)y[R].d(1);y.length=k.length}if(S[0]&268435457&&On(i,M[0]),(!N||S[0]&98304&&_!==(_=M[16](M[15])))&&h(d,"d",_),(!N||S[0]&98304&&A!==(A=M[16].lineY1()(M[15])))&&h(D,"d",A),(!N||S[0]&263168&&H!==(H=`transform: translate(${M[10](0)-M[10](M[18])}px)`))&&h(b,"style",H),S[0]&218123264){T=qe(M[14]);let R;for(R=0;R<T.length;R+=1){const ne=yr(M,T,R);C[R]?(C[R].p(ne,S),Fe(C[R],1)):(C[R]=Cr(ne),C[R].c(),Fe(C[R],1),C[R].m(c,O))}for(Nt(),R=T.length;R<C.length;R+=1)w(R);Et()}(!N||S[0]&2048&&U!==(U=M[11](0)))&&h(B,"y1",U),(!N||S[0]&2048&&z!==(z=M[11](1)))&&h(B,"y2",z),(!N||S[0]&33562624)&&re!==(re=M[25](M[13])+"")&&st(oe,re),(!N||S[0]&2048&&q!==(q=M[11](0)))&&h(X,"y",q),(!N||S[0]&139264)&&ue!==(ue=M[17](M[13])+"")&&st(he,ue),(!N||S[0]&2048&&V!==(V=M[11](0)))&&h(K,"y",V),(!N||S[0]&8396800&&J!==(J=M[23](M[13])))&&h(O,"style",J),M[29]?G?G.p(M,S):(G=kr(M),G.c(),G.m(c,te)):G&&(G.d(1),G=null),M[30]?Y?Y.p(M,S):(Y=Dr(M),Y.c(),Y.m(c,null)):Y&&(Y.d(1),Y=null),(!N||S[0]&525320&&Q!==(Q=`transform: translate(${M[10](M[3])-M[10](M[19][0])}px)`))&&h(c,"style",Q),(!N||S[0]&1024&&P!==(P=M[10].range()[0]))&&h(L,"x",P),(!N||S[0]&2048&&v!==(v=M[11].range()[0]))&&h(L,"y",v),(!N||S[0]&1024&&x!==(x=Math.abs(M[10].range()[1]-M[10].range()[0])))&&h(L,"width",x),(!N||S[0]&2048&&F!==(F=Math.abs(M[11].range()[1]-M[11].range()[0])))&&h(L,"height",F),(!N||S[0]&1048576&&Z!==(Z=at(`${M[20]?"animate":""}`)+" svelte-1uend0u"))&&h(l,"class",Z)},i(M){if(!N){for(let S=0;S<T.length;S+=1)Fe(C[S]);N=!0}},o(M){C=C.filter(Boolean);for(let S=0;S<C.length;S+=1)Ze(C[S]);N=!1},d(M){M&&j(t),e[49](null),pn(y,M),pn(C,M),G&&G.d(),Y&&Y.d(),e[54](null),E=!1,xn($)}}}function sa(e,t,n){let r,o,i,a,l,f,u,m,s,c,b,g=tt,d=()=>(g(),g=nt(C,p=>n(45,b=p)),C),_,D=tt,A=()=>(D(),D=nt(N,p=>n(19,_=p)),N),H,O=tt,B=()=>(O(),O=nt(Le,p=>n(29,H=p)),Le),U,z=tt,X=()=>(z(),z=nt(Xe,p=>n(30,U=p)),Xe),re,oe=tt,q=()=>(oe(),oe=nt(R,p=>n(46,re=p)),R),K,ue=tt,he=()=>(ue(),ue=nt(L,p=>n(47,K=p)),L),V,J=tt,te=()=>(J(),J=nt(Q,p=>n(48,V=p)),Q);e.$$.on_destroy.push(()=>g()),e.$$.on_destroy.push(()=>D()),e.$$.on_destroy.push(()=>O()),e.$$.on_destroy.push(()=>z()),e.$$.on_destroy.push(()=>oe()),e.$$.on_destroy.push(()=>ue()),e.$$.on_destroy.push(()=>J());let{timezoneNames:Q}=t;te();let{timezones:L}=t;he();let{value:P=""}=t,v="",{dropdownValue:x=P}=t;function F(p){r.includes(x)||n(0,x=r[0])}let{anchorTime:Z=Date.now()}=t,{timeRange:N=$e([Z,Z+3*1e3*60*60*36])}=t;A(),new Date().getTimezoneOffset()*60*1e3;let E=ra(),$=Xt().domain([0,1]),k,y;function T(){if(k){De(C,b=!1,b);let p=16*1.2;E.range([0,k.clientWidth]),$.range([p,k.clientHeight-p])}n(10,E),n(3,Z),n(44,o),n(19,_),n(18,i),n(13,Y),n(40,P),n(48,V),n(0,x),n(11,$),n(43,ke),n(15,me),n(11,$),n(42,ne),n(19,_),n(40,P),n(46,re),n(0,x),n(48,V),n(14,S),n(17,u),n(47,K),clearTimeout(y),y=setTimeout(()=>{De(C,b=!0,b)},100)}let{animate:C=$e(!0)}=t;d();let w=!1,G=!1;Rr(()=>(window.addEventListener("resize",T),T(),requestAnimationFrame(()=>{n(41,w=!0),n(20,G=b)}),vt&&vt.focus(),()=>{window.removeEventListener("resize",T)}));let Y=Date.now();function M(p,I){var ye,de;let ee=p instanceof Date?p.getTime():p;return((de=(ye=K[I])==null?void 0:ye.find(le=>le.time_start<=ee))==null?void 0:de.gmt_offset)??0}let S=[];setInterval(()=>{n(13,Y=Date.now())},1e3);let{cities:R=ot([])}=t;q();let ne,me=[],ke=Xt(),we=ia();function Re(p,{duration:I}){return{duration:I}}let{selection:Le=$e(null)}=t;B();let{hover:Xe=$e(null)}=t;X();const ze=1e3*60*15;function Yt(p){let I=et(p.clientX);I=Math.round(I/ze)*ze,De(Xe,U=I,U),Hn(U)}let Ue;function Oe(p){p&&(Ue=p,De(Le,H=[Ue,Ue+ze],H))}function Hn(p){Ue&&p&&(p==Ue?De(Le,H=[p,Ue+ze],H):p<Ue?De(Le,H=[p,Ue],H):De(Le,H=[Ue,p],H))}function nn(){Ue=void 0}let Yn,ao=p=>{var ge;let I=p.clientX-((ge=p.target)==null?void 0:ge.getBoundingClientRect().left),ee=E.invert(I+E(_[0])-E(Z));ee instanceof Date&&(ee=ee.getTime());let pe=-p.deltaY,ye=1.1;pe>0&&(ye=1/ye);let de=1e3*60*60*24,le=1e3*60*60*24*14,se=_[1]-_[0];se*ye<de?ye=de/se:se*ye>le&&(ye=le/se);let _e=_.map(Ie=>ee+(Ie-ee)*ye);De(N,_=_e,_),De(C,b=!1,b),clearTimeout(Yn),Yn=setTimeout(()=>{De(C,b=!0,b)},500)},vt;function et(p){let I=p-k.getBoundingClientRect().left,ee=E.invert(I+E(_[0])-E(Z));return ee instanceof Date&&(ee=ee.getTime()),ee}let Lt,Tt;function lo(p){p.preventDefault();let I=p.touches[0],ee=et(I.clientX);ee=Math.round(ee/ze)*ze,Tt={timeRange:_,clientX:I.clientX,zoomFactor:(_[1]-_[0])/(E.range()[1]-E.range()[0])},clearTimeout(Lt),Lt=setTimeout(()=>{Oe(ee)},500)}let mt,xt=Xt();function so(p){if(p.preventDefault(),clearTimeout(Lt),Ue){let I=p.touches[0],ee=et(I.clientX);ee=Math.round(ee/ze)*ze,Hn(ee)}else if(Tt){De(C,b=!1,b);let I=p.touches[0],ee=et(I.clientX)-et(Tt.clientX);if(De(N,_=Tt.timeRange.map(pe=>pe-ee),_),p.touches.length>1)if(!mt)mt=p.touches[1].clientX,xt.range([I.clientX,mt].map(pe=>pe-k.getBoundingClientRect().left)),xt.domain([et(I.clientX),et(mt)]);else{xt.range([I.clientX,p.touches[1].clientX].map(_e=>_e-k.getBoundingClientRect().left));let pe=E.range().map(_e=>xt.invert(_e));console.log(pe.map(_e=>m(_e)));let ye=1e3*60*60*24,de=1e3*60*60*24*14,le=Math.abs(pe[1]-pe[0]);if(le<ye){let _e=xt.invert((I.clientX+p.touches[1].clientX)/2),ge=ye/le;pe=pe.map(Ie=>_e+(Ie-_e)*ge)}let se=(le-ye)/(de-ye);console.log(se),De(N,_=pe,_)}else mt&&(Tt.timeRange=_),mt=void 0}}function fo(p){p.preventDefault(),clearTimeout(Lt),Ue?nn():De(C,b=!0,b)}function co(p){dn[p?"unshift":"push"](()=>{vt=p,n(21,vt)})}function ho(){v=this.value,n(9,v)}function mo(){x=vo(this),n(0,x),n(28,r),n(48,V),n(9,v)}const go=()=>{De(Xe,U=null,U),nn()},po=()=>Oe(U);function yo(p){dn[p?"unshift":"push"](()=>{k=p,n(12,k)})}return e.$$set=p=>{"timezoneNames"in p&&te(n(1,Q=p.timezoneNames)),"timezones"in p&&he(n(2,L=p.timezones)),"value"in p&&n(40,P=p.value),"dropdownValue"in p&&n(0,x=p.dropdownValue),"anchorTime"in p&&n(3,Z=p.anchorTime),"timeRange"in p&&A(n(4,N=p.timeRange)),"animate"in p&&d(n(5,C=p.animate)),"cities"in p&&q(n(6,R=p.cities)),"selection"in p&&B(n(7,Le=p.selection)),"hover"in p&&X(n(8,Xe=p.hover))},e.$$.update=()=>{if(e.$$.dirty[0]&1|e.$$.dirty[1]&131072&&n(40,P=V[x]),e.$$.dirty[0]&512|e.$$.dirty[1]&131072&&n(28,r=Object.keys(V).filter(p=>v.trim()==""?!0:p.toLowerCase().includes(v.trim().toLowerCase()))),e.$$.dirty[0]&8192|e.$$.dirty[1]&512&&n(18,i=M(Y,P)),e.$$.dirty[0]&786432&&n(44,o=_.map(p=>p+i)),e.$$.dirty[0]&1032|e.$$.dirty[1]&8192){let p=[Z,o[1]+Z-o[0]];E.domain(p),n(10,E),n(3,Z),n(44,o),n(19,_),n(18,i),n(13,Y),n(40,P),n(48,V),n(0,x)}if(e.$$.dirty[1]&17408&&w&&n(20,G=b),e.$$.dirty[0]&540672|e.$$.dirty[1]&66048){n(14,S=[]);let p=K[P];if(p){p=p.filter(ee=>ee.time_start<_[1]).sort((ee,pe)=>pe.time_start-ee.time_start);let I=0;for(;I<p.length&&p[I].time_start>_[0];)S.push(p[I]),I++;I<p.length&&S.push(p[I])}n(14,S=S.sort((I,ee)=>I.time_start-ee.time_start))}if(e.$$.dirty[1]&512&&n(17,u=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:P}).format),e.$$.dirty[0]&671744&&n(27,a=S.map((p,I,ee)=>{let de=864e5/24,le=Math.max(_[0],p.time_start);le+=p.gmt_offset,le=Math.floor(le/de)*de;let se=_[1];I<ee.length-1&&(se=Math.min(se,ee[I+1].time_start-1)),se+=p.gmt_offset,se=Math.floor(se/de)*de;let _e=[];if(I==0){let ge=Math.floor(le/864e5)*864e5;ge<le&&_e.push({h:ge,day:u(ge-p.gmt_offset)})}for(let ge=le;ge<se+de;ge+=de){let Ie={h:ge};ge%864e5==0&&(Ie.day=u(ge-p.gmt_offset)),_e.push(Ie)}return _e})),e.$$.dirty[0]&540672&&n(26,l=S.map((p,I,ee)=>{let de=[8,18];de=de.map(ge=>ge*36e5);let le=Math.max(_[0],p.time_start);le+=p.gmt_offset,le=Math.floor(le/864e5)*864e5,I>0&&(le=ee[I].time_start+p.gmt_offset);let se=_[1];se+=p.gmt_offset,se=Math.ceil(se/864e5)*864e5,I<ee.length-1&&(se=ee[I+1].time_start+p.gmt_offset);let _e=[];for(;le<=se;){let ge=Math.floor(le/864e5)*864e5,Ie=ge+de[0],Ve=ge+de[1];Ie>le&&_e.push([Math.max(le,ge),Math.min(se,Ie)]),Ve<se&&_e.push([Math.max(le,Ve),Math.min(se,ge+864e5)]),le=ge+864e5}return _e})),e.$$.dirty[1]&512&&n(25,f=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:P}).format),e.$$.dirty[1]&512&&n(22,m=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZone:P}).format),e.$$.dirty[0]&1|e.$$.dirty[1]&32768){let p=re.find(I=>I.capital=="primary"&&I.country.toLowerCase()==(x==null?void 0:x.toLowerCase()));if(!p){let I=x==null?void 0:x.split("/")[1];I=I==null?void 0:I.replace(/_/g," "),p=re.find(ee=>ee.city_ascii.toLowerCase()==(I==null?void 0:I.toLowerCase()))}p?n(42,ne=[p.lat,p.lng]):n(42,ne=void 0)}if(e.$$.dirty[0]&557056|e.$$.dirty[1]&2560&&(n(15,me=[]),ne)){let I=_[0]+M(_[0],P);I=Math.floor(I/864e5)*864e5,I-=864e5;let ee=_[1]+M(_[1],P);ee=Math.ceil(ee/864e5)*864e5,ee+=864e5;let pe=I;for(;pe<=ee;){let ye=jt.getTimes(pe,ne[0],ne[1]),de=ye.sunrise.getTime(),le=ye.sunset.getTime(),se=ye.solarNoon.getTime();me.push([de-1,null]);const _e=15;for(let Ve=de;Ve<le;Ve+=1e3*60*_e){let _o=jt.getPosition(Ve,ne[0],ne[1]);if(me.push([Ve,_o.altitude]),Ve<=se&&se<=Ve+1e3*60*_e){let bo=jt.getPosition(new Date(se),ne[0],ne[1]);me.push([se,bo.altitude])}}let ge=le,Ie=jt.getPosition(ge,ne[0],ne[1]);me.push([ge,Ie.altitude]),me.push([le+1,null]),pe+=864e5}}e.$$.dirty[0]&34816|e.$$.dirty[1]&4096&&(ke.domain([Io(me,p=>p[1]),Math.PI/2]),ke.range([$(1),$(0)]),n(43,ke),n(15,me),n(11,$),n(42,ne),n(19,_),n(40,P),n(46,re),n(0,x),n(48,V),n(14,S),n(17,u),n(47,K)),e.$$.dirty[0]&70656|e.$$.dirty[1]&4608&&(we.x(p=>E(p[0]+M(p[0],P))).y0((k==null?void 0:k.clientHeight)||10).y1(p=>ke(p[1])).defined(p=>p[1]!==null),n(16,we),n(10,E),n(40,P),n(12,k),n(43,ke),n(3,Z),n(44,o),n(48,V),n(0,x),n(15,me),n(11,$),n(19,_),n(18,i),n(42,ne),n(13,Y),n(46,re),n(14,S),n(17,u),n(47,K)),e.$$.dirty[1]&16384&&n(24,s=b?300:0),e.$$.dirty[0]&1024&&n(23,c=p=>`transform: translate(${E(p)}px)`)},[x,Q,L,Z,N,C,R,Le,Xe,v,E,$,k,Y,S,me,we,u,i,_,G,vt,m,c,s,f,l,a,r,H,U,F,Re,Yt,Oe,nn,ao,lo,so,fo,P,w,ne,ke,o,b,re,K,V,co,ho,mo,go,po,yo]}class fa extends zr{constructor(t){super(),Fr(this,t,sa,la,Er,{timezoneNames:1,timezones:2,value:40,dropdownValue:0,anchorTime:3,timeRange:4,animate:5,cities:6,selection:7,hover:8},null,[-1,-1,-1])}}const{document:Sr}=No;function Ur(e,t,n){const r=e.slice();return r[28]=t[n],r[29]=t,r[30]=n,r}function Nr(e){let t,n,r;function o(a){e[23](a,e[28],e[29],e[30])}let i={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[7],timeRange:e[9],hover:e[11],selection:e[12],animate:e[13]};return e[28]!==void 0&&(i.value=e[28]),t=new fa({props:i}),dn.push(()=>xo(t,"value",o)),{c(){Co(t.$$.fragment)},l(a){ko(t.$$.fragment,a)},m(a,l){Do(t,a,l),r=!0},p(a,l){e=a;const f={};l&2&&(f.timezoneNames=e[1]),l&1&&(f.timezones=e[0]),l&4&&(f.cities=e[2]),!n&&l&8&&(n=!0,f.value=e[28],Mo(()=>n=!1)),t.$set(f)},i(a){r||(Fe(t.$$.fragment,a),r=!0)},o(a){Ze(t.$$.fragment,a),r=!1},d(a){So(t,a)}}}function ca(e){let t,n,r,o="<<",i,a,l="<",f,u,m="Today",s,c,b=">",g,d,_=">>",D,A,H,O,B="Add Timezone",U,z,X,re,oe,q,K,ue,he,V,J,te,Q,L,P,v=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,x,F,Z,N=qe(e[3]),E=[];for(let k=0;k<N.length;k+=1)E[k]=Nr(Ur(e,N,k));const $=k=>Ze(E[k],1,1,()=>{E[k]=null});return{c(){t=je(`

A simple way to coordinate cross-timezone events.

`),n=ve("p"),r=ve("button"),r.textContent=o,i=Ae(),a=ve("button"),a.textContent=l,f=Ae(),u=ve("button"),u.textContent=m,s=Ae(),c=ve("button"),c.textContent=b,g=Ae(),d=ve("button"),d.textContent=_,D=Ae(),A=ve("p");for(let k=0;k<E.length;k+=1)E[k].c();H=Ae(),O=ve("button"),O.textContent=B,U=Ae(),z=ve("p"),X=ve("button"),re=je("Copy Start Times"),q=Ae(),K=ve("button"),ue=je("Create Google Calendar Event"),V=Ae(),J=ve("button"),te=je("Download iCal Event"),L=Ae(),P=ve("p"),P.innerHTML=v,this.h()},l(k){To("svelte-rguy8y",Sr.head).forEach(j),t=We(k,`

A simple way to coordinate cross-timezone events.

`),n=Te(k,"P",{});var T=ie(n);r=Te(T,"BUTTON",{"data-svelte-h":!0}),rt(r)!=="svelte-1wh109k"&&(r.textContent=o),i=He(T),a=Te(T,"BUTTON",{"data-svelte-h":!0}),rt(a)!=="svelte-8q1f0u"&&(a.textContent=l),f=He(T),u=Te(T,"BUTTON",{"data-svelte-h":!0}),rt(u)!=="svelte-18ucvh"&&(u.textContent=m),s=He(T),c=Te(T,"BUTTON",{"data-svelte-h":!0}),rt(c)!=="svelte-p2yix0"&&(c.textContent=b),g=He(T),d=Te(T,"BUTTON",{"data-svelte-h":!0}),rt(d)!=="svelte-al0ej"&&(d.textContent=_),T.forEach(j),D=He(k),A=Te(k,"P",{});var C=ie(A);for(let S=0;S<E.length;S+=1)E[S].l(C);H=He(C),O=Te(C,"BUTTON",{"data-svelte-h":!0}),rt(O)!=="svelte-1jawmqt"&&(O.textContent=B),C.forEach(j),U=He(k),z=Te(k,"P",{});var w=ie(z);X=Te(w,"BUTTON",{});var G=ie(X);re=We(G,"Copy Start Times"),G.forEach(j),q=He(w),K=Te(w,"BUTTON",{});var Y=ie(K);ue=We(Y,"Create Google Calendar Event"),Y.forEach(j),V=He(w),J=Te(w,"BUTTON",{});var M=ie(J);te=We(M,"Download iCal Event"),M.forEach(j),w.forEach(j),L=He(k),P=Te(k,"P",{"data-svelte-h":!0}),rt(P)!=="svelte-hqholg"&&(P.innerHTML=v),this.h()},h(){Sr.title="Cross-Timezone Events",X.disabled=oe=!e[4],K.disabled=he=!e[4],J.disabled=Q=!e[4]},m(k,y){Se(k,t,y),Se(k,n,y),W(n,r),W(n,i),W(n,a),W(n,f),W(n,u),W(n,s),W(n,c),W(n,g),W(n,d),Se(k,D,y),Se(k,A,y);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(A,null);W(A,H),W(A,O),Se(k,U,y),Se(k,z,y),W(z,X),W(X,re),W(z,q),W(z,K),W(K,ue),W(z,V),W(z,J),W(J,te),Se(k,L,y),Se(k,P,y),x=!0,F||(Z=[be(r,"click",e[18]),be(a,"click",e[19]),be(u,"click",e[20]),be(c,"click",e[21]),be(d,"click",e[22]),be(O,"click",e[24]),be(X,"click",e[14]),be(K,"click",e[15]),be(J,"click",e[16])],F=!0)},p(k,[y]){if(y&14991){N=qe(k[3]);let T;for(T=0;T<N.length;T+=1){const C=Ur(k,N,T);E[T]?(E[T].p(C,y),Fe(E[T],1)):(E[T]=Nr(C),E[T].c(),Fe(E[T],1),E[T].m(A,H))}for(Nt(),T=N.length;T<E.length;T+=1)$(T);Et()}(!x||y&16&&oe!==(oe=!k[4]))&&(X.disabled=oe),(!x||y&16&&he!==(he=!k[4]))&&(K.disabled=he),(!x||y&16&&Q!==(Q=!k[4]))&&(J.disabled=Q)},i(k){if(!x){for(let y=0;y<N.length;y+=1)Fe(E[y]);x=!0}},o(k){E=E.filter(Boolean);for(let y=0;y<E.length;y+=1)Ze(E[y]);x=!1},d(k){k&&(j(t),j(n),j(D),j(A),j(U),j(z),j(L),j(P)),pn(E,k),F=!1,xn(Z)}}}function ha(e,t,n){let r,o,i;async function a(){const J=await(await fetch(`${rn}/time_zone.csv`)).text(),te=$n(J);let Q={};for(let L of te){let[P,v,x,F,Z,N]=L;Q[P]||(Q[P]=[]),Q[P].push({zone_name:P,country_code:v,abbreviation:x,time_start:+F*1e3,gmt_offset:+Z*1e3,dst:N==="1"})}for(let L in Q)Q[L].sort((P,v)=>v.time_start-P.time_start);return n(0,s=ot(Q)),Q}async function l(){const J=await(await fetch(`${rn}/country.csv`)).text(),te=$n(J);let Q={};for(let L of te){let[P,v]=L;Q[P]=v}return n(17,f=ot(Q)),Q}let f=ot({});async function u(){const J=await(await fetch(`${rn}/worldcities.csv`)).text(),te=_i(J);return n(2,m=ot(te)),te}let m=ot([]),s=ot({});Rr(()=>{a(),l(),u()});const c=Intl.DateTimeFormat().resolvedOptions().timeZone;let b=[c],g=Date.now();const d=24*60*60*1e3;let _=$e([g-.5*d,g+2*d]);Ln(e,_,V=>n(5,i=V));function D(V){De(_,i=i.map(J=>J+V),i)}let A=$e(null),H=$e(null);Ln(e,H,V=>n(4,o=V));let O=$e(!0);function B(){if(o===null)return;function V(te,Q){return Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",timeZone:Q}).format(te)}let J=b.map(te=>te+": "+V(o[0],te));console.log(J.join(", ")),navigator.clipboard.writeText(J.join(", "))}function U(){if(!o)return;const V="https://calendar.google.com/calendar/r/eventedit",J=new URLSearchParams;function te(L){return new Date(L).toISOString().replace(/-|:|\.\d+/g,"")}J.append("dates",`${te(o[0])}/${te(o[1])}`);const Q=`${V}?${J.toString()}`;window.open(Q)}function z(){if(!o)return;function V(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(v){const x=Math.random()*16|0;return(v==="x"?x:x&3|8).toString(16)})}function J(v,x=!1){typeof v=="number"&&(v=new Date(v));const F=v.getUTCFullYear().toString(),Z=(v.getUTCMonth()+1).toString().padStart(2,"0"),N=v.getUTCDate().toString().padStart(2,"0");if(x){const E=v.getUTCHours().toString().padStart(2,"0"),$=v.getUTCMinutes().toString().padStart(2,"0"),k=v.getUTCSeconds().toString().padStart(2,"0");return`${F}${Z}${N}T${E}${$}${k}Z`}else return`${F}${Z}${N}`}const te=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Cross-Timezone Events//Event Creator//EN
BEGIN:VEVENT
UID:${V()}
DTSTAMP:${J(Date.now(),!0)}
DTSTART:${J(o[0],!0)}
DTEND:${J(o[1],!0)}
SUMMARY:New Event
END:VEVENT
END:VCALENDAR`,Q=new Blob([te],{type:"text/calendar;charset=utf-8"}),L=URL.createObjectURL(Q),P=document.createElement("a");P.href=L,P.download="event.ics",P.click(),URL.revokeObjectURL(L)}const X=()=>D(-7*d),re=()=>D(-d),oe=()=>De(_,i=[Date.now()-.5*d,Date.now()+2*d],i),q=()=>D(d),K=()=>D(7*d);function ue(V,J,te,Q){te[Q]=V,n(3,b)}const he=()=>n(3,b=[...b,c]);return e.$$.update=()=>{e.$$.dirty&131073&&n(1,r=Uo([s,f],([V,J])=>{let te=Object.entries(J).map(([P,v])=>{var x;return[v,(x=Object.values(V).map(F=>F[0]).find(F=>F.country_code==P))==null?void 0:x.zone_name]}),Q=[...Object.keys(V).map(P=>[P,P]),...te];return Object.fromEntries(Q)}))},[s,r,m,b,o,i,c,g,d,_,D,A,H,O,B,U,z,f,X,re,oe,q,K,ue,he]}class pa extends zr{constructor(t){super(),Fr(this,t,ha,ca,Er,{})}}export{pa as component};
