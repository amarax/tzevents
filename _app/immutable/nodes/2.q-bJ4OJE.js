import{r as dn,s as Mr,h as ai,z as ot,o as vr,n as et,d as tt,A as Ae,f as Tr,b as Sn,B as si}from"../chunks/scheduler.BrrrnB_2.js";import{a as We,t as Ne,S as xr,i as Cr,e as xe,s as Re,y as fe,b as Oe,c as Ce,d as ie,h as Le,g as I,z as ce,f as Ie,o as m,j as Me,k as q,A as Yt,B as Nn,C as De,q as Tt,n as xt,l as $e,D as un,m as Rt,E as li,F as yn,G as fi,H as ft,I as ci,u as hi,v as mi,w as gi,x as di}from"../chunks/index.TzY72PjB.js";import{r as nt,w as Ke,d as yi,b as Jt}from"../chunks/paths.CyNko0tf.js";function Pe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function En(e,t){We(e,1,1,()=>{t.delete(e.key)})}function zn(e,t,n,r,o,i,a,s,f,u,h,l){let c=e.length,w=i.length,g=c;const y={};for(;g--;)y[e[g].key]=g;const p=[],x=new Map,z=new Map,E=[];for(g=w;g--;){const F=l(o,i,g),P=n(F);let ee=a.get(P);ee?r&&E.push(()=>ee.p(F,t)):(ee=u(P,F),ee.c()),x.set(P,p[g]=ee),P in y&&z.set(P,Math.abs(g-y[P]))}const R=new Set,j=new Set;function U(F){Ne(F,1),F.m(s,h),a.set(F.key,F),h=F.first,w--}for(;c&&w;){const F=p[w-1],P=e[c-1],ee=F.key,te=P.key;F===P?(h=F.first,c--,w--):x.has(te)?!a.has(ee)||R.has(ee)?U(F):j.has(te)?c--:z.get(ee)>z.get(te)?(j.add(ee),U(F)):(R.add(te),c--):(f(P,a),c--)}for(;c--;){const F=e[c];x.has(F.key)||f(F,a)}for(;w;)U(p[w-1]);return dn(E),p}function At(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pn(e){let t,n,r;e.length!==2?(t=At,n=(s,f)=>At(e(s),f),r=(s,f)=>e(s)-f):(t=e===At||e===pi?e:_i,n=e,r=e);function o(s,f,u=0,h=s.length){if(u<h){if(t(f,f)!==0)return h;do{const l=u+h>>>1;n(s[l],f)<0?u=l+1:h=l}while(u<h)}return u}function i(s,f,u=0,h=s.length){if(u<h){if(t(f,f)!==0)return h;do{const l=u+h>>>1;n(s[l],f)<=0?u=l+1:h=l}while(u<h)}return u}function a(s,f,u=0,h=s.length){const l=o(s,f,u,h-1);return l>u&&r(s[l-1],f)>-r(s[l],f)?l-1:l}return{left:o,center:a,right:i}}function _i(){return 0}function bi(e){return e===null?NaN:+e}const wi=pn(At),Mi=wi.right;pn(bi).center;const vi=Math.sqrt(50),Ti=Math.sqrt(10),xi=Math.sqrt(2);function Lt(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=vi?10:i>=Ti?5:i>=xi?2:1;let s,f,u;return o<0?(u=Math.pow(10,-o)/a,s=Math.round(e*u),f=Math.round(t*u),s/u<e&&++s,f/u>t&&--f,u=-u):(u=Math.pow(10,o)*a,s=Math.round(e/u),f=Math.round(t/u),s*u<e&&++s,f*u>t&&--f),f<s&&.5<=n&&n<2?Lt(e,t,n*2):[s,f,u]}function Ci(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,a]=r?Lt(t,e,n):Lt(e,t,n);if(!(i>=o))return[];const s=i-o+1,f=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)f[u]=(i-u)/-a;else for(let u=0;u<s;++u)f[u]=(i-u)*a;else if(a<0)for(let u=0;u<s;++u)f[u]=(o+u)/-a;else for(let u=0;u<s;++u)f[u]=(o+u)*a;return f}function an(e,t,n){return t=+t,e=+e,n=+n,Lt(e,t,n)[2]}function sn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?an(t,e,n):an(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function ki(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function _n(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ut(){}var Ct=.7,Pt=1/Ct,gt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Di=/^#([0-9a-f]{3,8})$/,Ui=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),Si=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),Ni=new RegExp(`^rgba\\(${gt},${gt},${gt},${kt}\\)$`),Ei=new RegExp(`^rgba\\(${je},${je},${je},${kt}\\)$`),zi=new RegExp(`^hsl\\(${kt},${je},${je}\\)$`),Fi=new RegExp(`^hsla\\(${kt},${je},${je},${kt}\\)$`),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_n(Ut,Dt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hn,formatHex:Hn,formatHex8:Hi,formatHsl:Ai,formatRgb:An,toString:An});function Hn(){return this.rgb().formatHex()}function Hi(){return this.rgb().formatHex8()}function Ai(){return Dr(this).formatHsl()}function An(){return this.rgb().formatRgb()}function Dt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Di.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yn(t):n===3?new Ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Et(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Et(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ui.exec(e))?new Ue(t[1],t[2],t[3],1):(t=Si.exec(e))?new Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ni.exec(e))?Et(t[1],t[2],t[3],t[4]):(t=Ei.exec(e))?Et(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zi.exec(e))?Pn(t[1],t[2]/100,t[3]/100,1):(t=Fi.exec(e))?Pn(t[1],t[2]/100,t[3]/100,t[4]):Fn.hasOwnProperty(e)?Yn(Fn[e]):e==="transparent"?new Ue(NaN,NaN,NaN,0):null}function Yn(e){return new Ue(e>>16&255,e>>8&255,e&255,1)}function Et(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ue(e,t,n,r)}function Yi(e){return e instanceof Ut||(e=Dt(e)),e?(e=e.rgb(),new Ue(e.r,e.g,e.b,e.opacity)):new Ue}function ln(e,t,n,r){return arguments.length===1?Yi(e):new Ue(e,t,n,r??1)}function Ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_n(Ue,ln,kr(Ut,{brighter(e){return e=e==null?Pt:Math.pow(Pt,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ct:Math.pow(Ct,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ue(ut(this.r),ut(this.g),ut(this.b),Ot(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rn,formatHex:Rn,formatHex8:Ri,formatRgb:Ln,toString:Ln}));function Rn(){return`#${it(this.r)}${it(this.g)}${it(this.b)}`}function Ri(){return`#${it(this.r)}${it(this.g)}${it(this.b)}${it((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ln(){const e=Ot(this.opacity);return`${e===1?"rgb(":"rgba("}${ut(this.r)}, ${ut(this.g)}, ${ut(this.b)}${e===1?")":`, ${e})`}`}function Ot(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ut(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function it(e){return e=ut(e),(e<16?"0":"")+e.toString(16)}function Pn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ye(e,t,n,r)}function Dr(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);if(e instanceof Ut||(e=Dt(e)),!e)return new Ye;if(e instanceof Ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,f=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=f<.5?i+o:2-i-o,a*=60):s=f>0&&f<1?0:a,new Ye(a,s,f,e.opacity)}function Li(e,t,n,r){return arguments.length===1?Dr(e):new Ye(e,t,n,r??1)}function Ye(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_n(Ye,Li,kr(Ut,{brighter(e){return e=e==null?Pt:Math.pow(Pt,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ct:Math.pow(Ct,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ue(Vt(e>=240?e-240:e+120,o,r),Vt(e,o,r),Vt(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ye(On(this.h),zt(this.s),zt(this.l),Ot(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ot(this.opacity);return`${e===1?"hsl(":"hsla("}${On(this.h)}, ${zt(this.s)*100}%, ${zt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function On(e){return e=(e||0)%360,e<0?e+360:e}function zt(e){return Math.max(0,Math.min(1,e||0))}function Vt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bn=e=>()=>e;function Pi(e,t){return function(n){return e+n*t}}function Oi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ii(e){return(e=+e)==1?Ur:function(t,n){return n-t?Oi(t,n,e):bn(isNaN(t)?n:t)}}function Ur(e,t){var n=t-e;return n?Pi(e,n):bn(isNaN(e)?t:e)}const In=function e(t){var n=Ii(t);function r(o,i){var a=n((o=ln(o)).r,(i=ln(i)).r),s=n(o.g,i.g),f=n(o.b,i.b),u=Ur(o.opacity,i.opacity);return function(h){return o.r=a(h),o.g=s(h),o.b=f(h),o.opacity=u(h),o+""}}return r.gamma=e,r}(1);function ji(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Wi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qi(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=wn(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function Zi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bi(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=wn(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gt=new RegExp(fn.source,"g");function Xi(e){return function(){return e}}function Ji(e){return function(t){return e(t)+""}}function Vi(e,t){var n=fn.lastIndex=Gt.lastIndex=0,r,o,i,a=-1,s=[],f=[];for(e=e+"",t=t+"";(r=fn.exec(e))&&(o=Gt.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,f.push({i:a,x:It(r,o)})),n=Gt.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?f[0]?Ji(f[0].x):Xi(t):(t=f.length,function(u){for(var h=0,l;h<t;++h)s[(l=f[h]).i]=l.x(u);return s.join("")})}function wn(e,t){var n=typeof t,r;return t==null||n==="boolean"?bn(t):(n==="number"?It:n==="string"?(r=Dt(t))?(t=r,In):Vi:t instanceof Dt?In:t instanceof Date?Zi:Wi(t)?ji:Array.isArray(t)?qi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bi:It)(e,t)}function Gi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const cn=Math.PI,hn=2*cn,rt=1e-6,Qi=hn-rt;function Sr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ki(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sr;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class $i{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sr:Ki(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,f=r-t,u=o-n,h=a-t,l=s-n,c=h*h+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>rt)if(!(Math.abs(l*f-u*h)>rt)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-a,g=o-s,y=f*f+u*u,p=w*w+g*g,x=Math.sqrt(y),z=Math.sqrt(c),E=i*Math.tan((cn-Math.acos((y+c-p)/(2*x*z)))/2),R=E/z,j=E/x;Math.abs(R-1)>rt&&this._append`L${t+R*h},${n+R*l}`,this._append`A${i},${i},0,0,${+(l*w>h*g)},${this._x1=t+j*f},${this._y1=n+j*u}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),f=r*Math.sin(o),u=t+s,h=n+f,l=1^a,c=a?o-i:i-o;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>rt||Math.abs(this._y1-h)>rt)&&this._append`L${u},${h}`,r&&(c<0&&(c=c%hn+hn),c>Qi?this._append`A${r},${r},0,1,${l},${t-s},${n-f}A${r},${r},0,1,${l},${this._x1=u},${this._y1=h}`:c>rt&&this._append`A${r},${r},0,${+(c>=cn)},${l},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}var jn={},Qt={},Kt=34,_t=10,$t=13;function Nr(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function eo(e,t){var n=Nr(e);return function(r,o){return t(n(r),o,e)}}function Wn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function ke(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function to(e){return e<0?"-"+ke(-e,6):e>9999?"+"+ke(e,6):ke(e,4)}function no(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":to(e.getUTCFullYear())+"-"+ke(e.getUTCMonth()+1,2)+"-"+ke(e.getUTCDate(),2)+(o?"T"+ke(t,2)+":"+ke(n,2)+":"+ke(r,2)+"."+ke(o,3)+"Z":r?"T"+ke(t,2)+":"+ke(n,2)+":"+ke(r,2)+"Z":n||t?"T"+ke(t,2)+":"+ke(n,2)+"Z":"")}function ro(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(l,c){var w,g,y=o(l,function(p,x){if(w)return w(p,x-1);g=p,w=c?eo(p,c):Nr(p)});return y.columns=g||[],y}function o(l,c){var w=[],g=l.length,y=0,p=0,x,z=g<=0,E=!1;l.charCodeAt(g-1)===_t&&--g,l.charCodeAt(g-1)===$t&&--g;function R(){if(z)return Qt;if(E)return E=!1,jn;var U,F=y,P;if(l.charCodeAt(F)===Kt){for(;y++<g&&l.charCodeAt(y)!==Kt||l.charCodeAt(++y)===Kt;);return(U=y)>=g?z=!0:(P=l.charCodeAt(y++))===_t?E=!0:P===$t&&(E=!0,l.charCodeAt(y)===_t&&++y),l.slice(F+1,U-1).replace(/""/g,'"')}for(;y<g;){if((P=l.charCodeAt(U=y++))===_t)E=!0;else if(P===$t)E=!0,l.charCodeAt(y)===_t&&++y;else if(P!==n)continue;return l.slice(F,U)}return z=!0,l.slice(F,g)}for(;(x=R())!==Qt;){for(var j=[];x!==jn&&x!==Qt;)j.push(x),x=R();c&&(j=c(j,p++))==null||w.push(j)}return w}function i(l,c){return l.map(function(w){return c.map(function(g){return h(w[g])}).join(e)})}function a(l,c){return c==null&&(c=Wn(l)),[c.map(h).join(e)].concat(i(l,c)).join(`
`)}function s(l,c){return c==null&&(c=Wn(l)),i(l,c).join(`
`)}function f(l){return l.map(u).join(`
`)}function u(l){return l.map(h).join(e)}function h(l){return l==null?"":l instanceof Date?no(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:o,format:a,formatBody:s,formatRows:f,formatRow:u,formatValue:h}}var Er=ro(","),io=Er.parse,qn=Er.parseRows;function oo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dt(e){return e=jt(Math.abs(e)),e?e[1]:NaN}function uo(e,t){return function(n,r){for(var o=n.length,i=[],a=0,s=e[0],f=0;o>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),i.push(n.substring(o-=s,o+s)),!((f+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(t)}}function ao(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var so=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wt(e){if(!(t=so.exec(e)))throw new Error("invalid format: "+e);var t;return new Mn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wt.prototype=Mn.prototype;function Mn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lo(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var zr;function fo(e,t){var n=jt(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(zr=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+jt(e,Math.max(0,t+i-1))[0]}function Zn(e,t){var n=jt(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Bn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zn(e*100,t),r:Zn,s:fo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xn(e){return e}var Jn=Array.prototype.map,Vn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function co(e){var t=e.grouping===void 0||e.thousands===void 0?Xn:uo(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Xn:ao(Jn.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function u(l){l=Wt(l);var c=l.fill,w=l.align,g=l.sign,y=l.symbol,p=l.zero,x=l.width,z=l.comma,E=l.precision,R=l.trim,j=l.type;j==="n"?(z=!0,j="g"):Bn[j]||(E===void 0&&(E=12),R=!0,j="g"),(p||c==="0"&&w==="=")&&(p=!0,c="0",w="=");var U=y==="$"?n:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",F=y==="$"?r:/[%p]/.test(j)?a:"",P=Bn[j],ee=/[defgprs%]/.test(j);E=E===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function te(O){var L=U,B=F,V,Z,se;if(j==="c")B=P(O)+B,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?f:P(Math.abs(O),E),R&&(O=lo(O)),$&&+O==0&&g!=="+"&&($=!1),L=($?g==="("?g:s:g==="-"||g==="("?"":g)+L,B=(j==="s"?Vn[8+zr/3]:"")+B+($&&g==="("?")":""),ee){for(V=-1,Z=O.length;++V<Z;)if(se=O.charCodeAt(V),48>se||se>57){B=(se===46?o+O.slice(V+1):O.slice(V))+B,O=O.slice(0,V);break}}}z&&!p&&(O=t(O,1/0));var S=L.length+O.length+B.length,ae=S<x?new Array(x-S+1).join(c):"";switch(z&&p&&(O=t(ae+O,ae.length?x-B.length:1/0),ae=""),w){case"<":O=L+O+B+ae;break;case"=":O=L+ae+O+B;break;case"^":O=ae.slice(0,S=ae.length>>1)+L+O+B+ae.slice(S);break;default:O=ae+L+O+B;break}return i(O)}return te.toString=function(){return l+""},te}function h(l,c){var w=u((l=Wt(l),l.type="f",l)),g=Math.max(-8,Math.min(8,Math.floor(dt(c)/3)))*3,y=Math.pow(10,-g),p=Vn[8+g/3];return function(x){return w(y*x)+p}}return{format:u,formatPrefix:h}}var Ft,Fr,Hr;ho({thousands:",",grouping:[3],currency:["$",""]});function ho(e){return Ft=co(e),Fr=Ft.format,Hr=Ft.formatPrefix,Ft}function mo(e){return Math.max(0,-dt(Math.abs(e)))}function go(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(t)/3)))*3-dt(Math.abs(e)))}function yo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dt(t)-dt(e))+1}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function po(e){return function(){return e}}function _o(e){return+e}var Gn=[0,1];function ht(e){return e}function mn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:po(isNaN(t)?NaN:.5)}function bo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wo(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=mn(o,r),i=n(a,i)):(r=mn(r,o),i=n(i,a)),function(s){return i(r(s))}}function Mo(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=mn(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(s){var f=Mi(e,s,1,r)-1;return i[f](o[f](s))}}function Yr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vo(){var e=Gn,t=Gn,n=wn,r,o,i,a=ht,s,f,u;function h(){var c=Math.min(e.length,t.length);return a!==ht&&(a=bo(e[0],e[c-1])),s=c>2?Mo:wo,f=u=null,l}function l(c){return c==null||isNaN(c=+c)?i:(f||(f=s(e.map(r),t,n)))(r(a(c)))}return l.invert=function(c){return a(o((u||(u=s(t,e.map(r),It)))(c)))},l.domain=function(c){return arguments.length?(e=Array.from(c,_o),h()):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),h()):t.slice()},l.rangeRound=function(c){return t=Array.from(c),n=Gi,h()},l.clamp=function(c){return arguments.length?(a=c?!0:ht,h()):a!==ht},l.interpolate=function(c){return arguments.length?(n=c,h()):n},l.unknown=function(c){return arguments.length?(i=c,l):i},function(c,w){return r=c,o=w,h()}}function Rr(){return vo()(ht,ht)}function To(e,t,n,r){var o=sn(e,t,n),i;switch(r=Wt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=go(o,a))&&(r.precision=i),Hr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=yo(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=mo(o))&&(r.precision=i-(r.type==="%")*2);break}}return Fr(r)}function xo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ci(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return To(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,a=r[o],s=r[i],f,u,h=10;for(s<a&&(u=a,a=s,s=u,u=o,o=i,i=u);h-- >0;){if(u=an(a,s,n),u===f)return r[o]=a,r[i]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;f=u}return e},e}function gn(){var e=Rr();return e.copy=function(){return Yr(e,gn())},Ar.apply(e,arguments),xo(e)}function Co(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}const en=new Date,tn=new Date;function pe(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),s=o.ceil(i);return i-a<s-i?a:s},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,s)=>{const f=[];if(i=o.ceil(i),s=s==null?1:Math.floor(s),!(i<a)||!(s>0))return f;let u;do f.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<a);return f},o.filter=i=>pe(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!i(a););else for(;--s>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(en.setTime(+i),tn.setTime(+a),e(en),e(tn),Math.floor(n(en,tn))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const qt=pe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qt);qt.range;const Xe=1e3,ze=Xe*60,Je=ze*60,Ve=Je*24,vn=Ve*7,Qn=Ve*30,nn=Ve*365,mt=pe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getUTCSeconds());mt.range;const Tn=pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xe)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getMinutes());Tn.range;const ko=pe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getUTCMinutes());ko.range;const xn=pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xe-e.getMinutes()*ze)},(e,t)=>{e.setTime(+e+t*Je)},(e,t)=>(t-e)/Je,e=>e.getHours());xn.range;const Do=pe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Je)},(e,t)=>(t-e)/Je,e=>e.getUTCHours());Do.range;const St=pe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ze)/Ve,e=>e.getDate()-1);St.range;const Cn=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ve,e=>e.getUTCDate()-1);Cn.range;const Uo=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ve,e=>Math.floor(e/Ve));Uo.range;function st(e){return pe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ze)/vn)}const Xt=st(0),Zt=st(1),So=st(2),No=st(3),yt=st(4),Eo=st(5),zo=st(6);Xt.range;Zt.range;So.range;No.range;yt.range;Eo.range;zo.range;function lt(e){return pe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vn)}const Lr=lt(0),Bt=lt(1),Fo=lt(2),Ho=lt(3),pt=lt(4),Ao=lt(5),Yo=lt(6);Lr.range;Bt.range;Fo.range;Ho.range;pt.range;Ao.range;Yo.range;const kn=pe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kn.range;const Ro=pe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ro.range;const Ge=pe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ge.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ge.range;const at=pe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());at.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});at.range;function Lo(e,t,n,r,o,i){const a=[[mt,1,Xe],[mt,5,5*Xe],[mt,15,15*Xe],[mt,30,30*Xe],[i,1,ze],[i,5,5*ze],[i,15,15*ze],[i,30,30*ze],[o,1,Je],[o,3,3*Je],[o,6,6*Je],[o,12,12*Je],[r,1,Ve],[r,2,2*Ve],[n,1,vn],[t,1,Qn],[t,3,3*Qn],[e,1,nn]];function s(u,h,l){const c=h<u;c&&([u,h]=[h,u]);const w=l&&typeof l.range=="function"?l:f(u,h,l),g=w?w.range(u,+h+1):[];return c?g.reverse():g}function f(u,h,l){const c=Math.abs(h-u)/l,w=pn(([,,p])=>p).right(a,c);if(w===a.length)return e.every(sn(u/nn,h/nn,l));if(w===0)return qt.every(Math.max(sn(u,h,l),1));const[g,y]=a[c/a[w-1][2]<a[w][2]/c?w-1:w];return g.every(y)}return[s,f]}const[Po,Oo]=Lo(Ge,kn,Xt,St,xn,Tn);function rn(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function on(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Io(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,f=e.shortMonths,u=wt(o),h=Mt(o),l=wt(i),c=Mt(i),w=wt(a),g=Mt(a),y=wt(s),p=Mt(s),x=wt(f),z=Mt(f),E={a:$,A:S,b:ae,B:D,c:null,d:rr,e:rr,f:fu,g:wu,G:vu,H:au,I:su,j:lu,L:Pr,m:cu,M:hu,p:M,q:_,Q:ur,s:ar,S:mu,u:gu,U:du,V:yu,w:pu,W:_u,x:null,X:null,y:bu,Y:Mu,Z:Tu,"%":or},R={a:Y,A:H,b:Q,B:X,c:null,d:ir,e:ir,f:Du,g:Ru,G:Pu,H:xu,I:Cu,j:ku,L:Ir,m:Uu,M:Su,p:G,q:W,Q:ur,s:ar,S:Nu,u:Eu,U:zu,V:Fu,w:Hu,W:Au,x:null,X:null,y:Yu,Y:Lu,Z:Ou,"%":or},j={a:te,A:O,b:L,B,c:V,d:tr,e:tr,f:ru,g:er,G:$n,H:nr,I:nr,j:$o,L:nu,m:Ko,M:eu,p:ee,q:Qo,Q:ou,s:uu,S:tu,u:Bo,U:Xo,V:Jo,w:Zo,W:Vo,x:Z,X:se,y:er,Y:$n,Z:Go,"%":iu};E.x=U(n,E),E.X=U(r,E),E.c=U(t,E),R.x=U(n,R),R.X=U(r,R),R.c=U(t,R);function U(T,A){return function(C){var b=[],J=-1,d=0,N=T.length,k,oe,ne;for(C instanceof Date||(C=new Date(+C));++J<N;)T.charCodeAt(J)===37&&(b.push(T.slice(d,J)),(oe=Kn[k=T.charAt(++J)])!=null?k=T.charAt(++J):oe=k==="e"?" ":"0",(ne=A[k])&&(k=ne(C,oe)),b.push(k),d=J+1);return b.push(T.slice(d,J)),b.join("")}}function F(T,A){return function(C){var b=bt(1900,void 0,1),J=P(b,T,C+="",0),d,N;if(J!=C.length)return null;if("Q"in b)return new Date(b.Q);if("s"in b)return new Date(b.s*1e3+("L"in b?b.L:0));if(A&&!("Z"in b)&&(b.Z=0),"p"in b&&(b.H=b.H%12+b.p*12),b.m===void 0&&(b.m="q"in b?b.q:0),"V"in b){if(b.V<1||b.V>53)return null;"w"in b||(b.w=1),"Z"in b?(d=on(bt(b.y,0,1)),N=d.getUTCDay(),d=N>4||N===0?Bt.ceil(d):Bt(d),d=Cn.offset(d,(b.V-1)*7),b.y=d.getUTCFullYear(),b.m=d.getUTCMonth(),b.d=d.getUTCDate()+(b.w+6)%7):(d=rn(bt(b.y,0,1)),N=d.getDay(),d=N>4||N===0?Zt.ceil(d):Zt(d),d=St.offset(d,(b.V-1)*7),b.y=d.getFullYear(),b.m=d.getMonth(),b.d=d.getDate()+(b.w+6)%7)}else("W"in b||"U"in b)&&("w"in b||(b.w="u"in b?b.u%7:"W"in b?1:0),N="Z"in b?on(bt(b.y,0,1)).getUTCDay():rn(bt(b.y,0,1)).getDay(),b.m=0,b.d="W"in b?(b.w+6)%7+b.W*7-(N+5)%7:b.w+b.U*7-(N+6)%7);return"Z"in b?(b.H+=b.Z/100|0,b.M+=b.Z%100,on(b)):rn(b)}}function P(T,A,C,b){for(var J=0,d=A.length,N=C.length,k,oe;J<d;){if(b>=N)return-1;if(k=A.charCodeAt(J++),k===37){if(k=A.charAt(J++),oe=j[k in Kn?A.charAt(J++):k],!oe||(b=oe(T,C,b))<0)return-1}else if(k!=C.charCodeAt(b++))return-1}return b}function ee(T,A,C){var b=u.exec(A.slice(C));return b?(T.p=h.get(b[0].toLowerCase()),C+b[0].length):-1}function te(T,A,C){var b=w.exec(A.slice(C));return b?(T.w=g.get(b[0].toLowerCase()),C+b[0].length):-1}function O(T,A,C){var b=l.exec(A.slice(C));return b?(T.w=c.get(b[0].toLowerCase()),C+b[0].length):-1}function L(T,A,C){var b=x.exec(A.slice(C));return b?(T.m=z.get(b[0].toLowerCase()),C+b[0].length):-1}function B(T,A,C){var b=y.exec(A.slice(C));return b?(T.m=p.get(b[0].toLowerCase()),C+b[0].length):-1}function V(T,A,C){return P(T,t,A,C)}function Z(T,A,C){return P(T,n,A,C)}function se(T,A,C){return P(T,r,A,C)}function $(T){return a[T.getDay()]}function S(T){return i[T.getDay()]}function ae(T){return f[T.getMonth()]}function D(T){return s[T.getMonth()]}function M(T){return o[+(T.getHours()>=12)]}function _(T){return 1+~~(T.getMonth()/3)}function Y(T){return a[T.getUTCDay()]}function H(T){return i[T.getUTCDay()]}function Q(T){return f[T.getUTCMonth()]}function X(T){return s[T.getUTCMonth()]}function G(T){return o[+(T.getUTCHours()>=12)]}function W(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var A=U(T+="",E);return A.toString=function(){return T},A},parse:function(T){var A=F(T+="",!1);return A.toString=function(){return T},A},utcFormat:function(T){var A=U(T+="",R);return A.toString=function(){return T},A},utcParse:function(T){var A=F(T+="",!0);return A.toString=function(){return T},A}}}var Kn={"-":"",_:" ",0:"0"},we=/^\s*\d+/,jo=/^%/,Wo=/[\\^$*+?|[\]().{}]/g;function ue(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function qo(e){return e.replace(Wo,"\\$&")}function wt(e){return new RegExp("^(?:"+e.map(qo).join("|")+")","i")}function Mt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Zo(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Bo(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Xo(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jo(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Vo(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $n(e,t,n){var r=we.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function er(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Go(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qo(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ko(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tr(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $o(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nr(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eu(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tu(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nu(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ru(e,t,n){var r=we.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iu(e,t,n){var r=jo.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ou(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uu(e,t,n){var r=we.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rr(e,t){return ue(e.getDate(),t,2)}function au(e,t){return ue(e.getHours(),t,2)}function su(e,t){return ue(e.getHours()%12||12,t,2)}function lu(e,t){return ue(1+St.count(Ge(e),e),t,3)}function Pr(e,t){return ue(e.getMilliseconds(),t,3)}function fu(e,t){return Pr(e,t)+"000"}function cu(e,t){return ue(e.getMonth()+1,t,2)}function hu(e,t){return ue(e.getMinutes(),t,2)}function mu(e,t){return ue(e.getSeconds(),t,2)}function gu(e){var t=e.getDay();return t===0?7:t}function du(e,t){return ue(Xt.count(Ge(e)-1,e),t,2)}function Or(e){var t=e.getDay();return t>=4||t===0?yt(e):yt.ceil(e)}function yu(e,t){return e=Or(e),ue(yt.count(Ge(e),e)+(Ge(e).getDay()===4),t,2)}function pu(e){return e.getDay()}function _u(e,t){return ue(Zt.count(Ge(e)-1,e),t,2)}function bu(e,t){return ue(e.getFullYear()%100,t,2)}function wu(e,t){return e=Or(e),ue(e.getFullYear()%100,t,2)}function Mu(e,t){return ue(e.getFullYear()%1e4,t,4)}function vu(e,t){var n=e.getDay();return e=n>=4||n===0?yt(e):yt.ceil(e),ue(e.getFullYear()%1e4,t,4)}function Tu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function ir(e,t){return ue(e.getUTCDate(),t,2)}function xu(e,t){return ue(e.getUTCHours(),t,2)}function Cu(e,t){return ue(e.getUTCHours()%12||12,t,2)}function ku(e,t){return ue(1+Cn.count(at(e),e),t,3)}function Ir(e,t){return ue(e.getUTCMilliseconds(),t,3)}function Du(e,t){return Ir(e,t)+"000"}function Uu(e,t){return ue(e.getUTCMonth()+1,t,2)}function Su(e,t){return ue(e.getUTCMinutes(),t,2)}function Nu(e,t){return ue(e.getUTCSeconds(),t,2)}function Eu(e){var t=e.getUTCDay();return t===0?7:t}function zu(e,t){return ue(Lr.count(at(e)-1,e),t,2)}function jr(e){var t=e.getUTCDay();return t>=4||t===0?pt(e):pt.ceil(e)}function Fu(e,t){return e=jr(e),ue(pt.count(at(e),e)+(at(e).getUTCDay()===4),t,2)}function Hu(e){return e.getUTCDay()}function Au(e,t){return ue(Bt.count(at(e)-1,e),t,2)}function Yu(e,t){return ue(e.getUTCFullYear()%100,t,2)}function Ru(e,t){return e=jr(e),ue(e.getUTCFullYear()%100,t,2)}function Lu(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function Pu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pt(e):pt.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function Ou(){return"+0000"}function or(){return"%"}function ur(e){return+e}function ar(e){return Math.floor(+e/1e3)}var ct,Wr;Iu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iu(e){return ct=Io(e),Wr=ct.format,ct.parse,ct.utcFormat,ct.utcParse,ct}function ju(e){return new Date(e)}function Wu(e){return e instanceof Date?+e:+new Date(+e)}function qr(e,t,n,r,o,i,a,s,f,u){var h=Rr(),l=h.invert,c=h.domain,w=u(".%L"),g=u(":%S"),y=u("%I:%M"),p=u("%I %p"),x=u("%a %d"),z=u("%b %d"),E=u("%B"),R=u("%Y");function j(U){return(f(U)<U?w:s(U)<U?g:a(U)<U?y:i(U)<U?p:r(U)<U?o(U)<U?x:z:n(U)<U?E:R)(U)}return h.invert=function(U){return new Date(l(U))},h.domain=function(U){return arguments.length?c(Array.from(U,Wu)):c().map(ju)},h.ticks=function(U){var F=c();return e(F[0],F[F.length-1],U??10)},h.tickFormat=function(U,F){return F==null?j:u(F)},h.nice=function(U){var F=c();return(!U||typeof U.range!="function")&&(U=t(F[0],F[F.length-1],U??10)),U?c(Co(F,U)):h},h.copy=function(){return Yr(h,qr(e,t,n,r,o,i,a,s,f,u))},h}function qu(){return Ar.apply(qr(Po,Oo,Ge,kn,Xt,St,xn,Tn,mt,Wr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function be(e){return function(){return e}}function Zr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $i(t)}function Br(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xr(e){this._context=e}Xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jr(e){return new Xr(e)}function Vr(e){return e[0]}function Gr(e){return e[1]}function Zu(e,t){var n=be(!0),r=null,o=Jr,i=null,a=Zr(s);e=typeof e=="function"?e:e===void 0?Vr:be(e),t=typeof t=="function"?t:t===void 0?Gr:be(t);function s(f){var u,h=(f=Br(f)).length,l,c=!1,w;for(r==null&&(i=o(w=a())),u=0;u<=h;++u)!(u<h&&n(l=f[u],u,f))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+e(l,u,f),+t(l,u,f));if(w)return i=null,w+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:be(!!f),s):n},s.curve=function(f){return arguments.length?(o=f,r!=null&&(i=o(r)),s):o},s.context=function(f){return arguments.length?(f==null?r=i=null:i=o(r=f),s):r},s}function Bu(e,t,n){var r=null,o=be(!0),i=null,a=Jr,s=null,f=Zr(u);e=typeof e=="function"?e:e===void 0?Vr:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Gr:be(+n);function u(l){var c,w,g,y=(l=Br(l)).length,p,x=!1,z,E=new Array(y),R=new Array(y);for(i==null&&(s=a(z=f())),c=0;c<=y;++c){if(!(c<y&&o(p=l[c],c,l))===x)if(x=!x)w=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=c-1;g>=w;--g)s.point(E[g],R[g]);s.lineEnd(),s.areaEnd()}x&&(E[c]=+e(p,c,l),R[c]=+t(p,c,l),s.point(r?+r(p,c,l):E[c],n?+n(p,c,l):R[c]))}if(z)return s=null,z+""||null}function h(){return Zu().defined(o).curve(a).context(i)}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:be(+l),r=null,u):e},u.x0=function(l){return arguments.length?(e=typeof l=="function"?l:be(+l),u):e},u.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:be(+l),u):r},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:be(+l),n=null,u):t},u.y0=function(l){return arguments.length?(t=typeof l=="function"?l:be(+l),u):t},u.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:be(+l),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(r).y(t)},u.defined=function(l){return arguments.length?(o=typeof l=="function"?l:be(!!l),u):o},u.curve=function(l){return arguments.length?(a=l,i!=null&&(s=a(i)),u):a},u.context=function(l){return arguments.length?(l==null?i=s=null:s=a(i=l),u):i},u}function vt(e,t,n){this.k=e,this.x=t,this.y=n}vt.prototype={constructor:vt,scale:function(e){return e===1?this:new vt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vt.prototype;function Xu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qr={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,o=Math.cos,i=Math.tan,a=Math.asin,s=Math.atan2,f=Math.acos,u=n/180,h=1e3*60*60*24,l=2440588,c=2451545;function w(M){return M.valueOf()/h-.5+l}function g(M){return new Date((M+.5-l)*h)}function y(M){return w(M)-c}var p=u*23.4397;function x(M,_){return s(r(M)*o(p)-i(_)*r(p),o(M))}function z(M,_){return a(r(_)*o(p)+o(_)*r(p)*r(M))}function E(M,_,Y){return s(r(M),o(M)*r(_)-i(Y)*o(_))}function R(M,_,Y){return a(r(_)*r(Y)+o(_)*o(Y)*o(M))}function j(M,_){return u*(280.16+360.9856235*M)-_}function U(M){return M<0&&(M=0),2967e-7/Math.tan(M+.00312536/(M+.08901179))}function F(M){return u*(357.5291+.98560028*M)}function P(M){var _=u*(1.9148*r(M)+.02*r(2*M)+3e-4*r(3*M)),Y=u*102.9372;return M+_+Y+n}function ee(M){var _=F(M),Y=P(_);return{dec:z(Y,0),ra:x(Y,0)}}var te={};te.getPosition=function(M,_,Y){var H=u*-Y,Q=u*_,X=y(M),G=ee(X),W=j(X,H)-G.ra;return{azimuth:E(W,Q,G.dec),altitude:R(W,Q,G.dec)}};var O=te.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];te.addTime=function(M,_,Y){O.push([M,_,Y])};var L=9e-4;function B(M,_){return Math.round(M-L-_/(2*n))}function V(M,_,Y){return L+(M+_)/(2*n)+Y}function Z(M,_,Y){return c+M+.0053*r(_)-.0069*r(2*Y)}function se(M,_,Y){return f((r(M)-r(_)*r(Y))/(o(_)*o(Y)))}function $(M){return-2.076*Math.sqrt(M)/60}function S(M,_,Y,H,Q,X,G){var W=se(M,Y,H),T=V(W,_,Q);return Z(T,X,G)}te.getTimes=function(M,_,Y,H){H=H||0;var Q=u*-Y,X=u*_,G=$(H),W=y(M),T=B(W,Q),A=V(0,Q,T),C=F(A),b=P(C),J=z(b,0),d=Z(A,C,b),N,k,oe,ne,me,_e,ge={solarNoon:g(d),nadir:g(d-.5)};for(N=0,k=O.length;N<k;N+=1)oe=O[N],ne=(oe[0]+G)*u,me=S(ne,Q,X,J,T,C,b),_e=d-(me-d),ge[oe[1]]=g(_e),ge[oe[2]]=g(me);return ge};function ae(M){var _=u*(218.316+13.176396*M),Y=u*(134.963+13.064993*M),H=u*(93.272+13.22935*M),Q=_+u*6.289*r(Y),X=u*5.128*r(H),G=385001-20905*o(Y);return{ra:x(Q,X),dec:z(Q,X),dist:G}}te.getMoonPosition=function(M,_,Y){var H=u*-Y,Q=u*_,X=y(M),G=ae(X),W=j(X,H)-G.ra,T=R(W,Q,G.dec),A=s(r(W),i(Q)*o(G.dec)-r(G.dec)*o(W));return T=T+U(T),{azimuth:E(W,Q,G.dec),altitude:T,distance:G.dist,parallacticAngle:A}},te.getMoonIllumination=function(M){var _=y(M||new Date),Y=ee(_),H=ae(_),Q=149598e3,X=f(r(Y.dec)*r(H.dec)+o(Y.dec)*o(H.dec)*o(Y.ra-H.ra)),G=s(Q*r(X),H.dist-Q*o(X)),W=s(o(Y.dec)*r(Y.ra-H.ra),r(Y.dec)*o(H.dec)-o(Y.dec)*r(H.dec)*o(Y.ra-H.ra));return{fraction:(1+o(G))/2,phase:.5+.5*G*(W<0?-1:1)/Math.PI,angle:W}};function D(M,_){return new Date(M.valueOf()+_*h/24)}te.getMoonTimes=function(M,_,Y,H){var Q=new Date(M);H?Q.setUTCHours(0,0,0,0):Q.setHours(0,0,0,0);for(var X=.133*u,G=te.getMoonPosition(Q,_,Y).altitude-X,W,T,A,C,b,J,d,N,k,oe,ne,me,_e,ge=1;ge<=24&&(W=te.getMoonPosition(D(Q,ge),_,Y).altitude-X,T=te.getMoonPosition(D(Q,ge+1),_,Y).altitude-X,b=(G+T)/2-W,J=(T-G)/2,d=-J/(2*b),N=(b*d+J)*d+W,k=J*J-4*b*W,oe=0,k>=0&&(_e=Math.sqrt(k)/(Math.abs(b)*2),ne=d-_e,me=d+_e,Math.abs(ne)<=1&&oe++,Math.abs(me)<=1&&oe++,ne<-1&&(ne=me)),oe===1?G<0?A=ge+ne:C=ge+ne:oe===2&&(A=ge+(N<0?me:ne),C=ge+(N<0?ne:me)),!(A&&C));ge+=2)G=T;var qe={};return A&&(qe.rise=D(Q,A)),C&&(qe.set=D(Q,C)),!A&&!C&&(qe[N>0?"alwaysUp":"alwaysDown"]=!0),qe},e.exports=te})()})(Qr);var Ju=Qr.exports;const Ht=Xu(Ju);new TextEncoder;function sr(e,t,n){const r=e.slice();return r[57]=t[n],r}function lr(e,t,n){const r=e.slice();return r[60]=t[n],r}function fr(e,t,n){const r=e.slice();return r[63]=t[n],r}function cr(e,t,n){const r=e.slice();return r[66]=t[n],r}function hr(e){let t,n=e[66]+"",r,o;return{c(){t=xe("option"),r=Oe(n),this.h()},l(i){t=Ce(i,"OPTION",{});var a=ie(t);r=Ie(a,n),a.forEach(I),this.h()},h(){t.__value=o=e[66],Yt(t,t.__value)},m(i,a){Me(i,t,a),q(t,r)},p(i,a){a[0]&134217728&&n!==(n=i[66]+"")&&$e(r,n),a[0]&134217728&&o!==(o=i[66])&&(t.__value=o,Yt(t,t.__value))},d(i){i&&I(t)}}}function mr(e){let t,n,r,o,i,a,s,f=e[23](e[29][0])+"",u,h,l,c,w=e[23](e[29][1])+"",g,y,p;return{c(){t=fe("g"),n=fe("rect"),s=fe("text"),u=Oe(f),c=fe("text"),g=Oe(w),this.h()},l(x){t=ce(x,"g",{class:!0});var z=ie(t);n=ce(z,"rect",{x:!0,y:!0,width:!0,height:!0,class:!0}),ie(n).forEach(I),s=ce(z,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var E=ie(s);u=Ie(E,f),E.forEach(I),c=ce(z,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var R=ie(c);g=Ie(R,w),R.forEach(I),z.forEach(I),this.h()},h(){m(n,"x",r=e[10](e[29][0])),m(n,"y",o=e[11](0)),m(n,"width",i=e[10](e[29][1])-e[10](e[29][0])),m(n,"height",a=e[11](1)-e[11](0)),m(n,"class","svelte-xi1283"),m(s,"x",h=e[10](e[29][0])),m(s,"y",l=e[11](0)),m(s,"dy",-2),m(s,"text-anchor","end"),m(s,"class","svelte-xi1283"),m(c,"x",y=e[10](e[29][1])),m(c,"y",p=e[11](0)),m(c,"dy",-2),m(c,"text-anchor","start"),m(c,"class","svelte-xi1283"),m(t,"class","selection svelte-xi1283")},m(x,z){Me(x,t,z),q(t,n),q(t,s),q(s,u),q(t,c),q(c,g)},p(x,z){z[0]&536871936&&r!==(r=x[10](x[29][0]))&&m(n,"x",r),z[0]&2048&&o!==(o=x[11](0))&&m(n,"y",o),z[0]&536871936&&i!==(i=x[10](x[29][1])-x[10](x[29][0]))&&m(n,"width",i),z[0]&2048&&a!==(a=x[11](1)-x[11](0))&&m(n,"height",a),z[0]&545259520&&f!==(f=x[23](x[29][0])+"")&&$e(u,f),z[0]&536871936&&h!==(h=x[10](x[29][0]))&&m(s,"x",h),z[0]&2048&&l!==(l=x[11](0))&&m(s,"y",l),z[0]&545259520&&w!==(w=x[23](x[29][1])+"")&&$e(g,w),z[0]&536871936&&y!==(y=x[10](x[29][1]))&&m(c,"x",y),z[0]&2048&&p!==(p=x[11](0))&&m(c,"y",p)},d(x){x&&I(t)}}}function gr(e){let t,n=e[63].day+"",r,o,i,a,s;return{c(){t=fe("text"),r=Oe(n),this.h()},l(f){t=ce(f,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var u=ie(t);r=Ie(u,n),u.forEach(I),this.h()},h(){m(t,"x",o=e[10](e[63].h)),m(t,"y",i=e[11](1)),m(t,"dy","1em"),m(t,"text-anchor","start"),m(t,"class","svelte-xi1283")},m(f,u){Me(f,t,u),q(t,r),s=!0},p(f,u){e=f,(!s||u[0]&67125248)&&n!==(n=e[63].day+"")&&$e(r,n),(!s||u[0]&67126272&&o!==(o=e[10](e[63].h)))&&m(t,"x",o),(!s||u[0]&2048&&i!==(i=e[11](1)))&&m(t,"y",i)},i(f){s||(a&&a.end(1),s=!0)},o(f){f&&(a=yn(t,e[31],{duration:e[22]})),s=!1},d(f){f&&I(t),f&&a&&a.end()}}}function dr(e,t){let n,r,o,i,a,s,f,u,h,l=t[63].day&&gr(t);return{key:e,first:null,c(){n=fe("line"),l&&l.c(),u=Rt(),this.h()},l(c){n=ce(c,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),ie(n).forEach(I),l&&l.l(c),u=Rt(),this.h()},h(){m(n,"class",r=ot(`${t[63].day?"midnight":""}`)+" svelte-xi1283"),m(n,"x1",o=t[10](t[63].h)),m(n,"x2",i=t[10](t[63].h)),m(n,"y1",a=t[11](0)),m(n,"y2",s=t[11](1)),this.first=n},m(c,w){Me(c,n,w),l&&l.m(c,w),Me(c,u,w),h=!0},p(c,w){t=c,(!h||w[0]&67125248&&r!==(r=ot(`${t[63].day?"midnight":""}`)+" svelte-xi1283"))&&m(n,"class",r),(!h||w[0]&67126272&&o!==(o=t[10](t[63].h)))&&m(n,"x1",o),(!h||w[0]&67126272&&i!==(i=t[10](t[63].h)))&&m(n,"x2",i),(!h||w[0]&2048&&a!==(a=t[11](0)))&&m(n,"y1",a),(!h||w[0]&2048&&s!==(s=t[11](1)))&&m(n,"y2",s),t[63].day?l?(l.p(t,w),w[0]&67125248&&Ne(l,1)):(l=gr(t),l.c(),Ne(l,1),l.m(u.parentNode,u)):l&&(Tt(),We(l,1,1,()=>{l=null}),xt())},i(c){h||(f&&f.end(1),Ne(l),h=!0)},o(c){c&&(f=yn(n,t[31],{duration:t[22]})),We(l),h=!1},d(c){c&&(I(n),I(u)),c&&f&&f.end(),l&&l.d(c)}}}function yr(e,t){let n,r,o,i,a,s,f;return{key:e,first:null,c(){n=fe("rect"),this.h()},l(u){n=ce(u,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0,class:!0}),ie(n).forEach(I),this.h()},h(){m(n,"x",r=t[10](t[60][0])),m(n,"y",o=t[11](0)),m(n,"width",i=t[10](t[60][1])-t[10](t[60][0])),m(n,"height",a=t[11](1)-t[11](0)),m(n,"fill","#f00"),m(n,"fill-opacity","0.1"),m(n,"class","svelte-xi1283"),this.first=n},m(u,h){Me(u,n,h),f=!0},p(u,h){t=u,(!f||h[0]&33571840&&r!==(r=t[10](t[60][0])))&&m(n,"x",r),(!f||h[0]&2048&&o!==(o=t[11](0)))&&m(n,"y",o),(!f||h[0]&33571840&&i!==(i=t[10](t[60][1])-t[10](t[60][0])))&&m(n,"width",i),(!f||h[0]&2048&&a!==(a=t[11](1)-t[11](0)))&&m(n,"height",a)},i(u){f||(s&&s.end(1),f=!0)},o(u){u&&(s=yn(n,t[31],{duration:t[22]})),f=!1},d(u){u&&I(n),u&&s&&s.end()}}}function pr(e){let t,n=[],r=new Map,o,i=[],a=new Map,s,f,u,h=Pe(e[26][e[14].indexOf(e[57])]);const l=g=>g[63].h;for(let g=0;g<h.length;g+=1){let y=fr(e,h,g),p=l(y);r.set(p,n[g]=dr(p,y))}let c=Pe(e[25][e[14].indexOf(e[57])]);const w=g=>g[60][0];for(let g=0;g<c.length;g+=1){let y=lr(e,c,g),p=w(y);a.set(p,i[g]=yr(p,y))}return{c(){t=fe("g");for(let g=0;g<n.length;g+=1)n[g].c();o=Rt();for(let g=0;g<i.length;g+=1)i[g].c();this.h()},l(g){t=ce(g,"g",{class:!0,style:!0});var y=ie(t);for(let p=0;p<n.length;p+=1)n[p].l(y);o=Rt();for(let p=0;p<i.length;p+=1)i[p].l(y);y.forEach(I),this.h()},h(){m(t,"class",s=ot(`ticks local ${e[57].dst?"dst":""}`)+" svelte-xi1283"),m(t,"style",f=`transform: translate(${e[10](0)-e[10](e[57].gmt_offset)}px)`)},m(g,y){Me(g,t,y);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(t,null);q(t,o);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(t,null);u=!0},p(g,y){y[0]&71322624&&(h=Pe(g[26][g[14].indexOf(g[57])]),Tt(),n=zn(n,y,l,1,g,h,r,t,En,dr,o,fr),xt()),y[0]&37768192&&(c=Pe(g[25][g[14].indexOf(g[57])]),Tt(),i=zn(i,y,w,1,g,c,a,t,En,yr,null,lr),xt()),(!u||y[0]&16384&&s!==(s=ot(`ticks local ${g[57].dst?"dst":""}`)+" svelte-xi1283"))&&m(t,"class",s),(!u||y[0]&17408&&f!==(f=`transform: translate(${g[10](0)-g[10](g[57].gmt_offset)}px)`))&&m(t,"style",f)},i(g){if(!u){for(let y=0;y<h.length;y+=1)Ne(n[y]);for(let y=0;y<c.length;y+=1)Ne(i[y]);u=!0}},o(g){for(let y=0;y<n.length;y+=1)We(n[y]);for(let y=0;y<i.length;y+=1)We(i[y]);u=!1},d(g){g&&I(t);for(let y=0;y<n.length;y+=1)n[y].d();for(let y=0;y<i.length;y+=1)i[y].d()}}}function _r(e){let t,n,r,o,i,a=e[23](e[28]??0)+"",s,f,u;return{c(){t=fe("g"),n=fe("rect"),i=fe("text"),s=Oe(a),this.h()},l(h){t=ce(h,"g",{class:!0});var l=ie(t);n=ce(l,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),ie(n).forEach(I),i=ce(l,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var c=ie(i);s=Ie(c,a),c.forEach(I),l.forEach(I),this.h()},h(){m(n,"class","backing svelte-xi1283"),m(n,"x",r=e[10](e[28])),m(n,"y",o=e[11](0)-15),m(n,"width","100"),m(n,"height",15),m(i,"x",f=e[10](e[28]??0)),m(i,"y",u=e[11](0)),m(i,"dy",-2),m(i,"text-anchor","start"),m(i,"class","svelte-xi1283"),m(t,"class","hover svelte-xi1283")},m(h,l){Me(h,t,l),q(t,n),q(t,i),q(i,s)},p(h,l){l[0]&268436480&&r!==(r=h[10](h[28]))&&m(n,"x",r),l[0]&2048&&o!==(o=h[11](0)-15)&&m(n,"y",o),l[0]&276824064&&a!==(a=h[23](h[28]??0)+"")&&$e(s,a),l[0]&268436480&&f!==(f=h[10](h[28]??0))&&m(i,"x",f),l[0]&2048&&u!==(u=h[11](0))&&m(i,"y",u)},d(h){h&&I(t)}}}function Vu(e){let t,n,r,o,i,a,s,f,u,h,l,c,w,g,y,p,x,z,E,R,j,U,F,P,ee=e[24](e[13])+"",te,O,L,B=e[17](e[13])+"",V,Z,se,$,S,ae,D,M,_,Y,H,Q,X,G=Pe(e[27]),W=[];for(let d=0;d<G.length;d+=1)W[d]=hr(cr(e,G,d));let T=e[29]&&mr(e),A=Pe(e[14]),C=[];for(let d=0;d<A.length;d+=1)C[d]=pr(sr(e,A,d));const b=d=>We(C[d],1,1,()=>{C[d]=null});let J=e[28]&&_r(e);return{c(){t=xe("div"),n=xe("div"),r=xe("input"),o=Re(),i=xe("select");for(let d=0;d<W.length;d+=1)W[d].c();a=Re(),s=fe("svg"),f=fe("defs"),u=fe("linearGradient"),h=fe("stop"),l=fe("stop"),c=fe("g"),T&&T.c(),w=fe("g"),g=fe("g"),y=fe("path"),x=fe("path");for(let d=0;d<C.length;d+=1)C[d].c();R=fe("g"),j=fe("line"),P=fe("text"),te=Oe(ee),L=fe("text"),V=Oe(B),J&&J.c(),S=fe("rect"),this.h()},l(d){t=Ce(d,"DIV",{class:!0});var N=ie(t);n=Ce(N,"DIV",{class:!0});var k=ie(n);r=Ce(k,"INPUT",{type:!0,class:!0,placeholder:!0}),o=Le(k),i=Ce(k,"SELECT",{class:!0});var oe=ie(i);for(let ve=0;ve<W.length;ve+=1)W[ve].l(oe);oe.forEach(I),k.forEach(I),a=Le(N),s=ce(N,"svg",{class:!0,height:!0});var ne=ie(s);f=ce(ne,"defs",{});var me=ie(f);u=ce(me,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var _e=ie(u);h=ce(_e,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ie(h).forEach(I),l=ce(_e,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),ie(l).forEach(I),_e.forEach(I),me.forEach(I),c=ce(ne,"g",{class:!0,style:!0});var ge=ie(c);T&&T.l(ge),w=ce(ge,"g",{class:!0,style:!0});var qe=ie(w);g=ce(qe,"g",{class:!0});var Fe=ie(g);y=ce(Fe,"path",{class:!0,d:!0}),ie(y).forEach(I),x=ce(Fe,"path",{class:!0,d:!0}),ie(x).forEach(I),Fe.forEach(I),qe.forEach(I);for(let ve=0;ve<C.length;ve+=1)C[ve].l(ge);R=ce(ge,"g",{class:!0,style:!0});var He=ie(R);j=ce(He,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),ie(j).forEach(I),P=ce(He,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var Qe=ie(P);te=Ie(Qe,ee),Qe.forEach(I),L=ce(He,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var Nt=ie(L);V=Ie(Nt,B),Nt.forEach(I),He.forEach(I),J&&J.l(ge),ge.forEach(I),S=ce(ne,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,role:!0,tabindex:!0}),ie(S).forEach(I),ne.forEach(I),N.forEach(I),this.h()},h(){m(r,"type","search"),m(r,"class","search svelte-xi1283"),m(r,"placeholder","Search"),m(i,"class","timezone svelte-xi1283"),e[0]===void 0&&ai(()=>e[46].call(i)),m(n,"class","svelte-xi1283"),m(h,"offset","0%"),m(h,"stop-color","rgb(255, 204, 0)"),m(h,"stop-opacity","0.3"),m(l,"offset","100%"),m(l,"stop-color","rgb(255, 204, 0)"),m(l,"stop-opacity","0.05"),m(u,"id","sun-gradient"),m(u,"x1","0%"),m(u,"y1","0%"),m(u,"x2","0%"),m(u,"y2","100%"),m(y,"class","area svelte-xi1283"),m(y,"d",p=e[16](e[15])),m(x,"class","outline svelte-xi1283"),m(x,"d",z=e[16].lineY1()(e[15])),m(g,"class","sun svelte-xi1283"),m(w,"class","localTime svelte-xi1283"),m(w,"style",E=`transform: translate(${e[10](0)-e[10](e[18])}px)`),m(j,"x1",0),m(j,"x2",0),m(j,"y1",U=e[11](0)),m(j,"y2",F=e[11](1)),m(j,"class","svelte-xi1283"),m(P,"x",0),m(P,"y",O=e[11](0)),m(P,"dy",-2),m(P,"text-anchor","start"),m(P,"class","svelte-xi1283"),m(L,"x",0),m(L,"y",Z=e[11](0)),m(L,"dx","-0.3em"),m(L,"dy",-2),m(L,"text-anchor","end"),m(L,"class","svelte-xi1283"),m(R,"class","now svelte-xi1283"),m(R,"style",se=e[21](e[13])),m(c,"class",ot("timeline")+" svelte-xi1283"),m(c,"style",$=`transform: translate(${e[10](e[3])-e[10](e[19][0])}px)`),m(S,"class","hitarea svelte-xi1283"),m(S,"x",ae=e[10].range()[0]),m(S,"y",D=e[11].range()[0]),m(S,"width",M=Math.abs(e[10].range()[1]-e[10].range()[0])),m(S,"height",_=Math.abs(e[11].range()[1]-e[11].range()[0])),m(S,"fill","transparent"),m(S,"stroke","none"),m(S,"role","application"),m(S,"tabindex","-1"),m(s,"class",Y=ot(`${e[20]?"animate":""}`)+" svelte-xi1283"),m(s,"height","3em"),m(t,"class","timezone svelte-xi1283")},m(d,N){Me(d,t,N),q(t,n),q(n,r),Yt(r,e[9]),q(n,o),q(n,i);for(let k=0;k<W.length;k+=1)W[k]&&W[k].m(i,null);Nn(i,e[0],!0),q(t,a),q(t,s),q(s,f),q(f,u),q(u,h),q(u,l),q(s,c),T&&T.m(c,null),q(c,w),q(w,g),q(g,y),q(g,x);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(c,null);q(c,R),q(R,j),q(R,P),q(P,te),q(R,L),q(L,V),J&&J.m(c,null),q(s,S),e[48](s),H=!0,Q||(X=[De(r,"input",e[45]),De(r,"keydown",e[30]),De(i,"change",e[46]),De(S,"mousemove",e[32]),De(S,"mouseleave",e[47]),De(S,"mousedown",e[33]),De(S,"mouseup",e[34]),De(S,"wheel",e[35])],Q=!0)},p(d,N){if(N[0]&512&&r.value!==d[9]&&Yt(r,d[9]),N[0]&134217728){G=Pe(d[27]);let k;for(k=0;k<G.length;k+=1){const oe=cr(d,G,k);W[k]?W[k].p(oe,N):(W[k]=hr(oe),W[k].c(),W[k].m(i,null))}for(;k<W.length;k+=1)W[k].d(1);W.length=G.length}if(N[0]&134217729&&Nn(i,d[0]),d[29]?T?T.p(d,N):(T=mr(d),T.c(),T.m(c,w)):T&&(T.d(1),T=null),(!H||N[0]&98304&&p!==(p=d[16](d[15])))&&m(y,"d",p),(!H||N[0]&98304&&z!==(z=d[16].lineY1()(d[15])))&&m(x,"d",z),(!H||N[0]&263168&&E!==(E=`transform: translate(${d[10](0)-d[10](d[18])}px)`))&&m(w,"style",E),N[0]&104877056){A=Pe(d[14]);let k;for(k=0;k<A.length;k+=1){const oe=sr(d,A,k);C[k]?(C[k].p(oe,N),Ne(C[k],1)):(C[k]=pr(oe),C[k].c(),Ne(C[k],1),C[k].m(c,R))}for(Tt(),k=A.length;k<C.length;k+=1)b(k);xt()}(!H||N[0]&2048&&U!==(U=d[11](0)))&&m(j,"y1",U),(!H||N[0]&2048&&F!==(F=d[11](1)))&&m(j,"y2",F),(!H||N[0]&16785408)&&ee!==(ee=d[24](d[13])+"")&&$e(te,ee),(!H||N[0]&2048&&O!==(O=d[11](0)))&&m(P,"y",O),(!H||N[0]&139264)&&B!==(B=d[17](d[13])+"")&&$e(V,B),(!H||N[0]&2048&&Z!==(Z=d[11](0)))&&m(L,"y",Z),(!H||N[0]&2105344&&se!==(se=d[21](d[13])))&&m(R,"style",se),d[28]?J?J.p(d,N):(J=_r(d),J.c(),J.m(c,null)):J&&(J.d(1),J=null),(!H||N[0]&525320&&$!==($=`transform: translate(${d[10](d[3])-d[10](d[19][0])}px)`))&&m(c,"style",$),(!H||N[0]&1024&&ae!==(ae=d[10].range()[0]))&&m(S,"x",ae),(!H||N[0]&2048&&D!==(D=d[11].range()[0]))&&m(S,"y",D),(!H||N[0]&1024&&M!==(M=Math.abs(d[10].range()[1]-d[10].range()[0])))&&m(S,"width",M),(!H||N[0]&2048&&_!==(_=Math.abs(d[11].range()[1]-d[11].range()[0])))&&m(S,"height",_),(!H||N[0]&1048576&&Y!==(Y=ot(`${d[20]?"animate":""}`)+" svelte-xi1283"))&&m(s,"class",Y)},i(d){if(!H){for(let N=0;N<A.length;N+=1)Ne(C[N]);H=!0}},o(d){C=C.filter(Boolean);for(let N=0;N<C.length;N+=1)We(C[N]);H=!1},d(d){d&&I(t),un(W,d),T&&T.d(),un(C,d),J&&J.d(),e[48](null),Q=!1,dn(X)}}}function Gu(e,t,n){let r,o,i,a,s,f,u,h,l,c,w,g=et,y=()=>(g(),g=tt(C,v=>n(41,w=v)),C),p,x=et,z=()=>(x(),x=tt(Q,v=>n(19,p=v)),Q),E,R=et,j=()=>(R(),R=tt(He,v=>n(28,E=v)),He),U,F=et,P=()=>(F(),F=tt(Fe,v=>n(29,U=v)),Fe),ee,te=et,O=()=>(te(),te=tt(oe,v=>n(42,ee=v)),oe),L,B=et,V=()=>(B(),B=tt(ae,v=>n(43,L=v)),ae),Z,se=et,$=()=>(se(),se=tt(S,v=>n(44,Z=v)),S);e.$$.on_destroy.push(()=>g()),e.$$.on_destroy.push(()=>x()),e.$$.on_destroy.push(()=>R()),e.$$.on_destroy.push(()=>F()),e.$$.on_destroy.push(()=>te()),e.$$.on_destroy.push(()=>B()),e.$$.on_destroy.push(()=>se());let{timezoneNames:S}=t;$();let{timezones:ae}=t;V();let{value:D=""}=t,M="",{dropdownValue:_=D}=t;function Y(v){r.includes(_)||n(0,_=r[0])}let{anchorTime:H=Date.now()}=t,{timeRange:Q=Ke([H,H+3*1e3*60*60*36])}=t;z(),new Date().getTimezoneOffset()*60*1e3;let X=qu(),G=gn().domain([0,1]),W,T;function A(){if(W){Ae(C,w=!1,w);let v=12;X.range([0,W.clientWidth]),G.range([v,W.clientHeight-v])}n(10,X),n(3,H),n(40,o),n(19,p),n(18,i),n(13,d),n(36,D),n(44,Z),n(0,_),n(11,G),n(39,_e),n(15,me),n(11,G),n(38,ne),n(19,p),n(36,D),n(42,ee),n(0,_),n(44,Z),n(14,k),n(17,u),n(43,L),clearTimeout(T),T=setTimeout(()=>{Ae(C,w=!0,w)},100)}let{animate:C=Ke(!0)}=t;y();let b=!1,J=!1;vr(()=>(window.addEventListener("resize",A),A(),requestAnimationFrame(()=>{n(37,b=!0),n(20,J=w)}),()=>{window.removeEventListener("resize",A)}));let d=Date.now();function N(v,K){var Te,ye;let re=v instanceof Date?v.getTime():v;return((ye=(Te=L[K])==null?void 0:Te.find(le=>le.time_start<=re))==null?void 0:ye.gmt_offset)??0}let k=[];setInterval(()=>{n(13,d=Date.now())},1e3);let{cities:oe=nt([])}=t;O();let ne,me=[],_e=gn(),ge=Bu();function qe(v,{duration:K}){return{duration:K}}let{selection:Fe=Ke(null)}=t;P();let{hover:He=Ke(null)}=t;j();const Qe=1e3*60*15;function Nt(v){var Se;let K=v.clientX-((Se=v.target)==null?void 0:Se.getBoundingClientRect().left),re=X.invert(K+X(p[0])-X(H));re instanceof Date&&(re=re.getTime()),re=Math.floor(re/Qe)*Qe,Ae(He,E=re,E),$r()}let ve;function Kr(){E&&(ve=E,Ae(Fe,U=[ve,ve+Qe],U))}function $r(){ve&&E&&(E<ve?Ae(Fe,U=[E,ve+Qe],U):Ae(Fe,U=[ve,E+Qe],U))}function Dn(){ve=void 0}let Un,ei=v=>{var de;let K=v.clientX-((de=v.target)==null?void 0:de.getBoundingClientRect().left),re=X.invert(K+X(p[0])-X(H));re instanceof Date&&(re=re.getTime());let Se=v.deltaY,Te=1.1;Se>0&&(Te=1/Te);let ye=1e3*60*60*24,le=1e3*60*60*24*14,he=p[1]-p[0];he*Te<ye?Te=ye/he:he*Te>le&&(Te=le/he);let Ee=p.map(Ze=>re+(Ze-re)*Te);Ae(Q,p=Ee,p),Ae(C,w=!1,w),clearTimeout(Un),Un=setTimeout(()=>{Ae(C,w=!0,w)},100)};function ti(){M=this.value,n(9,M)}function ni(){_=li(this),n(0,_),n(27,r),n(44,Z),n(9,M)}const ri=()=>{Ae(He,E=null,E),Dn()};function ii(v){Tr[v?"unshift":"push"](()=>{W=v,n(12,W)})}return e.$$set=v=>{"timezoneNames"in v&&$(n(1,S=v.timezoneNames)),"timezones"in v&&V(n(2,ae=v.timezones)),"value"in v&&n(36,D=v.value),"dropdownValue"in v&&n(0,_=v.dropdownValue),"anchorTime"in v&&n(3,H=v.anchorTime),"timeRange"in v&&z(n(4,Q=v.timeRange)),"animate"in v&&y(n(5,C=v.animate)),"cities"in v&&O(n(6,oe=v.cities)),"selection"in v&&P(n(7,Fe=v.selection)),"hover"in v&&j(n(8,He=v.hover))},e.$$.update=()=>{if(e.$$.dirty[0]&1|e.$$.dirty[1]&8192&&n(36,D=Z[_]),e.$$.dirty[0]&512|e.$$.dirty[1]&8192&&n(27,r=Object.keys(Z).filter(v=>M.trim()==""?!0:v.toLowerCase().includes(M.trim().toLowerCase()))),e.$$.dirty[0]&8192|e.$$.dirty[1]&32&&n(18,i=N(d,D)),e.$$.dirty[0]&786432&&n(40,o=p.map(v=>v+i)),e.$$.dirty[0]&1032|e.$$.dirty[1]&512){let v=[H,o[1]+H-o[0]];X.domain(v),n(10,X),n(3,H),n(40,o),n(19,p),n(18,i),n(13,d),n(36,D),n(44,Z),n(0,_)}if(e.$$.dirty[1]&1088&&b&&n(20,J=w),e.$$.dirty[0]&540672|e.$$.dirty[1]&4128){n(14,k=[]);let v=L[D];if(v){v=v.filter(re=>re.time_start<p[1]).sort((re,Se)=>Se.time_start-re.time_start);let K=0;for(;K<v.length&&v[K].time_start>p[0];)k.push(v[K]),K++;K<v.length&&k.push(v[K])}n(14,k=k.sort((K,re)=>K.time_start-re.time_start))}if(e.$$.dirty[1]&32&&n(17,u=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:D}).format),e.$$.dirty[0]&671744&&n(26,a=k.map((v,K,re)=>{let ye=864e5/24,le=Math.max(p[0],v.time_start);le+=v.gmt_offset,le=Math.floor(le/ye)*ye;let he=p[1];K<re.length-1&&(he=Math.min(he,re[K+1].time_start-1)),he+=v.gmt_offset,he=Math.floor(he/ye)*ye;let Ee=[];if(K==0){let de=Math.floor(le/864e5)*864e5;de<le&&Ee.push({h:de,day:u(de-v.gmt_offset)})}for(let de=le;de<he+ye;de+=ye){let Ze={h:de};de%864e5==0&&(Ze.day=u(de-v.gmt_offset)),Ee.push(Ze)}return Ee})),e.$$.dirty[0]&540672&&n(25,s=k.map((v,K,re)=>{let ye=[8,19];ye=ye.map(de=>de*36e5);let le=Math.max(p[0],v.time_start);le+=v.gmt_offset,le=Math.floor(le/864e5)*864e5,K>0&&(le=re[K].time_start+v.gmt_offset);let he=p[1];he+=v.gmt_offset,he=Math.ceil(he/864e5)*864e5,K<re.length-1&&(he=re[K+1].time_start+v.gmt_offset);let Ee=[];for(;le<=he;){let de=Math.floor(le/864e5)*864e5,Ze=de+ye[0],Be=de+ye[1];Ze>le&&Ee.push([Math.max(le,de),Math.min(he,Ze)]),Be<he&&Ee.push([Math.max(le,Be),Math.min(he,de+864e5)]),le=de+864e5}return Ee})),e.$$.dirty[1]&32&&n(24,f=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:D}).format),e.$$.dirty[1]&32&&n(23,h=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZone:D}).format),e.$$.dirty[0]&1|e.$$.dirty[1]&2048){let v=ee.find(K=>K.capital=="primary"&&K.country.toLowerCase()==(_==null?void 0:_.toLowerCase()));if(!v){let K=_==null?void 0:_.split("/")[1];K=K==null?void 0:K.replace(/_/g," "),v=ee.find(re=>re.city_ascii.toLowerCase()==(K==null?void 0:K.toLowerCase()))}v?n(38,ne=[v.lat,v.lng]):n(38,ne=void 0)}if(e.$$.dirty[0]&557056|e.$$.dirty[1]&160&&(n(15,me=[]),ne)){let K=p[0]+N(p[0],D);K=Math.floor(K/864e5)*864e5,K-=864e5;let re=p[1]+N(p[1],D);re=Math.ceil(re/864e5)*864e5,re+=864e5;let Se=K;for(;Se<=re;){let Te=Ht.getTimes(Se,ne[0],ne[1]),ye=Te.sunrise.getTime(),le=Te.sunset.getTime(),he=Te.solarNoon.getTime();me.push([ye-1,null]);const Ee=15;for(let Be=ye;Be<le;Be+=1e3*60*Ee){let oi=Ht.getPosition(Be,ne[0],ne[1]);if(me.push([Be,oi.altitude]),Be<=he&&he<=Be+1e3*60*Ee){let ui=Ht.getPosition(new Date(he),ne[0],ne[1]);me.push([he,ui.altitude])}}let de=le,Ze=Ht.getPosition(de,ne[0],ne[1]);me.push([de,Ze.altitude]),me.push([le+1,null]),Se+=864e5}}e.$$.dirty[0]&34816|e.$$.dirty[1]&256&&(_e.domain([ki(me,v=>v[1]),Math.PI/2]),_e.range([G(1),G(0)]),n(39,_e),n(15,me),n(11,G),n(38,ne),n(19,p),n(36,D),n(42,ee),n(0,_),n(44,Z),n(14,k),n(17,u),n(43,L)),e.$$.dirty[0]&70656|e.$$.dirty[1]&288&&(ge.x(v=>X(v[0]+N(v[0],D))).y0((W==null?void 0:W.clientHeight)||10).y1(v=>_e(v[1])).defined(v=>v[1]!==null),n(16,ge),n(10,X),n(36,D),n(12,W),n(39,_e),n(3,H),n(40,o),n(44,Z),n(0,_),n(15,me),n(11,G),n(19,p),n(18,i),n(38,ne),n(13,d),n(42,ee),n(14,k),n(17,u),n(43,L)),e.$$.dirty[1]&1024&&n(22,l=w?300:0),e.$$.dirty[0]&1024&&n(21,c=v=>`transform: translate(${X(v)}px)`)},[_,S,ae,H,Q,C,oe,Fe,He,M,X,G,W,d,k,me,ge,u,i,p,J,c,l,h,f,s,a,r,E,U,Y,qe,Nt,Kr,Dn,ei,D,b,ne,_e,o,w,ee,L,Z,ti,ni,ri,ii]}class Qu extends xr{constructor(t){super(),Cr(this,t,Gu,Vu,Mr,{timezoneNames:1,timezones:2,value:36,dropdownValue:0,anchorTime:3,timeRange:4,animate:5,cities:6,selection:7,hover:8},null,[-1,-1,-1])}}function br(e,t,n){const r=e.slice();return r[25]=t[n],r[26]=t,r[27]=n,r}function wr(e){let t,n,r;function o(a){e[20](a,e[25],e[26],e[27])}let i={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[7],timeRange:e[8],hover:e[11],selection:e[12],animate:e[13]};return e[25]!==void 0&&(i.value=e[25]),t=new Qu({props:i}),Tr.push(()=>ci(t,"value",o)),{c(){hi(t.$$.fragment)},l(a){mi(t.$$.fragment,a)},m(a,s){gi(t,a,s),r=!0},p(a,s){e=a;const f={};s&2&&(f.timezoneNames=e[1]),s&1&&(f.timezones=e[0]),s&4&&(f.cities=e[2]),!n&&s&8&&(n=!0,f.value=e[25],si(()=>n=!1)),t.$set(f)},i(a){r||(Ne(t.$$.fragment,a),r=!0)},o(a){We(t.$$.fragment,a),r=!1},d(a){di(t,a)}}}function Ku(e){let t,n,r,o="<<",i,a,s="<",f,u=new Date(e[5][0]).toLocaleString()+"",h,l,c,w=">",g,y,p=">>",x,z,E,R,j="Add Timezone",U,F,P,ee,te,O,L,B=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,V,Z,se,$=Pe(e[3]),S=[];for(let D=0;D<$.length;D+=1)S[D]=wr(br(e,$,D));const ae=D=>We(S[D],1,1,()=>{S[D]=null});return{c(){t=Oe(`

A simple way to coordinate cross-timezone events.

`),n=xe("p"),r=xe("button"),r.textContent=o,i=Re(),a=xe("button"),a.textContent=s,f=Re(),h=Oe(u),l=Re(),c=xe("button"),c.textContent=w,g=Re(),y=xe("button"),y.textContent=p,x=Re(),z=xe("p");for(let D=0;D<S.length;D+=1)S[D].c();E=Re(),R=xe("button"),R.textContent=j,U=Re(),F=xe("p"),P=xe("button"),ee=Oe("Copy Start Times"),O=Re(),L=xe("p"),L.innerHTML=B,this.h()},l(D){fi("svelte-rguy8y",document.head).forEach(I),t=Ie(D,`

A simple way to coordinate cross-timezone events.

`),n=Ce(D,"P",{});var _=ie(n);r=Ce(_,"BUTTON",{"data-svelte-h":!0}),ft(r)!=="svelte-1wh109k"&&(r.textContent=o),i=Le(_),a=Ce(_,"BUTTON",{"data-svelte-h":!0}),ft(a)!=="svelte-8q1f0u"&&(a.textContent=s),f=Le(_),h=Ie(_,u),l=Le(_),c=Ce(_,"BUTTON",{"data-svelte-h":!0}),ft(c)!=="svelte-p2yix0"&&(c.textContent=w),g=Le(_),y=Ce(_,"BUTTON",{"data-svelte-h":!0}),ft(y)!=="svelte-al0ej"&&(y.textContent=p),_.forEach(I),x=Le(D),z=Ce(D,"P",{});var Y=ie(z);for(let X=0;X<S.length;X+=1)S[X].l(Y);E=Le(Y),R=Ce(Y,"BUTTON",{"data-svelte-h":!0}),ft(R)!=="svelte-1jawmqt"&&(R.textContent=j),Y.forEach(I),U=Le(D),F=Ce(D,"P",{});var H=ie(F);P=Ce(H,"BUTTON",{});var Q=ie(P);ee=Ie(Q,"Copy Start Times"),Q.forEach(I),H.forEach(I),O=Le(D),L=Ce(D,"P",{"data-svelte-h":!0}),ft(L)!=="svelte-hqholg"&&(L.innerHTML=B),this.h()},h(){document.title="Cross-Timezone Events",P.disabled=te=!e[4]},m(D,M){Me(D,t,M),Me(D,n,M),q(n,r),q(n,i),q(n,a),q(n,f),q(n,h),q(n,l),q(n,c),q(n,g),q(n,y),Me(D,x,M),Me(D,z,M);for(let _=0;_<S.length;_+=1)S[_]&&S[_].m(z,null);q(z,E),q(z,R),Me(D,U,M),Me(D,F,M),q(F,P),q(P,ee),Me(D,O,M),Me(D,L,M),V=!0,Z||(se=[De(r,"click",e[16]),De(a,"click",e[17]),De(c,"click",e[18]),De(y,"click",e[19]),De(R,"click",e[21]),De(P,"click",e[14])],Z=!0)},p(D,[M]){if((!V||M&32)&&u!==(u=new Date(D[5][0]).toLocaleString()+"")&&$e(h,u),M&14735){$=Pe(D[3]);let _;for(_=0;_<$.length;_+=1){const Y=br(D,$,_);S[_]?(S[_].p(Y,M),Ne(S[_],1)):(S[_]=wr(Y),S[_].c(),Ne(S[_],1),S[_].m(z,E))}for(Tt(),_=$.length;_<S.length;_+=1)ae(_);xt()}(!V||M&16&&te!==(te=!D[4]))&&(P.disabled=te)},i(D){if(!V){for(let M=0;M<$.length;M+=1)Ne(S[M]);V=!0}},o(D){S=S.filter(Boolean);for(let M=0;M<S.length;M+=1)We(S[M]);V=!1},d(D){D&&(I(t),I(n),I(x),I(z),I(U),I(F),I(O),I(L)),un(S,D),Z=!1,dn(se)}}}function $u(e,t,n){let r,o,i;async function a(){const B=await(await fetch(`${Jt}/time_zone.csv`)).text(),V=qn(B);let Z={};for(let se of V){let[$,S,ae,D,M,_]=se;Z[$]||(Z[$]=[]),Z[$].push({zone_name:$,country_code:S,abbreviation:ae,time_start:+D*1e3,gmt_offset:+M*1e3,dst:_==="1"})}for(let se in Z)Z[se].sort(($,S)=>S.time_start-$.time_start);return n(0,l=nt(Z)),Z}async function s(){const B=await(await fetch(`${Jt}/country.csv`)).text(),V=qn(B);let Z={};for(let se of V){let[$,S]=se;Z[$]=S}return n(15,f=nt(Z)),Z}let f=nt({});async function u(){const B=await(await fetch(`${Jt}/worldcities.csv`)).text(),V=io(B);return n(2,h=nt(V)),V}let h=nt([]),l=nt({});vr(()=>{a(),s(),u()});const c=Intl.DateTimeFormat().resolvedOptions().timeZone;let w=[c],g=Date.now(),y=Ke([g,g+3*24*60*60*1e3]);Sn(e,y,L=>n(5,i=L));function p(L){Ae(y,i=i.map(B=>B+L),i)}const x=24*60*60*1e3;let z=Ke(null),E=Ke(null);Sn(e,E,L=>n(4,o=L));let R=Ke(!0);function j(){if(o===null)return;function L(V,Z){return Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",timeZone:Z}).format(V)}let B=w.map(V=>V+": "+L(o[0],V));console.log(B.join(", ")),navigator.clipboard.writeText(B.join(", "))}const U=()=>p(-7*x),F=()=>p(-x),P=()=>p(x),ee=()=>p(7*x);function te(L,B,V,Z){V[Z]=L,n(3,w)}const O=()=>n(3,w=[...w,c]);return e.$$.update=()=>{e.$$.dirty&32769&&n(1,r=yi([l,f],([L,B])=>{let V=Object.entries(B).map(([$,S])=>{var ae;return[S,(ae=Object.values(L).map(D=>D[0]).find(D=>D.country_code==$))==null?void 0:ae.zone_name]}),Z=[...Object.keys(L).map($=>[$,$]),...V];return Object.fromEntries(Z)}))},[l,r,h,w,o,i,c,g,y,p,x,z,E,R,j,f,U,F,P,ee,te,O]}class ra extends xr{constructor(t){super(),Cr(this,t,$u,Ku,Mr,{})}}export{ra as component};
