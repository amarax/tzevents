import{r as Qt,s as Kn,l as Sr,y as et,n as tt,o as $n,d as St,f as er,z as zr}from"../chunks/scheduler.mn11Loag.js";import{t as nt,S as tr,i as nr,e as de,s as Te,y as fe,m as cn,b as qe,c as pe,d as oe,h as ve,g as X,z as le,f as Ze,o as T,j as Me,k as J,A as dt,B as hn,C as ze,l as rt,D as rr,E as Er,F as Fr,G as Pe,n as Ar,a as jt,H as Hr,u as Yr,v as Lr,w as Rr,x as Pr,q as Or}from"../chunks/index.DYGBFZIp.js";import{r as Ee,d as Ir,b as zt}from"../chunks/paths.hbxvke7f.js";function Se(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function mn(e,t){e.d(1),t.delete(e.key)}function gn(e,t,n,r,i,o,u,s,l,a,m,f){let c=e.length,v=o.length,x=c;const M={};for(;x--;)M[e[x].key]=x;const L=[],R=new Map,W=new Map,N=[];for(x=v;x--;){const b=f(i,o,x),A=n(b);let H=u.get(A);H?r&&N.push(()=>H.p(b,t)):(H=a(A,b),H.c()),R.set(A,L[x]=H),A in M&&W.set(A,Math.abs(x-M[A]))}const k=new Set,Z=new Set;function y(b){nt(b,1),b.m(s,m),u.set(b.key,b),m=b.first,v--}for(;c&&v;){const b=L[v-1],A=e[c-1],H=b.key,I=A.key;b===A?(m=b.first,c--,v--):R.has(I)?!u.has(H)||k.has(H)?y(b):Z.has(I)?c--:W.get(H)>W.get(I)?(Z.add(H),y(b)):(k.add(I),c--):(l(A,u),c--)}for(;c--;){const b=e[c];R.has(b.key)||l(b,u)}for(;v;)y(L[v-1]);return Qt(N),L}function gt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(e){let t,n,r;e.length!==2?(t=gt,n=(s,l)=>gt(e(s),l),r=(s,l)=>e(s)-l):(t=e===gt||e===jr?e:Wr,n=e,r=e);function i(s,l,a=0,m=s.length){if(a<m){if(t(l,l)!==0)return m;do{const f=a+m>>>1;n(s[f],l)<0?a=f+1:m=f}while(a<m)}return a}function o(s,l,a=0,m=s.length){if(a<m){if(t(l,l)!==0)return m;do{const f=a+m>>>1;n(s[f],l)<=0?a=f+1:m=f}while(a<m)}return a}function u(s,l,a=0,m=s.length){const f=i(s,l,a,m-1);return f>a&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:u,right:o}}function Wr(){return 0}function qr(e){return e===null?NaN:+e}const Zr=Kt(gt),Br=Zr.right;Kt(qr).center;const Jr=Math.sqrt(50),Vr=Math.sqrt(10),Xr=Math.sqrt(2);function pt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=Jr?10:o>=Vr?5:o>=Xr?2:1;let s,l,a;return i<0?(a=Math.pow(10,-i)/u,s=Math.round(e*a),l=Math.round(t*a),s/a<e&&++s,l/a>t&&--l,a=-a):(a=Math.pow(10,i)*u,s=Math.round(e/a),l=Math.round(t/a),s*a<e&&++s,l*a>t&&--l),l<s&&.5<=n&&n<2?pt(e,t,n*2):[s,l,a]}function Gr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,u]=r?pt(t,e,n):pt(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(u<0)for(let a=0;a<s;++a)l[a]=(o-a)/-u;else for(let a=0;a<s;++a)l[a]=(o-a)*u;else if(u<0)for(let a=0;a<s;++a)l[a]=(i+a)/-u;else for(let a=0;a<s;++a)l[a]=(i+a)*u;return l}function Wt(e,t,n){return t=+t,e=+e,n=+n,pt(e,t,n)[2]}function qt(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Wt(t,e,n):Wt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function $t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ir(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function at(){}var it=.7,yt=1/it,We="\\s*([+-]?\\d+)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kr=/^#([0-9a-f]{3,8})$/,$r=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),ei=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),ti=new RegExp(`^rgba\\(${We},${We},${We},${ot}\\)$`),ni=new RegExp(`^rgba\\(${be},${be},${be},${ot}\\)$`),ri=new RegExp(`^hsl\\(${ot},${be},${be}\\)$`),ii=new RegExp(`^hsla\\(${ot},${be},${be},${ot}\\)$`),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(at,ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pn,formatHex:pn,formatHex8:oi,formatHsl:ui,formatRgb:yn,toString:yn});function pn(){return this.rgb().formatHex()}function oi(){return this.rgb().formatHex8()}function ui(){return or(this).formatHsl()}function yn(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Kr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_n(t):n===3?new ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?lt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?lt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$r.exec(e))?new ge(t[1],t[2],t[3],1):(t=ei.exec(e))?new ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ti.exec(e))?lt(t[1],t[2],t[3],t[4]):(t=ni.exec(e))?lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ri.exec(e))?Mn(t[1],t[2]/100,t[3]/100,1):(t=ii.exec(e))?Mn(t[1],t[2]/100,t[3]/100,t[4]):dn.hasOwnProperty(e)?_n(dn[e]):e==="transparent"?new ge(NaN,NaN,NaN,0):null}function _n(e){return new ge(e>>16&255,e>>8&255,e&255,1)}function lt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ge(e,t,n,r)}function ai(e){return e instanceof at||(e=ut(e)),e?(e=e.rgb(),new ge(e.r,e.g,e.b,e.opacity)):new ge}function Zt(e,t,n,r){return arguments.length===1?ai(e):new ge(e,t,n,r??1)}function ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$t(ge,Zt,ir(at,{brighter(e){return e=e==null?yt:Math.pow(yt,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?it:Math.pow(it,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ge(He(this.r),He(this.g),He(this.b),_t(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatHex8:si,formatRgb:wn,toString:wn}));function xn(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}`}function si(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}${Ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function wn(){const e=_t(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function _t(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ae(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function Mn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function or(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof at||(e=ut(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,s=o-i,l=(o+i)/2;return s?(t===o?u=(n-r)/s+(n<r)*6:n===o?u=(r-t)/s+2:u=(t-n)/s+4,s/=l<.5?o+i:2-o-i,u*=60):s=l>0&&l<1?0:u,new xe(u,s,l,e.opacity)}function fi(e,t,n,r){return arguments.length===1?or(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$t(xe,fi,ir(at,{brighter(e){return e=e==null?yt:Math.pow(yt,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?it:Math.pow(it,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ge(Et(e>=240?e-240:e+120,i,r),Et(e,i,r),Et(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xe(bn(this.h),ct(this.s),ct(this.l),_t(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_t(this.opacity);return`${e===1?"hsl(":"hsla("}${bn(this.h)}, ${ct(this.s)*100}%, ${ct(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bn(e){return e=(e||0)%360,e<0?e+360:e}function ct(e){return Math.max(0,Math.min(1,e||0))}function Et(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const en=e=>()=>e;function li(e,t){return function(n){return e+n*t}}function ci(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hi(e){return(e=+e)==1?ur:function(t,n){return n-t?ci(t,n,e):en(isNaN(t)?n:t)}}function ur(e,t){var n=t-e;return n?li(e,n):en(isNaN(e)?t:e)}const Tn=function e(t){var n=hi(t);function r(i,o){var u=n((i=Zt(i)).r,(o=Zt(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),a=ur(i.opacity,o.opacity);return function(m){return i.r=u(m),i.g=s(m),i.b=l(m),i.opacity=a(m),i+""}}return r.gamma=e,r}(1);function mi(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function gi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function di(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=tn(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(s){for(u=0;u<r;++u)o[u]=i[u](s);return o}}function pi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yi(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=tn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Bt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ft=new RegExp(Bt.source,"g");function _i(e){return function(){return e}}function xi(e){return function(t){return e(t)+""}}function wi(e,t){var n=Bt.lastIndex=Ft.lastIndex=0,r,i,o,u=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Bt.exec(e))&&(i=Ft.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[u]?s[u]+=o:s[++u]=o),(r=r[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:xt(r,i)})),n=Ft.lastIndex;return n<t.length&&(o=t.slice(n),s[u]?s[u]+=o:s[++u]=o),s.length<2?l[0]?xi(l[0].x):_i(t):(t=l.length,function(a){for(var m=0,f;m<t;++m)s[(f=l[m]).i]=f.x(a);return s.join("")})}function tn(e,t){var n=typeof t,r;return t==null||n==="boolean"?en(t):(n==="number"?xt:n==="string"?(r=ut(t))?(t=r,Tn):wi:t instanceof ut?Tn:t instanceof Date?pi:gi(t)?mi:Array.isArray(t)?di:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yi:xt)(e,t)}function Mi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Jt=Math.PI,Vt=2*Jt,Fe=1e-6,bi=Vt-Fe;function ar(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ti(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ar;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ar:Ti(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,s=this._y1,l=r-t,a=i-n,m=u-t,f=s-n,c=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>Fe)if(!(Math.abs(f*l-a*m)>Fe)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-u,x=i-s,M=l*l+a*a,L=v*v+x*x,R=Math.sqrt(M),W=Math.sqrt(c),N=o*Math.tan((Jt-Math.acos((M+c-L)/(2*R*W)))/2),k=N/W,Z=N/R;Math.abs(k-1)>Fe&&this._append`L${t+k*m},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*v>m*x)},${this._x1=t+Z*l},${this._y1=n+Z*a}`}}arc(t,n,r,i,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),a=t+s,m=n+l,f=1^u,c=u?i-o:o-i;this._x1===null?this._append`M${a},${m}`:(Math.abs(this._x1-a)>Fe||Math.abs(this._y1-m)>Fe)&&this._append`L${a},${m}`,r&&(c<0&&(c=c%Vt+Vt),c>bi?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=a},${this._y1=m}`:c>Fe&&this._append`A${r},${r},0,${+(c>=Jt)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var vn={},At={},Ht=34,Xe=10,Yt=13;function sr(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Ci(e,t){var n=sr(e);return function(r,i){return t(n(r),i,e)}}function Cn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function me(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function ki(e){return e<0?"-"+me(-e,6):e>9999?"+"+me(e,6):me(e,4)}function Ui(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":ki(e.getUTCFullYear())+"-"+me(e.getUTCMonth()+1,2)+"-"+me(e.getUTCDate(),2)+(i?"T"+me(t,2)+":"+me(n,2)+":"+me(r,2)+"."+me(i,3)+"Z":r?"T"+me(t,2)+":"+me(n,2)+":"+me(r,2)+"Z":n||t?"T"+me(t,2)+":"+me(n,2)+"Z":"")}function Di(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,c){var v,x,M=i(f,function(L,R){if(v)return v(L,R-1);x=L,v=c?Ci(L,c):sr(L)});return M.columns=x||[],M}function i(f,c){var v=[],x=f.length,M=0,L=0,R,W=x<=0,N=!1;f.charCodeAt(x-1)===Xe&&--x,f.charCodeAt(x-1)===Yt&&--x;function k(){if(W)return At;if(N)return N=!1,vn;var y,b=M,A;if(f.charCodeAt(b)===Ht){for(;M++<x&&f.charCodeAt(M)!==Ht||f.charCodeAt(++M)===Ht;);return(y=M)>=x?W=!0:(A=f.charCodeAt(M++))===Xe?N=!0:A===Yt&&(N=!0,f.charCodeAt(M)===Xe&&++M),f.slice(b+1,y-1).replace(/""/g,'"')}for(;M<x;){if((A=f.charCodeAt(y=M++))===Xe)N=!0;else if(A===Yt)N=!0,f.charCodeAt(M)===Xe&&++M;else if(A!==n)continue;return f.slice(b,y)}return W=!0,f.slice(b,x)}for(;(R=k())!==At;){for(var Z=[];R!==vn&&R!==At;)Z.push(R),R=k();c&&(Z=c(Z,L++))==null||v.push(Z)}return v}function o(f,c){return f.map(function(v){return c.map(function(x){return m(v[x])}).join(e)})}function u(f,c){return c==null&&(c=Cn(f)),[c.map(m).join(e)].concat(o(f,c)).join(`
`)}function s(f,c){return c==null&&(c=Cn(f)),o(f,c).join(`
`)}function l(f){return f.map(a).join(`
`)}function a(f){return f.map(m).join(e)}function m(f){return f==null?"":f instanceof Date?Ui(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:u,formatBody:s,formatRows:l,formatRow:a,formatValue:m}}var fr=Di(","),Ni=fr.parse,kn=fr.parseRows;function Si(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Be(e){return e=wt(Math.abs(e)),e?e[1]:NaN}function zi(e,t){return function(n,r){for(var i=n.length,o=[],u=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[u=(u+1)%e.length];return o.reverse().join(t)}}function Ei(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Fi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mt(e){if(!(t=Fi.exec(e)))throw new Error("invalid format: "+e);var t;return new nn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mt.prototype=nn.prototype;function nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ai(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lr;function Hi(e,t){var n=wt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(lr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wt(e,Math.max(0,t+o-1))[0]}function Un(e,t){var n=wt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Dn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Si,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Un(e*100,t),r:Un,s:Hi,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nn(e){return e}var Sn=Array.prototype.map,zn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yi(e){var t=e.grouping===void 0||e.thousands===void 0?Nn:zi(Sn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Nn:Ei(Sn.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function a(f){f=Mt(f);var c=f.fill,v=f.align,x=f.sign,M=f.symbol,L=f.zero,R=f.width,W=f.comma,N=f.precision,k=f.trim,Z=f.type;Z==="n"?(W=!0,Z="g"):Dn[Z]||(N===void 0&&(N=12),k=!0,Z="g"),(L||c==="0"&&v==="=")&&(L=!0,c="0",v="=");var y=M==="$"?n:M==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",b=M==="$"?r:/[%p]/.test(Z)?u:"",A=Dn[Z],H=/[defgprs%]/.test(Z);N=N===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function I(w){var B=y,E=b,re,z,q;if(Z==="c")E=A(w)+E,w="";else{w=+w;var P=w<0||1/w<0;if(w=isNaN(w)?l:A(Math.abs(w),N),k&&(w=Ai(w)),P&&+w==0&&x!=="+"&&(P=!1),B=(P?x==="("?x:s:x==="-"||x==="("?"":x)+B,E=(Z==="s"?zn[8+lr/3]:"")+E+(P&&x==="("?")":""),H){for(re=-1,z=w.length;++re<z;)if(q=w.charCodeAt(re),48>q||q>57){E=(q===46?i+w.slice(re+1):w.slice(re))+E,w=w.slice(0,re);break}}}W&&!L&&(w=t(w,1/0));var $=B.length+w.length+E.length,ee=$<R?new Array(R-$+1).join(c):"";switch(W&&L&&(w=t(ee+w,ee.length?R-E.length:1/0),ee=""),v){case"<":w=B+w+E+ee;break;case"=":w=B+ee+w+E;break;case"^":w=ee.slice(0,$=ee.length>>1)+B+w+E+ee.slice($);break;default:w=ee+B+w+E;break}return o(w)}return I.toString=function(){return f+""},I}function m(f,c){var v=a((f=Mt(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Be(c)/3)))*3,M=Math.pow(10,-x),L=zn[8+x/3];return function(R){return v(M*R)+L}}return{format:a,formatPrefix:m}}var ht,cr,hr;Li({thousands:",",grouping:[3],currency:["$",""]});function Li(e){return ht=Yi(e),cr=ht.format,hr=ht.formatPrefix,ht}function Ri(e){return Math.max(0,-Be(Math.abs(e)))}function Pi(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(t)/3)))*3-Be(Math.abs(e)))}function Oi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Be(t)-Be(e))+1}function mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e){return function(){return e}}function ji(e){return+e}var En=[0,1];function Ie(e){return e}function Xt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ii(isNaN(t)?NaN:.5)}function Wi(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qi(e,t,n){var r=e[0],i=e[1],o=t[0],u=t[1];return i<r?(r=Xt(i,r),o=n(u,o)):(r=Xt(r,i),o=n(o,u)),function(s){return o(r(s))}}function Zi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Xt(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(s){var l=Br(e,s,1,r)-1;return o[l](i[l](s))}}function gr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bi(){var e=En,t=En,n=tn,r,i,o,u=Ie,s,l,a;function m(){var c=Math.min(e.length,t.length);return u!==Ie&&(u=Wi(e[0],e[c-1])),s=c>2?Zi:qi,l=a=null,f}function f(c){return c==null||isNaN(c=+c)?o:(l||(l=s(e.map(r),t,n)))(r(u(c)))}return f.invert=function(c){return u(i((a||(a=s(t,e.map(r),xt)))(c)))},f.domain=function(c){return arguments.length?(e=Array.from(c,ji),m()):e.slice()},f.range=function(c){return arguments.length?(t=Array.from(c),m()):t.slice()},f.rangeRound=function(c){return t=Array.from(c),n=Mi,m()},f.clamp=function(c){return arguments.length?(u=c?!0:Ie,m()):u!==Ie},f.interpolate=function(c){return arguments.length?(n=c,m()):n},f.unknown=function(c){return arguments.length?(o=c,f):o},function(c,v){return r=c,i=v,m()}}function dr(){return Bi()(Ie,Ie)}function Ji(e,t,n,r){var i=qt(e,t,n),o;switch(r=Mt(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Pi(i,u))&&(r.precision=o),hr(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oi(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ri(i))&&(r.precision=o-(r.type==="%")*2);break}}return cr(r)}function Vi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ji(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,u=r[i],s=r[o],l,a,m=10;for(s<u&&(a=u,u=s,s=a,a=i,i=o,o=a);m-- >0;){if(a=Wt(u,s,n),a===l)return r[i]=u,r[o]=s,t(r);if(a>0)u=Math.floor(u/a)*a,s=Math.ceil(s/a)*a;else if(a<0)u=Math.ceil(u*a)/a,s=Math.floor(s*a)/a;else break;l=a}return e},e}function Gt(){var e=dr();return e.copy=function(){return gr(e,Gt())},mr.apply(e,arguments),Vi(e)}function Xi(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),e[n]=t.floor(i),e[r]=t.ceil(o),e}const Lt=new Date,Rt=new Date;function ue(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const u=i(o),s=i.ceil(o);return o-u<s-o?u:s},i.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<u)||!(s>0))return l;let a;do l.push(a=new Date(+o)),t(o,s),e(o);while(a<o&&o<u);return l},i.filter=o=>ue(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,s)=>{if(u>=u)if(s<0)for(;++s<=0;)for(;t(u,-1),!o(u););else for(;--s>=0;)for(;t(u,1),!o(u););}),n&&(i.count=(o,u)=>(Lt.setTime(+o),Rt.setTime(+u),e(Lt),e(Rt),Math.floor(n(Lt,Rt))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const bt=ue(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ue(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bt);bt.range;const Ce=1e3,ye=Ce*60,ke=ye*60,Ue=ke*24,rn=Ue*7,Fn=Ue*30,Pt=Ue*365,je=ue(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ce)},(e,t)=>(t-e)/Ce,e=>e.getUTCSeconds());je.range;const on=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getMinutes());on.range;const Gi=ue(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getUTCMinutes());Gi.range;const un=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ce-e.getMinutes()*ye)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getHours());un.range;const Qi=ue(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCHours());Qi.range;const st=ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ye)/Ue,e=>e.getDate()-1);st.range;const an=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ue,e=>e.getUTCDate()-1);an.range;const Ki=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ue,e=>Math.floor(e/Ue));Ki.range;function Le(e){return ue(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ye)/rn)}const Ct=Le(0),Tt=Le(1),$i=Le(2),eo=Le(3),Je=Le(4),to=Le(5),no=Le(6);Ct.range;Tt.range;$i.range;eo.range;Je.range;to.range;no.range;function Re(e){return ue(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rn)}const pr=Re(0),vt=Re(1),ro=Re(2),io=Re(3),Ve=Re(4),oo=Re(5),uo=Re(6);pr.range;vt.range;ro.range;io.range;Ve.range;oo.range;uo.range;const sn=ue(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sn.range;const ao=ue(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ao.range;const De=ue(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());De.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});De.range;const Ye=ue(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function so(e,t,n,r,i,o){const u=[[je,1,Ce],[je,5,5*Ce],[je,15,15*Ce],[je,30,30*Ce],[o,1,ye],[o,5,5*ye],[o,15,15*ye],[o,30,30*ye],[i,1,ke],[i,3,3*ke],[i,6,6*ke],[i,12,12*ke],[r,1,Ue],[r,2,2*Ue],[n,1,rn],[t,1,Fn],[t,3,3*Fn],[e,1,Pt]];function s(a,m,f){const c=m<a;c&&([a,m]=[m,a]);const v=f&&typeof f.range=="function"?f:l(a,m,f),x=v?v.range(a,+m+1):[];return c?x.reverse():x}function l(a,m,f){const c=Math.abs(m-a)/f,v=Kt(([,,L])=>L).right(u,c);if(v===u.length)return e.every(qt(a/Pt,m/Pt,f));if(v===0)return bt.every(Math.max(qt(a,m,f),1));const[x,M]=u[c/u[v-1][2]<u[v][2]/c?v-1:v];return x.every(M)}return[s,l]}const[fo,lo]=so(De,sn,Ct,st,un,on);function Ot(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function It(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ge(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function co(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,u=e.shortDays,s=e.months,l=e.shortMonths,a=Qe(i),m=Ke(i),f=Qe(o),c=Ke(o),v=Qe(u),x=Ke(u),M=Qe(s),L=Ke(s),R=Qe(l),W=Ke(l),N={a:P,A:$,b:ee,B:ie,c:null,d:Pn,e:Pn,f:Ho,g:Zo,G:Jo,H:Eo,I:Fo,j:Ao,L:yr,m:Yo,M:Lo,p:_,q:D,Q:jn,s:Wn,S:Ro,u:Po,U:Oo,V:Io,w:jo,W:Wo,x:null,X:null,y:qo,Y:Bo,Z:Vo,"%":In},k={a:Y,A:Q,b:V,B:te,c:null,d:On,e:On,f:Ko,g:su,G:lu,H:Xo,I:Go,j:Qo,L:xr,m:$o,M:eu,p,q:O,Q:jn,s:Wn,S:tu,u:nu,U:ru,V:iu,w:ou,W:uu,x:null,X:null,y:au,Y:fu,Z:cu,"%":In},Z={a:I,A:w,b:B,B:E,c:re,d:Ln,e:Ln,f:Do,g:Yn,G:Hn,H:Rn,I:Rn,j:vo,L:Uo,m:To,M:Co,p:H,q:bo,Q:So,s:zo,S:ko,u:yo,U:_o,V:xo,w:po,W:wo,x:z,X:q,y:Yn,Y:Hn,Z:Mo,"%":No};N.x=y(n,N),N.X=y(r,N),N.c=y(t,N),k.x=y(n,k),k.X=y(r,k),k.c=y(t,k);function y(d,S){return function(C){var h=[],K=-1,j=0,ne=d.length,g,U,F;for(C instanceof Date||(C=new Date(+C));++K<ne;)d.charCodeAt(K)===37&&(h.push(d.slice(j,K)),(U=An[g=d.charAt(++K)])!=null?g=d.charAt(++K):U=g==="e"?" ":"0",(F=S[g])&&(g=F(C,U)),h.push(g),j=K+1);return h.push(d.slice(j,K)),h.join("")}}function b(d,S){return function(C){var h=Ge(1900,void 0,1),K=A(h,d,C+="",0),j,ne;if(K!=C.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(h.s*1e3+("L"in h?h.L:0));if(S&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+h.p*12),h.m===void 0&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(j=It(Ge(h.y,0,1)),ne=j.getUTCDay(),j=ne>4||ne===0?vt.ceil(j):vt(j),j=an.offset(j,(h.V-1)*7),h.y=j.getUTCFullYear(),h.m=j.getUTCMonth(),h.d=j.getUTCDate()+(h.w+6)%7):(j=Ot(Ge(h.y,0,1)),ne=j.getDay(),j=ne>4||ne===0?Tt.ceil(j):Tt(j),j=st.offset(j,(h.V-1)*7),h.y=j.getFullYear(),h.m=j.getMonth(),h.d=j.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),ne="Z"in h?It(Ge(h.y,0,1)).getUTCDay():Ot(Ge(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+h.W*7-(ne+5)%7:h.w+h.U*7-(ne+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,It(h)):Ot(h)}}function A(d,S,C,h){for(var K=0,j=S.length,ne=C.length,g,U;K<j;){if(h>=ne)return-1;if(g=S.charCodeAt(K++),g===37){if(g=S.charAt(K++),U=Z[g in An?S.charAt(K++):g],!U||(h=U(d,C,h))<0)return-1}else if(g!=C.charCodeAt(h++))return-1}return h}function H(d,S,C){var h=a.exec(S.slice(C));return h?(d.p=m.get(h[0].toLowerCase()),C+h[0].length):-1}function I(d,S,C){var h=v.exec(S.slice(C));return h?(d.w=x.get(h[0].toLowerCase()),C+h[0].length):-1}function w(d,S,C){var h=f.exec(S.slice(C));return h?(d.w=c.get(h[0].toLowerCase()),C+h[0].length):-1}function B(d,S,C){var h=R.exec(S.slice(C));return h?(d.m=W.get(h[0].toLowerCase()),C+h[0].length):-1}function E(d,S,C){var h=M.exec(S.slice(C));return h?(d.m=L.get(h[0].toLowerCase()),C+h[0].length):-1}function re(d,S,C){return A(d,t,S,C)}function z(d,S,C){return A(d,n,S,C)}function q(d,S,C){return A(d,r,S,C)}function P(d){return u[d.getDay()]}function $(d){return o[d.getDay()]}function ee(d){return l[d.getMonth()]}function ie(d){return s[d.getMonth()]}function _(d){return i[+(d.getHours()>=12)]}function D(d){return 1+~~(d.getMonth()/3)}function Y(d){return u[d.getUTCDay()]}function Q(d){return o[d.getUTCDay()]}function V(d){return l[d.getUTCMonth()]}function te(d){return s[d.getUTCMonth()]}function p(d){return i[+(d.getUTCHours()>=12)]}function O(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(d){var S=y(d+="",N);return S.toString=function(){return d},S},parse:function(d){var S=b(d+="",!1);return S.toString=function(){return d},S},utcFormat:function(d){var S=y(d+="",k);return S.toString=function(){return d},S},utcParse:function(d){var S=b(d+="",!0);return S.toString=function(){return d},S}}}var An={"-":"",_:" ",0:"0"},se=/^\s*\d+/,ho=/^%/,mo=/[\\^$*+?|[\]().{}]/g;function G(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function go(e){return e.replace(mo,"\\$&")}function Qe(e){return new RegExp("^(?:"+e.map(go).join("|")+")","i")}function Ke(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function po(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yo(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _o(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wo(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yn(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mo(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bo(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function To(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ln(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vo(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Rn(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Co(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uo(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Do(e,t,n){var r=se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function No(e,t,n){var r=ho.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function So(e,t,n){var r=se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Pn(e,t){return G(e.getDate(),t,2)}function Eo(e,t){return G(e.getHours(),t,2)}function Fo(e,t){return G(e.getHours()%12||12,t,2)}function Ao(e,t){return G(1+st.count(De(e),e),t,3)}function yr(e,t){return G(e.getMilliseconds(),t,3)}function Ho(e,t){return yr(e,t)+"000"}function Yo(e,t){return G(e.getMonth()+1,t,2)}function Lo(e,t){return G(e.getMinutes(),t,2)}function Ro(e,t){return G(e.getSeconds(),t,2)}function Po(e){var t=e.getDay();return t===0?7:t}function Oo(e,t){return G(Ct.count(De(e)-1,e),t,2)}function _r(e){var t=e.getDay();return t>=4||t===0?Je(e):Je.ceil(e)}function Io(e,t){return e=_r(e),G(Je.count(De(e),e)+(De(e).getDay()===4),t,2)}function jo(e){return e.getDay()}function Wo(e,t){return G(Tt.count(De(e)-1,e),t,2)}function qo(e,t){return G(e.getFullYear()%100,t,2)}function Zo(e,t){return e=_r(e),G(e.getFullYear()%100,t,2)}function Bo(e,t){return G(e.getFullYear()%1e4,t,4)}function Jo(e,t){var n=e.getDay();return e=n>=4||n===0?Je(e):Je.ceil(e),G(e.getFullYear()%1e4,t,4)}function Vo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+G(t/60|0,"0",2)+G(t%60,"0",2)}function On(e,t){return G(e.getUTCDate(),t,2)}function Xo(e,t){return G(e.getUTCHours(),t,2)}function Go(e,t){return G(e.getUTCHours()%12||12,t,2)}function Qo(e,t){return G(1+an.count(Ye(e),e),t,3)}function xr(e,t){return G(e.getUTCMilliseconds(),t,3)}function Ko(e,t){return xr(e,t)+"000"}function $o(e,t){return G(e.getUTCMonth()+1,t,2)}function eu(e,t){return G(e.getUTCMinutes(),t,2)}function tu(e,t){return G(e.getUTCSeconds(),t,2)}function nu(e){var t=e.getUTCDay();return t===0?7:t}function ru(e,t){return G(pr.count(Ye(e)-1,e),t,2)}function wr(e){var t=e.getUTCDay();return t>=4||t===0?Ve(e):Ve.ceil(e)}function iu(e,t){return e=wr(e),G(Ve.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function ou(e){return e.getUTCDay()}function uu(e,t){return G(vt.count(Ye(e)-1,e),t,2)}function au(e,t){return G(e.getUTCFullYear()%100,t,2)}function su(e,t){return e=wr(e),G(e.getUTCFullYear()%100,t,2)}function fu(e,t){return G(e.getUTCFullYear()%1e4,t,4)}function lu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ve(e):Ve.ceil(e),G(e.getUTCFullYear()%1e4,t,4)}function cu(){return"+0000"}function In(){return"%"}function jn(e){return+e}function Wn(e){return Math.floor(+e/1e3)}var Oe,Mr;hu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hu(e){return Oe=co(e),Mr=Oe.format,Oe.parse,Oe.utcFormat,Oe.utcParse,Oe}function mu(e){return new Date(e)}function gu(e){return e instanceof Date?+e:+new Date(+e)}function br(e,t,n,r,i,o,u,s,l,a){var m=dr(),f=m.invert,c=m.domain,v=a(".%L"),x=a(":%S"),M=a("%I:%M"),L=a("%I %p"),R=a("%a %d"),W=a("%b %d"),N=a("%B"),k=a("%Y");function Z(y){return(l(y)<y?v:s(y)<y?x:u(y)<y?M:o(y)<y?L:r(y)<y?i(y)<y?R:W:n(y)<y?N:k)(y)}return m.invert=function(y){return new Date(f(y))},m.domain=function(y){return arguments.length?c(Array.from(y,gu)):c().map(mu)},m.ticks=function(y){var b=c();return e(b[0],b[b.length-1],y??10)},m.tickFormat=function(y,b){return b==null?Z:a(b)},m.nice=function(y){var b=c();return(!y||typeof y.range!="function")&&(y=t(b[0],b[b.length-1],y??10)),y?c(Xi(b,y)):m},m.copy=function(){return gr(m,br(e,t,n,r,i,o,u,s,l,a))},m}function du(){return mr.apply(br(fo,lo,De,sn,Ct,st,un,on,je,Mr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ae(e){return function(){return e}}function Tr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new vi(t)}function vr(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cr(e){this._context=e}Cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kr(e){return new Cr(e)}function Ur(e){return e[0]}function Dr(e){return e[1]}function pu(e,t){var n=ae(!0),r=null,i=kr,o=null,u=Tr(s);e=typeof e=="function"?e:e===void 0?Ur:ae(e),t=typeof t=="function"?t:t===void 0?Dr:ae(t);function s(l){var a,m=(l=vr(l)).length,f,c=!1,v;for(r==null&&(o=i(v=u())),a=0;a<=m;++a)!(a<m&&n(f=l[a],a,l))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+e(f,a,l),+t(f,a,l));if(v)return o=null,v+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ae(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ae(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ae(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function yu(e,t,n){var r=null,i=ae(!0),o=null,u=kr,s=null,l=Tr(a);e=typeof e=="function"?e:e===void 0?Ur:ae(+e),t=typeof t=="function"?t:ae(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Dr:ae(+n);function a(f){var c,v,x,M=(f=vr(f)).length,L,R=!1,W,N=new Array(M),k=new Array(M);for(o==null&&(s=u(W=l())),c=0;c<=M;++c){if(!(c<M&&i(L=f[c],c,f))===R)if(R=!R)v=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),x=c-1;x>=v;--x)s.point(N[x],k[x]);s.lineEnd(),s.areaEnd()}R&&(N[c]=+e(L,c,f),k[c]=+t(L,c,f),s.point(r?+r(L,c,f):N[c],n?+n(L,c,f):k[c]))}if(W)return s=null,W+""||null}function m(){return pu().defined(i).curve(u).context(o)}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:ae(+f),r=null,a):e},a.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ae(+f),a):e},a.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ae(+f),a):r},a.y=function(f){return arguments.length?(t=typeof f=="function"?f:ae(+f),n=null,a):t},a.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ae(+f),a):t},a.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ae(+f),a):n},a.lineX0=a.lineY0=function(){return m().x(e).y(t)},a.lineY1=function(){return m().x(e).y(n)},a.lineX1=function(){return m().x(r).y(t)},a.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ae(!!f),a):i},a.curve=function(f){return arguments.length?(u=f,o!=null&&(s=u(o)),a):u},a.context=function(f){return arguments.length?(f==null?o=s=null:s=u(o=f),a):o},a}function $e(e,t,n){this.k=e,this.x=t,this.y=n}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$e.prototype;function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nr={exports:{}};(function(e,t){(function(){var n=Math.PI,r=Math.sin,i=Math.cos,o=Math.tan,u=Math.asin,s=Math.atan2,l=Math.acos,a=n/180,m=1e3*60*60*24,f=2440588,c=2451545;function v(_){return _.valueOf()/m-.5+f}function x(_){return new Date((_+.5-f)*m)}function M(_){return v(_)-c}var L=a*23.4397;function R(_,D){return s(r(_)*i(L)-o(D)*r(L),i(_))}function W(_,D){return u(r(D)*i(L)+i(D)*r(L)*r(_))}function N(_,D,Y){return s(r(_),i(_)*r(D)-o(Y)*i(D))}function k(_,D,Y){return u(r(D)*r(Y)+i(D)*i(Y)*i(_))}function Z(_,D){return a*(280.16+360.9856235*_)-D}function y(_){return _<0&&(_=0),2967e-7/Math.tan(_+.00312536/(_+.08901179))}function b(_){return a*(357.5291+.98560028*_)}function A(_){var D=a*(1.9148*r(_)+.02*r(2*_)+3e-4*r(3*_)),Y=a*102.9372;return _+D+Y+n}function H(_){var D=b(_),Y=A(D);return{dec:W(Y,0),ra:R(Y,0)}}var I={};I.getPosition=function(_,D,Y){var Q=a*-Y,V=a*D,te=M(_),p=H(te),O=Z(te,Q)-p.ra;return{azimuth:N(O,V,p.dec),altitude:k(O,V,p.dec)}};var w=I.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];I.addTime=function(_,D,Y){w.push([_,D,Y])};var B=9e-4;function E(_,D){return Math.round(_-B-D/(2*n))}function re(_,D,Y){return B+(_+D)/(2*n)+Y}function z(_,D,Y){return c+_+.0053*r(D)-.0069*r(2*Y)}function q(_,D,Y){return l((r(_)-r(D)*r(Y))/(i(D)*i(Y)))}function P(_){return-2.076*Math.sqrt(_)/60}function $(_,D,Y,Q,V,te,p){var O=q(_,Y,Q),d=re(O,D,V);return z(d,te,p)}I.getTimes=function(_,D,Y,Q){Q=Q||0;var V=a*-Y,te=a*D,p=P(Q),O=M(_),d=E(O,V),S=re(0,V,d),C=b(S),h=A(C),K=W(h,0),j=z(S,C,h),ne,g,U,F,ce,we,he={solarNoon:x(j),nadir:x(j-.5)};for(ne=0,g=w.length;ne<g;ne+=1)U=w[ne],F=(U[0]+p)*a,ce=$(F,V,te,K,d,C,h),we=j-(ce-j),he[U[1]]=x(we),he[U[2]]=x(ce);return he};function ee(_){var D=a*(218.316+13.176396*_),Y=a*(134.963+13.064993*_),Q=a*(93.272+13.22935*_),V=D+a*6.289*r(Y),te=a*5.128*r(Q),p=385001-20905*i(Y);return{ra:R(V,te),dec:W(V,te),dist:p}}I.getMoonPosition=function(_,D,Y){var Q=a*-Y,V=a*D,te=M(_),p=ee(te),O=Z(te,Q)-p.ra,d=k(O,V,p.dec),S=s(r(O),o(V)*i(p.dec)-r(p.dec)*i(O));return d=d+y(d),{azimuth:N(O,V,p.dec),altitude:d,distance:p.dist,parallacticAngle:S}},I.getMoonIllumination=function(_){var D=M(_||new Date),Y=H(D),Q=ee(D),V=149598e3,te=l(r(Y.dec)*r(Q.dec)+i(Y.dec)*i(Q.dec)*i(Y.ra-Q.ra)),p=s(V*r(te),Q.dist-V*i(te)),O=s(i(Y.dec)*r(Y.ra-Q.ra),r(Y.dec)*i(Q.dec)-i(Y.dec)*r(Q.dec)*i(Y.ra-Q.ra));return{fraction:(1+i(p))/2,phase:.5+.5*p*(O<0?-1:1)/Math.PI,angle:O}};function ie(_,D){return new Date(_.valueOf()+D*m/24)}I.getMoonTimes=function(_,D,Y,Q){var V=new Date(_);Q?V.setUTCHours(0,0,0,0):V.setHours(0,0,0,0);for(var te=.133*a,p=I.getMoonPosition(V,D,Y).altitude-te,O,d,S,C,h,K,j,ne,g,U,F,ce,we,he=1;he<=24&&(O=I.getMoonPosition(ie(V,he),D,Y).altitude-te,d=I.getMoonPosition(ie(V,he+1),D,Y).altitude-te,h=(p+d)/2-O,K=(d-p)/2,j=-K/(2*h),ne=(h*j+K)*j+O,g=K*K-4*h*O,U=0,g>=0&&(we=Math.sqrt(g)/(Math.abs(h)*2),F=j-we,ce=j+we,Math.abs(F)<=1&&U++,Math.abs(ce)<=1&&U++,F<-1&&(F=ce)),U===1?p<0?S=he+F:C=he+F:U===2&&(S=he+(ne<0?ce:F),C=he+(ne<0?F:ce)),!(S&&C));he+=2)p=d;var Ne={};return S&&(Ne.rise=ie(V,S)),C&&(Ne.set=ie(V,C)),!S&&!C&&(Ne[ne>0?"alwaysUp":"alwaysDown"]=!0),Ne},e.exports=I})()})(Nr);var xu=Nr.exports;const mt=_u(xu);function qn(e,t,n){const r=e.slice();return r[35]=t[n],r}function Zn(e,t,n){const r=e.slice();return r[35]=t[n],r}function Bn(e,t,n){const r=e.slice();return r[40]=t[n],r}function Jn(e){let t,n=e[40]+"",r,i;return{c(){t=de("option"),r=qe(n),this.h()},l(o){t=pe(o,"OPTION",{});var u=oe(t);r=Ze(u,n),u.forEach(X),this.h()},h(){t.__value=i=e[40],dt(t,t.__value)},m(o,u){Me(o,t,u),J(t,r)},p(o,u){u[0]&1048576&&n!==(n=o[40]+"")&&rt(r,n),u[0]&1048576&&i!==(i=o[40])&&(t.__value=i,dt(t,t.__value))},d(o){o&&X(t)}}}function Vn(e,t){let n,r,i,o,u,s;return{key:e,first:null,c(){n=fe("line"),this.h()},l(l){n=le(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),oe(n).forEach(X),this.h()},h(){T(n,"class",r=et(`${t[17](t[35])?"midnight":""}`)+" svelte-13raic3"),T(n,"x1",i=t[7](t[35])),T(n,"x2",o=t[7](t[35])),T(n,"y1",u=t[8](0)),T(n,"y2",s=t[8](1)),this.first=n},m(l,a){Me(l,n,a)},p(l,a){t=l,a[0]&133120&&r!==(r=et(`${t[17](t[35])?"midnight":""}`)+" svelte-13raic3")&&T(n,"class",r),a[0]&2176&&i!==(i=t[7](t[35]))&&T(n,"x1",i),a[0]&2176&&o!==(o=t[7](t[35]))&&T(n,"x2",o),a[0]&256&&u!==(u=t[8](0))&&T(n,"y1",u),a[0]&256&&s!==(s=t[8](1))&&T(n,"y2",s)},d(l){l&&X(n)}}}function Xn(e,t){let n,r=t[18](t[35])+"",i,o,u;return{key:e,first:null,c(){n=fe("text"),i=qe(r),this.h()},l(s){n=le(s,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var l=oe(n);i=Ze(l,r),l.forEach(X),this.h()},h(){T(n,"x",o=t[7](t[35])),T(n,"y",u=t[8](1)),T(n,"dy","1em"),T(n,"text-anchor","start"),T(n,"class","svelte-13raic3"),this.first=n},m(s,l){Me(s,n,l),J(n,i)},p(s,l){t=s,l[0]&266240&&r!==(r=t[18](t[35])+"")&&rt(i,r),l[0]&4224&&o!==(o=t[7](t[35]))&&T(n,"x",o),l[0]&256&&u!==(u=t[8](1))&&T(n,"y",u)},d(s){s&&X(n)}}}function wu(e){let t,n,r,i,o,u,s,l,a,m,f,c,v,x,M,L,R,W,N,k=[],Z=new Map,y,b=[],A=new Map,H,I,w,B,E,re,z,q,P=e[19](e[10])+"",$,ee,ie,_,D=e[18](e[10])+"",Y,Q,V,te,p,O,d,S=Se(e[20]),C=[];for(let g=0;g<S.length;g+=1)C[g]=Jn(Bn(e,S,g));let h=Se(e[11]);const K=g=>g[35];for(let g=0;g<h.length;g+=1){let U=Zn(e,h,g),F=K(U);Z.set(F,k[g]=Vn(F,U))}let j=Se(e[12]);const ne=g=>g[35];for(let g=0;g<j.length;g+=1){let U=qn(e,j,g),F=ne(U);A.set(F,b[g]=Xn(F,U))}return{c(){t=de("div"),n=de("div"),r=de("input"),i=Te(),o=de("select");for(let g=0;g<C.length;g+=1)C[g].c();u=Te(),s=fe("svg"),l=fe("defs"),a=fe("linearGradient"),m=fe("stop"),f=fe("stop"),c=fe("g"),v=fe("g"),x=fe("g"),M=fe("path"),R=fe("path"),N=fe("g");for(let g=0;g<k.length;g+=1)k[g].c();y=cn();for(let g=0;g<b.length;g+=1)b[g].c();I=fe("g"),w=fe("line"),q=fe("text"),$=qe(P),_=fe("text"),Y=qe(D),this.h()},l(g){t=pe(g,"DIV",{class:!0});var U=oe(t);n=pe(U,"DIV",{class:!0});var F=oe(n);r=pe(F,"INPUT",{type:!0,class:!0,placeholder:!0}),i=ve(F),o=pe(F,"SELECT",{class:!0});var ce=oe(o);for(let _e=0;_e<C.length;_e+=1)C[_e].l(ce);ce.forEach(X),F.forEach(X),u=ve(U),s=le(U,"svg",{class:!0,height:!0});var we=oe(s);l=le(we,"defs",{});var he=oe(l);a=le(he,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var Ne=oe(a);m=le(Ne,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),oe(m).forEach(X),f=le(Ne,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),oe(f).forEach(X),Ne.forEach(X),he.forEach(X),c=le(we,"g",{class:!0,style:!0});var kt=oe(c);v=le(kt,"g",{class:!0,style:!0});var Ut=oe(v);x=le(Ut,"g",{class:!0});var Dt=oe(x);M=le(Dt,"path",{class:!0,d:!0}),oe(M).forEach(X),R=le(Dt,"path",{class:!0,d:!0}),oe(R).forEach(X),Dt.forEach(X),N=le(Ut,"g",{class:!0});var Nt=oe(N);for(let _e=0;_e<k.length;_e+=1)k[_e].l(Nt);y=cn();for(let _e=0;_e<b.length;_e+=1)b[_e].l(Nt);Nt.forEach(X),Ut.forEach(X),I=le(kt,"g",{class:!0});var ft=oe(I);w=le(ft,"line",{x1:!0,x2:!0,y1:!0,y2:!0,class:!0}),oe(w).forEach(X),q=le(ft,"text",{x:!0,y:!0,dy:!0,"text-anchor":!0,class:!0});var fn=oe(q);$=Ze(fn,P),fn.forEach(X),_=le(ft,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var ln=oe(_);Y=Ze(ln,D),ln.forEach(X),ft.forEach(X),kt.forEach(X),we.forEach(X),U.forEach(X),this.h()},h(){T(r,"type","search"),T(r,"class","search svelte-13raic3"),T(r,"placeholder","Search"),T(o,"class","timezone svelte-13raic3"),e[0]===void 0&&Sr(()=>e[29].call(o)),T(n,"class","svelte-13raic3"),T(m,"offset","0%"),T(m,"stop-color","rgb(255, 204, 0)"),T(m,"stop-opacity","0.3"),T(f,"offset","100%"),T(f,"stop-color","rgb(255, 204, 0)"),T(f,"stop-opacity","0.05"),T(a,"id","sun-gradient"),T(a,"x1","0%"),T(a,"y1","0%"),T(a,"x2","0%"),T(a,"y2","100%"),T(M,"class","area svelte-13raic3"),T(M,"d",L=e[14](e[13])),T(R,"class","outline svelte-13raic3"),T(R,"d",W=e[14].lineY1()(e[13])),T(x,"class","sun svelte-13raic3"),T(N,"class","ticks svelte-13raic3"),T(v,"class","timezone svelte-13raic3"),T(v,"style",H=`transform: translate(${e[7](0)-e[7](e[15])}px)`),T(w,"x1",B=e[7](e[10])),T(w,"x2",E=e[7](e[10])),T(w,"y1",re=e[8](0)),T(w,"y2",z=e[8](1)),T(w,"class","svelte-13raic3"),T(q,"x",ee=e[7](e[10])),T(q,"y",ie=e[8](0)),T(q,"dy",-2),T(q,"text-anchor","start"),T(q,"class","svelte-13raic3"),T(_,"x",Q=e[7](e[10])),T(_,"y",V=e[8](0)),T(_,"dx","-0.3em"),T(_,"dy",-2),T(_,"text-anchor","end"),T(_,"class","svelte-13raic3"),T(I,"class","now svelte-13raic3"),T(c,"class",et("timeline")+" svelte-13raic3"),T(c,"style",te=`transform: translate(${e[7](e[3])-e[7](e[4][0])}px)`),T(s,"class",p=et(`${e[16]?"animate":""}`)+" svelte-13raic3"),T(s,"height","3em"),T(t,"class","timezone svelte-13raic3")},m(g,U){Me(g,t,U),J(t,n),J(n,r),dt(r,e[6]),J(n,i),J(n,o);for(let F=0;F<C.length;F+=1)C[F]&&C[F].m(o,null);hn(o,e[0],!0),J(t,u),J(t,s),J(s,l),J(l,a),J(a,m),J(a,f),J(s,c),J(c,v),J(v,x),J(x,M),J(x,R),J(v,N);for(let F=0;F<k.length;F+=1)k[F]&&k[F].m(N,null);J(N,y);for(let F=0;F<b.length;F+=1)b[F]&&b[F].m(N,null);J(c,I),J(I,w),J(I,q),J(q,$),J(I,_),J(_,Y),e[30](s),O||(d=[ze(r,"input",e[28]),ze(r,"keydown",e[21]),ze(o,"change",e[29])],O=!0)},p(g,U){if(U[0]&64&&r.value!==g[6]&&dt(r,g[6]),U[0]&1048576){S=Se(g[20]);let F;for(F=0;F<S.length;F+=1){const ce=Bn(g,S,F);C[F]?C[F].p(ce,U):(C[F]=Jn(ce),C[F].c(),C[F].m(o,null))}for(;F<C.length;F+=1)C[F].d(1);C.length=S.length}U[0]&1048577&&hn(o,g[0]),U[0]&24576&&L!==(L=g[14](g[13]))&&T(M,"d",L),U[0]&24576&&W!==(W=g[14].lineY1()(g[13]))&&T(R,"d",W),U[0]&133504&&(h=Se(g[11]),k=gn(k,U,K,1,g,h,Z,N,mn,Vn,y,Zn)),U[0]&266624&&(j=Se(g[12]),b=gn(b,U,ne,1,g,j,A,N,mn,Xn,null,qn)),U[0]&32896&&H!==(H=`transform: translate(${g[7](0)-g[7](g[15])}px)`)&&T(v,"style",H),U[0]&1152&&B!==(B=g[7](g[10]))&&T(w,"x1",B),U[0]&1152&&E!==(E=g[7](g[10]))&&T(w,"x2",E),U[0]&256&&re!==(re=g[8](0))&&T(w,"y1",re),U[0]&256&&z!==(z=g[8](1))&&T(w,"y2",z),U[0]&525312&&P!==(P=g[19](g[10])+"")&&rt($,P),U[0]&1152&&ee!==(ee=g[7](g[10]))&&T(q,"x",ee),U[0]&256&&ie!==(ie=g[8](0))&&T(q,"y",ie),U[0]&263168&&D!==(D=g[18](g[10])+"")&&rt(Y,D),U[0]&1152&&Q!==(Q=g[7](g[10]))&&T(_,"x",Q),U[0]&256&&V!==(V=g[8](0))&&T(_,"y",V),U[0]&152&&te!==(te=`transform: translate(${g[7](g[3])-g[7](g[4][0])}px)`)&&T(c,"style",te),U[0]&65536&&p!==(p=et(`${g[16]?"animate":""}`)+" svelte-13raic3")&&T(s,"class",p)},i:tt,o:tt,d(g){g&&X(t),rr(C,g);for(let U=0;U<k.length;U+=1)k[U].d();for(let U=0;U<b.length;U+=1)b[U].d();e[30](null),O=!1,Qt(d)}}}function Mu(e,t,n){let r,i,o,u,s,l,a,m=tt,f=()=>(m(),m=St(ee,p=>n(26,a=p)),ee),c,v=tt,x=()=>(v(),v=St(N,p=>n(31,c=p)),N),M,L=tt,R=()=>(L(),L=St(W,p=>n(27,M=p)),W);e.$$.on_destroy.push(()=>m()),e.$$.on_destroy.push(()=>v()),e.$$.on_destroy.push(()=>L());let{timezoneNames:W}=t;R();let{timezones:N}=t;x();let{value:k=""}=t,Z="",{dropdownValue:y=k}=t;function b(p){r.includes(y)||n(0,y=r[0])}let{anchorTime:A=Date.now()}=t,{timeRange:H=[A,A+3*1e3*60*60*36]}=t;new Date().getTimezoneOffset()*60*1e3;let I=du(),w=Gt().domain([0,1]),B;function E(){B&&(I.range([0,B.clientWidth]),w.range([10,B.clientHeight-10])),n(7,I),n(3,A),n(25,i),n(4,H),n(15,o),n(10,z),n(22,k),n(27,M),n(0,y),n(8,w),n(24,D),n(13,_),n(8,w),n(23,ie),n(25,i),n(26,a),n(0,y),n(4,H),n(15,o),n(22,k),n(12,$),n(10,z),n(27,M)}let re=!1;$n(()=>(window.addEventListener("resize",E),E(),setTimeout(()=>{n(16,re=!0)},0),()=>{window.removeEventListener("resize",E)}));let z=Date.now();function q(p,O){var C,h,K;let d=p instanceof Date?p.getTime():p,S=(h=(C=c[O])==null?void 0:C.find(j=>j.time_start<=d))==null?void 0:h.gmt_offset;return(K=c[O])==null||K.find(j=>j.time_start<=d),S??0}setInterval(()=>{n(10,z=Date.now())},1e3);let P=[],$=[],{cities:ee=Ee([])}=t;f();let ie,_=[],D=Gt(),Y=yu();function Q(){Z=this.value,n(6,Z)}function V(){y=Er(this),n(0,y),n(20,r),n(27,M),n(6,Z)}function te(p){er[p?"unshift":"push"](()=>{B=p,n(9,B)})}return e.$$set=p=>{"timezoneNames"in p&&R(n(1,W=p.timezoneNames)),"timezones"in p&&x(n(2,N=p.timezones)),"value"in p&&n(22,k=p.value),"dropdownValue"in p&&n(0,y=p.dropdownValue),"anchorTime"in p&&n(3,A=p.anchorTime),"timeRange"in p&&n(4,H=p.timeRange),"cities"in p&&f(n(5,ee=p.cities))},e.$$.update=()=>{if(e.$$.dirty[0]&134217729&&n(22,k=M[y]),e.$$.dirty[0]&134217792&&n(20,r=Object.keys(M).filter(p=>Z.trim()==""?!0:p.toLowerCase().includes(Z.trim().toLowerCase()))),e.$$.dirty[0]&4195328&&n(15,o=q(z,k)),e.$$.dirty[0]&32784&&n(25,i=H.map(p=>p+o)),e.$$.dirty[0]&33554568){let p=[A,i[1]+A-i[0]];I.domain(p),n(7,I),n(3,A),n(25,i),n(4,H),n(15,o),n(10,z),n(22,k),n(27,M),n(0,y)}if(e.$$.dirty[0]&4194304&&n(19,u=Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric",timeZone:k}).format),e.$$.dirty[0]&4194304&&n(18,s=Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",timeZone:k}).format),e.$$.dirty[0]&33556480){n(11,P=[]);const p=1e3*60*60;let O=Math.floor(i[0]/p)*p;for(let d=O;d<i[1]+p;d+=p)P.push(d)}if(e.$$.dirty[0]&37752832){n(12,$=[]);const p=1e3*60*60*24;let O=i[0];O=Math.floor((O-q(O,k))/p)*p;for(let d=O;d<i[1]+p;d+=p)$.push(d)}if(e.$$.dirty[0]&67108865){let p=a.find(O=>O.capital=="primary"&&O.country.toLowerCase()==(y==null?void 0:y.toLowerCase()));if(!p){let O=y==null?void 0:y.split("/")[1];O=O==null?void 0:O.replace(/_/g," "),p=a.find(d=>d.city_ascii.toLowerCase()==(O==null?void 0:O.toLowerCase()))}p?n(23,ie=[p.lat,p.lng]):n(23,ie=void 0)}if(e.$$.dirty[0]&41951232&&(n(13,_=[]),ie))for(let O=i[0];O<i[1]+864e5;O+=864e5){let d=mt.getTimes(O,ie[0],ie[1]),S=d.sunrise.getTime(),C=d.sunset.getTime(),h=d.solarNoon.getTime();_.push([S-1,null]);const K=15;for(let g=S;g<C;g+=1e3*60*K){let U=mt.getPosition(g,ie[0],ie[1]);if(_.push([g,U.altitude]),g<=h&&h<=g+1e3*60*K){let F=mt.getPosition(new Date(h),ie[0],ie[1]);_.push([h,F.altitude])}}let j=C,ne=mt.getPosition(j,ie[0],ie[1]);_.push([j,ne.altitude]),_.push([C+1,null])}e.$$.dirty[0]&16785664&&(D.domain([Qr(_,p=>p[1]),Math.PI/2]),D.range([w(1),w(0)]),n(24,D),n(13,_),n(8,w),n(23,ie),n(25,i),n(26,a),n(0,y),n(4,H),n(15,o),n(22,k),n(12,$),n(10,z),n(27,M)),e.$$.dirty[0]&16827008&&(Y.x(p=>I(p[0]+o)).y0((B==null?void 0:B.clientHeight)||10).y1(p=>D(p[1])).defined(p=>p[1]!==null),n(14,Y),n(7,I),n(15,o),n(9,B),n(24,D),n(3,A),n(25,i),n(10,z),n(22,k),n(13,_),n(8,w),n(4,H),n(27,M),n(0,y),n(23,ie),n(26,a),n(12,$)),e.$$.dirty[0]&4096&&n(17,l=p=>$.includes(p))},[y,W,N,A,H,ee,Z,I,w,B,z,P,$,_,Y,o,re,l,s,u,r,b,k,ie,D,i,a,M,Q,V,te]}class bu extends tr{constructor(t){super(),nr(this,t,Mu,wu,Kn,{timezoneNames:1,timezones:2,value:22,dropdownValue:0,anchorTime:3,timeRange:4,cities:5},null,[-1,-1])}}function Gn(e,t,n){const r=e.slice();return r[19]=t[n],r[20]=t,r[21]=n,r}function Qn(e){let t,n,r;function i(u){e[14](u,e[19],e[20],e[21])}let o={timezoneNames:e[1],timezones:e[0],cities:e[2],anchorTime:e[6],timeRange:e[4]};return e[19]!==void 0&&(o.value=e[19]),t=new bu({props:o}),er.push(()=>Hr(t,"value",i)),{c(){Yr(t.$$.fragment)},l(u){Lr(t.$$.fragment,u)},m(u,s){Rr(t,u,s),r=!0},p(u,s){e=u;const l={};s&2&&(l.timezoneNames=e[1]),s&1&&(l.timezones=e[0]),s&4&&(l.cities=e[2]),s&16&&(l.timeRange=e[4]),!n&&s&8&&(n=!0,l.value=e[19],zr(()=>n=!1)),t.$set(l)},i(u){r||(nt(t.$$.fragment,u),r=!0)},o(u){jt(t.$$.fragment,u),r=!1},d(u){Pr(t,u)}}}function Tu(e){let t,n,r,i="<<",o,u,s="<",l,a=new Date(e[4][0]).toLocaleString()+"",m,f,c,v=">",x,M,L=">>",R,W,N,k,Z="Add Timezone",y,b,A=`Cities data from <a href="https://simplemaps.com/data/world-cities">https://simplemaps.com/data/world-cities</a>.<br/>
Time zones from <a href="https://www.iana.org">https://www.iana.org</a> processed by <a href="https://timezonedb.com">https://timezonedb.com</a>`,H,I,w,B=Se(e[3]),E=[];for(let z=0;z<B.length;z+=1)E[z]=Qn(Gn(e,B,z));const re=z=>jt(E[z],1,1,()=>{E[z]=null});return{c(){t=qe(`

A simple way to coordinate cross-timezone events.

`),n=de("p"),r=de("button"),r.textContent=i,o=Te(),u=de("button"),u.textContent=s,l=Te(),m=qe(a),f=Te(),c=de("button"),c.textContent=v,x=Te(),M=de("button"),M.textContent=L,R=Te(),W=de("p");for(let z=0;z<E.length;z+=1)E[z].c();N=Te(),k=de("button"),k.textContent=Z,y=Te(),b=de("p"),b.innerHTML=A,this.h()},l(z){Fr("svelte-rguy8y",document.head).forEach(X),t=Ze(z,`

A simple way to coordinate cross-timezone events.

`),n=pe(z,"P",{});var P=oe(n);r=pe(P,"BUTTON",{"data-svelte-h":!0}),Pe(r)!=="svelte-1wh109k"&&(r.textContent=i),o=ve(P),u=pe(P,"BUTTON",{"data-svelte-h":!0}),Pe(u)!=="svelte-8q1f0u"&&(u.textContent=s),l=ve(P),m=Ze(P,a),f=ve(P),c=pe(P,"BUTTON",{"data-svelte-h":!0}),Pe(c)!=="svelte-p2yix0"&&(c.textContent=v),x=ve(P),M=pe(P,"BUTTON",{"data-svelte-h":!0}),Pe(M)!=="svelte-al0ej"&&(M.textContent=L),P.forEach(X),R=ve(z),W=pe(z,"P",{});var $=oe(W);for(let ee=0;ee<E.length;ee+=1)E[ee].l($);N=ve($),k=pe($,"BUTTON",{"data-svelte-h":!0}),Pe(k)!=="svelte-1jawmqt"&&(k.textContent=Z),$.forEach(X),y=ve(z),b=pe(z,"P",{"data-svelte-h":!0}),Pe(b)!=="svelte-hqholg"&&(b.innerHTML=A),this.h()},h(){document.title="Cross-Timezone Events"},m(z,q){Me(z,t,q),Me(z,n,q),J(n,r),J(n,o),J(n,u),J(n,l),J(n,m),J(n,f),J(n,c),J(n,x),J(n,M),Me(z,R,q),Me(z,W,q);for(let P=0;P<E.length;P+=1)E[P]&&E[P].m(W,null);J(W,N),J(W,k),Me(z,y,q),Me(z,b,q),H=!0,I||(w=[ze(r,"click",e[10]),ze(u,"click",e[11]),ze(c,"click",e[12]),ze(M,"click",e[13]),ze(k,"click",e[15])],I=!0)},p(z,[q]){if((!H||q&16)&&a!==(a=new Date(z[4][0]).toLocaleString()+"")&&rt(m,a),q&95){B=Se(z[3]);let P;for(P=0;P<B.length;P+=1){const $=Gn(z,B,P);E[P]?(E[P].p($,q),nt(E[P],1)):(E[P]=Qn($),E[P].c(),nt(E[P],1),E[P].m(W,N))}for(Or(),P=B.length;P<E.length;P+=1)re(P);Ar()}},i(z){if(!H){for(let q=0;q<B.length;q+=1)nt(E[q]);H=!0}},o(z){E=E.filter(Boolean);for(let q=0;q<E.length;q+=1)jt(E[q]);H=!1},d(z){z&&(X(t),X(n),X(R),X(W),X(y),X(b)),rr(E,z),I=!1,Qt(w)}}}function vu(e,t,n){let r;async function i(){const b=await(await fetch(`${zt}/time_zone.csv`)).text(),A=kn(b);let H={};for(let I of A){let[w,B,E,re,z,q]=I;H[w]||(H[w]=[]),H[w].push({zone_name:w,country_code:B,abbreviation:E,time_start:+re*1e3,gmt_offset:+z*1e3,dst:q==="1"})}for(let I in H)H[I].sort((w,B)=>B.time_start-w.time_start);return n(0,a=Ee(H)),H}async function o(){const b=await(await fetch(`${zt}/country.csv`)).text(),A=kn(b);let H={};for(let I of A){let[w,B]=I;H[w]=B}return n(9,u=Ee(H)),H}let u=Ee({});async function s(){const b=await(await fetch(`${zt}/worldcities.csv`)).text(),A=Ni(b);return n(2,l=Ee(A)),A}let l=Ee([]),a=Ee({});$n(()=>{i(),o(),s()});const m=Intl.DateTimeFormat().resolvedOptions().timeZone;let f=[m],c=Date.now(),v=[c,c+3*24*60*60*1e3];function x(y){n(4,v=v.map(b=>b+y))}const M=24*60*60*1e3,L=()=>x(-7*M),R=()=>x(-M),W=()=>x(M),N=()=>x(7*M);function k(y,b,A,H){A[H]=y,n(3,f)}const Z=()=>n(3,f=[...f,m]);return e.$$.update=()=>{e.$$.dirty&513&&n(1,r=Ir([a,u],([y,b])=>{let A=Object.entries(b).map(([w,B])=>{var E;return[B,(E=Object.values(y).map(re=>re[0]).find(re=>re.country_code==w))==null?void 0:E.zone_name]}),H=[...Object.keys(y).map(w=>[w,w]),...A];return Object.fromEntries(H)}))},[a,r,l,f,v,m,c,x,M,u,L,R,W,N,k,Z]}class Du extends tr{constructor(t){super(),nr(this,t,vu,Tu,Kn,{})}}export{Du as component};
